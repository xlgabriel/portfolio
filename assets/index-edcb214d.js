(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function YS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var F2={exports:{}},k0={},N2={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=Symbol.for("react.element"),Zk=Symbol.for("react.portal"),qk=Symbol.for("react.fragment"),eO=Symbol.for("react.strict_mode"),tO=Symbol.for("react.profiler"),nO=Symbol.for("react.provider"),iO=Symbol.for("react.context"),rO=Symbol.for("react.forward_ref"),sO=Symbol.for("react.suspense"),oO=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),dT=Symbol.iterator;function lO(t){return t===null||typeof t!="object"?null:(t=dT&&t[dT]||t["@@iterator"],typeof t=="function"?t:null)}var k2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O2=Object.assign,U2={};function Gc(t,e,n){this.props=t,this.context=e,this.refs=U2,this.updater=n||k2}Gc.prototype.isReactComponent={};Gc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H2(){}H2.prototype=Gc.prototype;function $S(t,e,n){this.props=t,this.context=e,this.refs=U2,this.updater=n||k2}var QS=$S.prototype=new H2;QS.constructor=$S;O2(QS,Gc.prototype);QS.isPureReactComponent=!0;var pT=Array.isArray,z2=Object.prototype.hasOwnProperty,ZS={current:null},G2={key:!0,ref:!0,__self:!0,__source:!0};function V2(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)z2.call(e,i)&&!G2.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ud,type:t,key:s,ref:o,props:r,_owner:ZS.current}}function uO(t,e){return{$$typeof:ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qS(t){return typeof t=="object"&&t!==null&&t.$$typeof===ud}function cO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mT=/\/+/g;function Vv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cO(""+t.key):e.toString(36)}function ag(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ud:case Zk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Vv(o,0):i,pT(r)?(n="",t!=null&&(n=t.replace(mT,"$&/")+"/"),ag(r,e,n,"",function(u){return u})):r!=null&&(qS(r)&&(r=uO(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(mT,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",pT(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Vv(s,a);o+=ag(s,e,n,l,r)}else if(l=lO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Vv(s,a++),o+=ag(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vp(t,e,n){if(t==null)return t;var i=[],r=0;return ag(t,i,"","",function(s){return e.call(n,s,r++)}),i}function fO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Li={current:null},lg={transition:null},hO={ReactCurrentDispatcher:Li,ReactCurrentBatchConfig:lg,ReactCurrentOwner:ZS};Lt.Children={map:Vp,forEach:function(t,e,n){Vp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vp(t,function(){e++}),e},toArray:function(t){return Vp(t,function(e){return e})||[]},only:function(t){if(!qS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=Gc;Lt.Fragment=qk;Lt.Profiler=tO;Lt.PureComponent=$S;Lt.StrictMode=eO;Lt.Suspense=sO;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hO;Lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=O2({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ZS.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z2.call(e,l)&&!G2.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ud,type:t.type,key:r,ref:s,props:i,_owner:o}};Lt.createContext=function(t){return t={$$typeof:iO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nO,_context:t},t.Consumer=t};Lt.createElement=V2;Lt.createFactory=function(t){var e=V2.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:rO,render:t}};Lt.isValidElement=qS;Lt.lazy=function(t){return{$$typeof:aO,_payload:{_status:-1,_result:t},_init:fO}};Lt.memo=function(t,e){return{$$typeof:oO,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=lg.transition;lg.transition={};try{t()}finally{lg.transition=e}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(t,e){return Li.current.useCallback(t,e)};Lt.useContext=function(t){return Li.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return Li.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return Li.current.useEffect(t,e)};Lt.useId=function(){return Li.current.useId()};Lt.useImperativeHandle=function(t,e,n){return Li.current.useImperativeHandle(t,e,n)};Lt.useInsertionEffect=function(t,e){return Li.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return Li.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return Li.current.useMemo(t,e)};Lt.useReducer=function(t,e,n){return Li.current.useReducer(t,e,n)};Lt.useRef=function(t){return Li.current.useRef(t)};Lt.useState=function(t){return Li.current.useState(t)};Lt.useSyncExternalStore=function(t,e,n){return Li.current.useSyncExternalStore(t,e,n)};Lt.useTransition=function(){return Li.current.useTransition()};Lt.version="18.2.0";N2.exports=Lt;var j=N2.exports;const O0=YS(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO=j,pO=Symbol.for("react.element"),mO=Symbol.for("react.fragment"),gO=Object.prototype.hasOwnProperty,yO=dO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vO={key:!0,ref:!0,__self:!0,__source:!0};function W2(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)gO.call(e,i)&&!vO.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:pO,type:t,key:s,ref:o,props:r,_owner:yO.current}}k0.Fragment=mO;k0.jsx=W2;k0.jsxs=W2;F2.exports=k0;var J=F2.exports,L_={},j2={exports:{}},_r={},X2={exports:{}},J2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,z){var U=I.length;I.push(z);e:for(;0<U;){var Z=U-1>>>1,V=I[Z];if(0<r(V,z))I[Z]=z,I[U]=V,U=Z;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var z=I[0],U=I.pop();if(U!==z){I[0]=U;e:for(var Z=0,V=I.length,se=V>>>1;Z<se;){var ce=2*(Z+1)-1,Ae=I[ce],_e=ce+1,Pe=I[_e];if(0>r(Ae,U))_e<V&&0>r(Pe,Ae)?(I[Z]=Pe,I[_e]=U,Z=_e):(I[Z]=Ae,I[ce]=U,Z=ce);else if(_e<V&&0>r(Pe,U))I[Z]=Pe,I[_e]=U,Z=_e;else break e}}return z}function r(I,z){var U=I.sortIndex-z.sortIndex;return U!==0?U:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,v=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=I)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function E(I){if(M=!1,A(I),!v)if(n(l)!==null)v=!0,ae(C);else{var z=n(u);z!==null&&ne(E,z.startTime-I)}}function C(I,z){v=!1,M&&(M=!1,g(L),L=-1),m=!0;var U=p;try{for(A(z),d=n(l);d!==null&&(!(d.expirationTime>z)||I&&!H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var V=Z(d.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&i(l),A(z)}else i(l);d=n(l)}if(d!==null)var se=!0;else{var ce=n(u);ce!==null&&ne(E,ce.startTime-z),se=!1}return se}finally{d=null,p=U,m=!1}}var b=!1,B=null,L=-1,R=5,P=-1;function H(){return!(t.unstable_now()-P<R)}function ee(){if(B!==null){var I=t.unstable_now();P=I;var z=!0;try{z=B(!0,I)}finally{z?K():(b=!1,B=null)}}else b=!1}var K;if(typeof _=="function")K=function(){_(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=ee,K=function(){Y.postMessage(null)}}else K=function(){x(ee,0)};function ae(I){B=I,b||(b=!0,K())}function ne(I,z){L=x(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var U=p;p=z;try{return I()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return z()}finally{p=U}},t.unstable_scheduleCallback=function(I,z,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,I={id:h++,callback:z,priorityLevel:I,startTime:U,expirationTime:V,sortIndex:-1},U>Z?(I.sortIndex=U,e(u,I),n(l)===null&&I===n(u)&&(M?(g(L),L=-1):M=!0,ne(E,U-Z))):(I.sortIndex=V,e(l,I),v||m||(v=!0,ae(C))),I},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(I){var z=p;return function(){var U=p;p=z;try{return I.apply(this,arguments)}finally{p=U}}}})(J2);X2.exports=J2;var xO=X2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=j,yr=xO;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y2=new Set,wh={};function $l(t,e){Cc(t,e),Cc(t+"Capture",e)}function Cc(t,e){for(wh[t]=e,t=0;t<e.length;t++)Y2.add(e[t])}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I_=Object.prototype.hasOwnProperty,_O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gT={},yT={};function SO(t){return I_.call(yT,t)?!0:I_.call(gT,t)?!1:_O.test(t)?yT[t]=!0:(gT[t]=!0,!1)}function AO(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MO(t,e,n,i){if(e===null||typeof e>"u"||AO(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ii(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oi[t]=new Ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oi[e]=new Ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oi[t]=new Ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oi[t]=new Ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oi[t]=new Ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oi[t]=new Ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oi[t]=new Ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oi[t]=new Ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oi[t]=new Ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var eA=/[\-:]([a-z])/g;function tA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eA,tA);oi[e]=new Ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eA,tA);oi[e]=new Ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eA,tA);oi[e]=new Ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oi[t]=new Ii(t,1,!1,t.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oi[t]=new Ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function nA(t,e,n,i){var r=oi.hasOwnProperty(e)?oi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MO(e,n,r,i)&&(n=null),i||r===null?SO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ro=K2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wp=Symbol.for("react.element"),Ku=Symbol.for("react.portal"),Yu=Symbol.for("react.fragment"),iA=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),Q2=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),F_=Symbol.for("react.suspense"),N_=Symbol.for("react.suspense_list"),sA=Symbol.for("react.memo"),qo=Symbol.for("react.lazy"),Z2=Symbol.for("react.offscreen"),vT=Symbol.iterator;function Af(t){return t===null||typeof t!="object"?null:(t=vT&&t[vT]||t["@@iterator"],typeof t=="function"?t:null)}var vn=Object.assign,Wv;function Kf(t){if(Wv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wv=e&&e[1]||""}return`
`+Wv+t}var jv=!1;function Xv(t,e){if(!t||jv)return"";jv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kf(t):""}function EO(t){switch(t.tag){case 5:return Kf(t.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return t=Xv(t.type,!1),t;case 11:return t=Xv(t.type.render,!1),t;case 1:return t=Xv(t.type,!0),t;default:return""}}function k_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yu:return"Fragment";case Ku:return"Portal";case D_:return"Profiler";case iA:return"StrictMode";case F_:return"Suspense";case N_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q2:return(t.displayName||"Context")+".Consumer";case $2:return(t._context.displayName||"Context")+".Provider";case rA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sA:return e=t.displayName||null,e!==null?e:k_(t.type)||"Memo";case qo:e=t._payload,t=t._init;try{return k_(t(e))}catch{}}return null}function wO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k_(e);case 8:return e===iA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ma(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TO(t){var e=q2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jp(t){t._valueTracker||(t._valueTracker=TO(t))}function eB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q2(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function O_(t,e){var n=e.checked;return vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xT(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ma(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tB(t,e){e=e.checked,e!=null&&nA(t,"checked",e,!1)}function U_(t,e){tB(t,e);var n=Ma(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H_(t,e.type,n):e.hasOwnProperty("defaultValue")&&H_(t,e.type,Ma(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _T(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H_(t,e,n){(e!=="number"||Hg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yf=Array.isArray;function mc(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ma(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ST(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(we(92));if(Yf(n)){if(1<n.length)throw Error(we(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ma(n)}}function nB(t,e){var n=Ma(e.value),i=Ma(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function AT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xp,rB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Th(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CO=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){CO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function sB(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function oB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=sB(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var bO=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V_(t,e){if(e){if(bO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function W_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=null;function oA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var X_=null,gc=null,yc=null;function MT(t){if(t=hd(t)){if(typeof X_!="function")throw Error(we(280));var e=t.stateNode;e&&(e=V0(e),X_(t.stateNode,t.type,e))}}function aB(t){gc?yc?yc.push(t):yc=[t]:gc=t}function lB(){if(gc){var t=gc,e=yc;if(yc=gc=null,MT(t),e)for(t=0;t<e.length;t++)MT(e[t])}}function uB(t,e){return t(e)}function cB(){}var Jv=!1;function fB(t,e,n){if(Jv)return t(e,n);Jv=!0;try{return uB(t,e,n)}finally{Jv=!1,(gc!==null||yc!==null)&&(cB(),lB())}}function Ch(t,e){var n=t.stateNode;if(n===null)return null;var i=V0(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(we(231,e,typeof n));return n}var J_=!1;if(_o)try{var Mf={};Object.defineProperty(Mf,"passive",{get:function(){J_=!0}}),window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{J_=!1}function RO(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var oh=!1,zg=null,Gg=!1,K_=null,PO={onError:function(t){oh=!0,zg=t}};function BO(t,e,n,i,r,s,o,a,l){oh=!1,zg=null,RO.apply(PO,arguments)}function LO(t,e,n,i,r,s,o,a,l){if(BO.apply(this,arguments),oh){if(oh){var u=zg;oh=!1,zg=null}else throw Error(we(198));Gg||(Gg=!0,K_=u)}}function Ql(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ET(t){if(Ql(t)!==t)throw Error(we(188))}function IO(t){var e=t.alternate;if(!e){if(e=Ql(t),e===null)throw Error(we(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ET(r),t;if(s===i)return ET(r),e;s=s.sibling}throw Error(we(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==i)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?t:e}function dB(t){return t=IO(t),t!==null?pB(t):null}function pB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pB(t);if(e!==null)return e;t=t.sibling}return null}var mB=yr.unstable_scheduleCallback,wT=yr.unstable_cancelCallback,DO=yr.unstable_shouldYield,FO=yr.unstable_requestPaint,bn=yr.unstable_now,NO=yr.unstable_getCurrentPriorityLevel,aA=yr.unstable_ImmediatePriority,gB=yr.unstable_UserBlockingPriority,Vg=yr.unstable_NormalPriority,kO=yr.unstable_LowPriority,yB=yr.unstable_IdlePriority,U0=null,Ds=null;function OO(t){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(U0,t,void 0,(t.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:zO,UO=Math.log,HO=Math.LN2;function zO(t){return t>>>=0,t===0?32:31-(UO(t)/HO|0)|0}var Jp=64,Kp=4194304;function $f(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wg(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=$f(a):(s&=o,s!==0&&(i=$f(s)))}else o=n&~r,o!==0?i=$f(o):s!==0&&(i=$f(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-os(e),r=1<<n,i|=t[n],e&=~r;return i}function GO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-os(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=GO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Y_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vB(){var t=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),t}function Kv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-os(e),t[e]=n}function WO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-os(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function lA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-os(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Xt=0;function xB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _B,uA,SB,AB,MB,$_=!1,Yp=[],la=null,ua=null,ca=null,bh=new Map,Rh=new Map,na=[],jO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TT(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(e.pointerId)}}function Ef(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=hd(e),e!==null&&uA(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function XO(t,e,n,i,r){switch(e){case"focusin":return la=Ef(la,t,e,n,i,r),!0;case"dragenter":return ua=Ef(ua,t,e,n,i,r),!0;case"mouseover":return ca=Ef(ca,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return bh.set(s,Ef(bh.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Rh.set(s,Ef(Rh.get(s)||null,t,e,n,i,r)),!0}return!1}function EB(t){var e=vl(t.target);if(e!==null){var n=Ql(e);if(n!==null){if(e=n.tag,e===13){if(e=hB(n),e!==null){t.blockedOn=e,MB(t.priority,function(){SB(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ug(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Q_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);j_=i,n.target.dispatchEvent(i),j_=null}else return e=hd(n),e!==null&&uA(e),t.blockedOn=n,!1;e.shift()}return!0}function CT(t,e,n){ug(t)&&n.delete(e)}function JO(){$_=!1,la!==null&&ug(la)&&(la=null),ua!==null&&ug(ua)&&(ua=null),ca!==null&&ug(ca)&&(ca=null),bh.forEach(CT),Rh.forEach(CT)}function wf(t,e){t.blockedOn===e&&(t.blockedOn=null,$_||($_=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,JO)))}function Ph(t){function e(r){return wf(r,t)}if(0<Yp.length){wf(Yp[0],t);for(var n=1;n<Yp.length;n++){var i=Yp[n];i.blockedOn===t&&(i.blockedOn=null)}}for(la!==null&&wf(la,t),ua!==null&&wf(ua,t),ca!==null&&wf(ca,t),bh.forEach(e),Rh.forEach(e),n=0;n<na.length;n++)i=na[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)EB(n),n.blockedOn===null&&na.shift()}var vc=Ro.ReactCurrentBatchConfig,jg=!0;function KO(t,e,n,i){var r=Xt,s=vc.transition;vc.transition=null;try{Xt=1,cA(t,e,n,i)}finally{Xt=r,vc.transition=s}}function YO(t,e,n,i){var r=Xt,s=vc.transition;vc.transition=null;try{Xt=4,cA(t,e,n,i)}finally{Xt=r,vc.transition=s}}function cA(t,e,n,i){if(jg){var r=Q_(t,e,n,i);if(r===null)rx(t,e,i,Xg,n),TT(t,i);else if(XO(r,t,e,n,i))i.stopPropagation();else if(TT(t,i),e&4&&-1<jO.indexOf(t)){for(;r!==null;){var s=hd(r);if(s!==null&&_B(s),s=Q_(t,e,n,i),s===null&&rx(t,e,i,Xg,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else rx(t,e,i,null,n)}}var Xg=null;function Q_(t,e,n,i){if(Xg=null,t=oA(i),t=vl(t),t!==null)if(e=Ql(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hB(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xg=t,null}function wB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NO()){case aA:return 1;case gB:return 4;case Vg:case kO:return 16;case yB:return 536870912;default:return 16}default:return 16}}var ra=null,fA=null,cg=null;function TB(){if(cg)return cg;var t,e=fA,n=e.length,i,r="value"in ra?ra.value:ra.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return cg=r.slice(t,1<i?1-i:void 0)}function fg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $p(){return!0}function bT(){return!1}function Sr(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$p:bT,this.isPropagationStopped=bT,this}return vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$p)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$p)},persist:function(){},isPersistent:$p}),e}var Vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hA=Sr(Vc),fd=vn({},Vc,{view:0,detail:0}),$O=Sr(fd),Yv,$v,Tf,H0=vn({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tf&&(Tf&&t.type==="mousemove"?(Yv=t.screenX-Tf.screenX,$v=t.screenY-Tf.screenY):$v=Yv=0,Tf=t),Yv)},movementY:function(t){return"movementY"in t?t.movementY:$v}}),RT=Sr(H0),QO=vn({},H0,{dataTransfer:0}),ZO=Sr(QO),qO=vn({},fd,{relatedTarget:0}),Qv=Sr(qO),eU=vn({},Vc,{animationName:0,elapsedTime:0,pseudoElement:0}),tU=Sr(eU),nU=vn({},Vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iU=Sr(nU),rU=vn({},Vc,{data:0}),PT=Sr(rU),sU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aU[t])?!!e[t]:!1}function dA(){return lU}var uU=vn({},fd,{key:function(t){if(t.key){var e=sU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dA,charCode:function(t){return t.type==="keypress"?fg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cU=Sr(uU),fU=vn({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BT=Sr(fU),hU=vn({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dA}),dU=Sr(hU),pU=vn({},Vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),mU=Sr(pU),gU=vn({},H0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yU=Sr(gU),vU=[9,13,27,32],pA=_o&&"CompositionEvent"in window,ah=null;_o&&"documentMode"in document&&(ah=document.documentMode);var xU=_o&&"TextEvent"in window&&!ah,CB=_o&&(!pA||ah&&8<ah&&11>=ah),LT=String.fromCharCode(32),IT=!1;function bB(t,e){switch(t){case"keyup":return vU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $u=!1;function _U(t,e){switch(t){case"compositionend":return RB(e);case"keypress":return e.which!==32?null:(IT=!0,LT);case"textInput":return t=e.data,t===LT&&IT?null:t;default:return null}}function SU(t,e){if($u)return t==="compositionend"||!pA&&bB(t,e)?(t=TB(),cg=fA=ra=null,$u=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CB&&e.locale!=="ko"?null:e.data;default:return null}}var AU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AU[t.type]:e==="textarea"}function PB(t,e,n,i){aB(i),e=Jg(e,"onChange"),0<e.length&&(n=new hA("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lh=null,Bh=null;function MU(t){zB(t,0)}function z0(t){var e=qu(t);if(eB(e))return t}function EU(t,e){if(t==="change")return e}var BB=!1;if(_o){var Zv;if(_o){var qv="oninput"in document;if(!qv){var FT=document.createElement("div");FT.setAttribute("oninput","return;"),qv=typeof FT.oninput=="function"}Zv=qv}else Zv=!1;BB=Zv&&(!document.documentMode||9<document.documentMode)}function NT(){lh&&(lh.detachEvent("onpropertychange",LB),Bh=lh=null)}function LB(t){if(t.propertyName==="value"&&z0(Bh)){var e=[];PB(e,Bh,t,oA(t)),fB(MU,e)}}function wU(t,e,n){t==="focusin"?(NT(),lh=e,Bh=n,lh.attachEvent("onpropertychange",LB)):t==="focusout"&&NT()}function TU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return z0(Bh)}function CU(t,e){if(t==="click")return z0(e)}function bU(t,e){if(t==="input"||t==="change")return z0(e)}function RU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:RU;function Lh(t,e){if(cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!I_.call(e,r)||!cs(t[r],e[r]))return!1}return!0}function kT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var n=kT(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kT(n)}}function IB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DB(){for(var t=window,e=Hg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hg(t.document)}return e}function mA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PU(t){var e=DB(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IB(n.ownerDocument.documentElement,n)){if(i!==null&&mA(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=OT(n,s);var o=OT(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BU=_o&&"documentMode"in document&&11>=document.documentMode,Qu=null,Z_=null,uh=null,q_=!1;function UT(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q_||Qu==null||Qu!==Hg(i)||(i=Qu,"selectionStart"in i&&mA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uh&&Lh(uh,i)||(uh=i,i=Jg(Z_,"onSelect"),0<i.length&&(e=new hA("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Qu)))}function Qp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zu={animationend:Qp("Animation","AnimationEnd"),animationiteration:Qp("Animation","AnimationIteration"),animationstart:Qp("Animation","AnimationStart"),transitionend:Qp("Transition","TransitionEnd")},ex={},FB={};_o&&(FB=document.createElement("div").style,"AnimationEvent"in window||(delete Zu.animationend.animation,delete Zu.animationiteration.animation,delete Zu.animationstart.animation),"TransitionEvent"in window||delete Zu.transitionend.transition);function G0(t){if(ex[t])return ex[t];if(!Zu[t])return t;var e=Zu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FB)return ex[t]=e[n];return t}var NB=G0("animationend"),kB=G0("animationiteration"),OB=G0("animationstart"),UB=G0("transitionend"),HB=new Map,HT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(t,e){HB.set(t,e),$l(e,[t])}for(var tx=0;tx<HT.length;tx++){var nx=HT[tx],LU=nx.toLowerCase(),IU=nx[0].toUpperCase()+nx.slice(1);La(LU,"on"+IU)}La(NB,"onAnimationEnd");La(kB,"onAnimationIteration");La(OB,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(UB,"onTransitionEnd");Cc("onMouseEnter",["mouseout","mouseover"]);Cc("onMouseLeave",["mouseout","mouseover"]);Cc("onPointerEnter",["pointerout","pointerover"]);Cc("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function zT(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,LO(i,e,void 0,t),t.currentTarget=null}function zB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;zT(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;zT(r,a,u),s=l}}}if(Gg)throw t=K_,Gg=!1,K_=null,t}function tn(t,e){var n=e[r1];n===void 0&&(n=e[r1]=new Set);var i=t+"__bubble";n.has(i)||(GB(e,t,2,!1),n.add(i))}function ix(t,e,n){var i=0;e&&(i|=4),GB(n,t,i,e)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function Ih(t){if(!t[Zp]){t[Zp]=!0,Y2.forEach(function(n){n!=="selectionchange"&&(DU.has(n)||ix(n,!1,t),ix(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zp]||(e[Zp]=!0,ix("selectionchange",!1,e))}}function GB(t,e,n,i){switch(wB(e)){case 1:var r=KO;break;case 4:r=YO;break;default:r=cA}n=r.bind(null,e,n,t),r=void 0,!J_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function rx(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=vl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}fB(function(){var u=s,h=oA(n),d=[];e:{var p=HB.get(t);if(p!==void 0){var m=hA,v=t;switch(t){case"keypress":if(fg(n)===0)break e;case"keydown":case"keyup":m=cU;break;case"focusin":v="focus",m=Qv;break;case"focusout":v="blur",m=Qv;break;case"beforeblur":case"afterblur":m=Qv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dU;break;case NB:case kB:case OB:m=tU;break;case UB:m=mU;break;case"scroll":m=$O;break;case"wheel":m=yU;break;case"copy":case"cut":case"paste":m=iU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=BT}var M=(e&4)!==0,x=!M&&t==="scroll",g=M?p!==null?p+"Capture":null:p;M=[];for(var _=u,A;_!==null;){A=_;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,g!==null&&(E=Ch(_,g),E!=null&&M.push(Dh(_,E,A)))),x)break;_=_.return}0<M.length&&(p=new m(p,v,null,n,h),d.push({event:p,listeners:M}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==j_&&(v=n.relatedTarget||n.fromElement)&&(vl(v)||v[So]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?vl(v):null,v!==null&&(x=Ql(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(M=RT,E="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(M=BT,E="onPointerLeave",g="onPointerEnter",_="pointer"),x=m==null?p:qu(m),A=v==null?p:qu(v),p=new M(E,_+"leave",m,n,h),p.target=x,p.relatedTarget=A,E=null,vl(h)===u&&(M=new M(g,_+"enter",v,n,h),M.target=A,M.relatedTarget=x,E=M),x=E,m&&v)t:{for(M=m,g=v,_=0,A=M;A;A=_u(A))_++;for(A=0,E=g;E;E=_u(E))A++;for(;0<_-A;)M=_u(M),_--;for(;0<A-_;)g=_u(g),A--;for(;_--;){if(M===g||g!==null&&M===g.alternate)break t;M=_u(M),g=_u(g)}M=null}else M=null;m!==null&&GT(d,p,m,M,!1),v!==null&&x!==null&&GT(d,x,v,M,!0)}}e:{if(p=u?qu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=EU;else if(DT(p))if(BB)C=bU;else{C=TU;var b=wU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=CU);if(C&&(C=C(t,u))){PB(d,C,n,h);break e}b&&b(t,p,u),t==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&H_(p,"number",p.value)}switch(b=u?qu(u):window,t){case"focusin":(DT(b)||b.contentEditable==="true")&&(Qu=b,Z_=u,uh=null);break;case"focusout":uh=Z_=Qu=null;break;case"mousedown":q_=!0;break;case"contextmenu":case"mouseup":case"dragend":q_=!1,UT(d,n,h);break;case"selectionchange":if(BU)break;case"keydown":case"keyup":UT(d,n,h)}var B;if(pA)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $u?bB(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(CB&&n.locale!=="ko"&&($u||L!=="onCompositionStart"?L==="onCompositionEnd"&&$u&&(B=TB()):(ra=h,fA="value"in ra?ra.value:ra.textContent,$u=!0)),b=Jg(u,L),0<b.length&&(L=new PT(L,t,null,n,h),d.push({event:L,listeners:b}),B?L.data=B:(B=RB(n),B!==null&&(L.data=B)))),(B=xU?_U(t,n):SU(t,n))&&(u=Jg(u,"onBeforeInput"),0<u.length&&(h=new PT("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=B))}zB(d,e)})}function Dh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jg(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ch(t,n),s!=null&&i.unshift(Dh(t,s,r)),s=Ch(t,e),s!=null&&i.push(Dh(t,s,r))),t=t.return}return i}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function GT(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Ch(n,s),l!=null&&o.unshift(Dh(n,l,a))):r||(l=Ch(n,s),l!=null&&o.push(Dh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FU=/\r\n?/g,NU=/\u0000|\uFFFD/g;function VT(t){return(typeof t=="string"?t:""+t).replace(FU,`
`).replace(NU,"")}function qp(t,e,n){if(e=VT(e),VT(t)!==e&&n)throw Error(we(425))}function Kg(){}var e1=null,t1=null;function n1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=typeof setTimeout=="function"?setTimeout:void 0,kU=typeof clearTimeout=="function"?clearTimeout:void 0,WT=typeof Promise=="function"?Promise:void 0,OU=typeof queueMicrotask=="function"?queueMicrotask:typeof WT<"u"?function(t){return WT.resolve(null).then(t).catch(UU)}:i1;function UU(t){setTimeout(function(){throw t})}function sx(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ph(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ph(e)}function fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Wc,Fh="__reactProps$"+Wc,So="__reactContainer$"+Wc,r1="__reactEvents$"+Wc,HU="__reactListeners$"+Wc,zU="__reactHandles$"+Wc;function vl(t){var e=t[Bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[So]||n[Bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jT(t);t!==null;){if(n=t[Bs])return n;t=jT(t)}return e}t=n,n=t.parentNode}return null}function hd(t){return t=t[Bs]||t[So],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function V0(t){return t[Fh]||null}var s1=[],ec=-1;function Ia(t){return{current:t}}function sn(t){0>ec||(t.current=s1[ec],s1[ec]=null,ec--)}function qt(t,e){ec++,s1[ec]=t.current,t.current=e}var Ea={},Si=Ia(Ea),Ji=Ia(!1),Ol=Ea;function bc(t,e){var n=t.type.contextTypes;if(!n)return Ea;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ki(t){return t=t.childContextTypes,t!=null}function Yg(){sn(Ji),sn(Si)}function XT(t,e,n){if(Si.current!==Ea)throw Error(we(168));qt(Si,e),qt(Ji,n)}function VB(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(we(108,wO(t)||"Unknown",r));return vn({},n,i)}function $g(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,Ol=Si.current,qt(Si,t),qt(Ji,Ji.current),!0}function JT(t,e,n){var i=t.stateNode;if(!i)throw Error(we(169));n?(t=VB(t,e,Ol),i.__reactInternalMemoizedMergedChildContext=t,sn(Ji),sn(Si),qt(Si,t)):sn(Ji),qt(Ji,n)}var so=null,W0=!1,ox=!1;function WB(t){so===null?so=[t]:so.push(t)}function GU(t){W0=!0,WB(t)}function Da(){if(!ox&&so!==null){ox=!0;var t=0,e=Xt;try{var n=so;for(Xt=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}so=null,W0=!1}catch(r){throw so!==null&&(so=so.slice(t+1)),mB(aA,Da),r}finally{Xt=e,ox=!1}}return null}var tc=[],nc=0,Qg=null,Zg=0,kr=[],Or=0,Ul=null,uo=1,co="";function ol(t,e){tc[nc++]=Zg,tc[nc++]=Qg,Qg=t,Zg=e}function jB(t,e,n){kr[Or++]=uo,kr[Or++]=co,kr[Or++]=Ul,Ul=t;var i=uo;t=co;var r=32-os(i)-1;i&=~(1<<r),n+=1;var s=32-os(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,uo=1<<32-os(e)+r|n<<r|i,co=s+t}else uo=1<<s|n<<r|i,co=t}function gA(t){t.return!==null&&(ol(t,1),jB(t,1,0))}function yA(t){for(;t===Qg;)Qg=tc[--nc],tc[nc]=null,Zg=tc[--nc],tc[nc]=null;for(;t===Ul;)Ul=kr[--Or],kr[Or]=null,co=kr[--Or],kr[Or]=null,uo=kr[--Or],kr[Or]=null}var mr=null,hr=null,ln=!1,rs=null;function XB(t,e){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,hr=fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ul!==null?{id:uo,overflow:co}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,hr=null,!0):!1;default:return!1}}function o1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function a1(t){if(ln){var e=hr;if(e){var n=e;if(!KT(t,e)){if(o1(t))throw Error(we(418));e=fa(n.nextSibling);var i=mr;e&&KT(t,e)?XB(i,n):(t.flags=t.flags&-4097|2,ln=!1,mr=t)}}else{if(o1(t))throw Error(we(418));t.flags=t.flags&-4097|2,ln=!1,mr=t}}}function YT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function em(t){if(t!==mr)return!1;if(!ln)return YT(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n1(t.type,t.memoizedProps)),e&&(e=hr)){if(o1(t))throw JB(),Error(we(418));for(;e;)XB(t,e),e=fa(e.nextSibling)}if(YT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=fa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=mr?fa(t.stateNode.nextSibling):null;return!0}function JB(){for(var t=hr;t;)t=fa(t.nextSibling)}function Rc(){hr=mr=null,ln=!1}function vA(t){rs===null?rs=[t]:rs.push(t)}var VU=Ro.ReactCurrentBatchConfig;function ts(t,e){if(t&&t.defaultProps){e=vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qg=Ia(null),e0=null,ic=null,xA=null;function _A(){xA=ic=e0=null}function SA(t){var e=qg.current;sn(qg),t._currentValue=e}function l1(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function xc(t,e){e0=t,xA=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xi=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(xA!==t)if(t={context:t,memoizedValue:e,next:null},ic===null){if(e0===null)throw Error(we(308));ic=t,e0.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return e}var xl=null;function AA(t){xl===null?xl=[t]:xl.push(t)}function KB(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,AA(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ao(t,i)}function Ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ea=!1;function MA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ha(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Nt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ao(t,n)}return r=i.interleaved,r===null?(e.next=e,AA(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ao(t,n)}function hg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lA(t,n)}}function $T(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function t0(t,e,n,i){var r=t.updateQueue;ea=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,M=a;switch(p=e,m=n,M.tag){case 1:if(v=M.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=M.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=vn({},d,p);break e;case 2:ea=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);zl|=o,t.lanes=o,t.memoizedState=d}}function QT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(we(191,r));r.call(i)}}}var $B=new K2.Component().refs;function u1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var j0={isMounted:function(t){return(t=t._reactInternals)?Ql(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Pi(),r=pa(t),s=mo(i,r);s.payload=e,n!=null&&(s.callback=n),e=ha(t,s,r),e!==null&&(as(e,t,r,i),hg(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Pi(),r=pa(t),s=mo(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ha(t,s,r),e!==null&&(as(e,t,r,i),hg(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pi(),i=pa(t),r=mo(n,i);r.tag=2,e!=null&&(r.callback=e),e=ha(t,r,i),e!==null&&(as(e,t,i,n),hg(e,t,i))}};function ZT(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lh(n,i)||!Lh(r,s):!0}function QB(t,e,n){var i=!1,r=Ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Vr(s):(r=Ki(e)?Ol:Si.current,i=e.contextTypes,s=(i=i!=null)?bc(t,r):Ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j0,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function qT(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&j0.enqueueReplaceState(e,e.state,null)}function c1(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=$B,MA(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Vr(s):(s=Ki(e)?Ol:Si.current,r.context=bc(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u1(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&j0.enqueueReplaceState(r,r.state,null),t0(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Cf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var i=n.stateNode}if(!i)throw Error(we(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===$B&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,t))}return t}function tm(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eC(t){var e=t._init;return e(t._payload)}function ZB(t){function e(g,_){if(t){var A=g.deletions;A===null?(g.deletions=[_],g.flags|=16):A.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function i(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function r(g,_){return g=ma(g,_),g.index=0,g.sibling=null,g}function s(g,_,A){return g.index=A,t?(A=g.alternate,A!==null?(A=A.index,A<_?(g.flags|=2,_):A):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,A,E){return _===null||_.tag!==6?(_=dx(A,g.mode,E),_.return=g,_):(_=r(_,A),_.return=g,_)}function l(g,_,A,E){var C=A.type;return C===Yu?h(g,_,A.props.children,E,A.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qo&&eC(C)===_.type)?(E=r(_,A.props),E.ref=Cf(g,_,A),E.return=g,E):(E=vg(A.type,A.key,A.props,null,g.mode,E),E.ref=Cf(g,_,A),E.return=g,E)}function u(g,_,A,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=px(A,g.mode,E),_.return=g,_):(_=r(_,A.children||[]),_.return=g,_)}function h(g,_,A,E,C){return _===null||_.tag!==7?(_=Ll(A,g.mode,E,C),_.return=g,_):(_=r(_,A),_.return=g,_)}function d(g,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=dx(""+_,g.mode,A),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wp:return A=vg(_.type,_.key,_.props,null,g.mode,A),A.ref=Cf(g,null,_),A.return=g,A;case Ku:return _=px(_,g.mode,A),_.return=g,_;case qo:var E=_._init;return d(g,E(_._payload),A)}if(Yf(_)||Af(_))return _=Ll(_,g.mode,A,null),_.return=g,_;tm(g,_)}return null}function p(g,_,A,E){var C=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(g,_,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wp:return A.key===C?l(g,_,A,E):null;case Ku:return A.key===C?u(g,_,A,E):null;case qo:return C=A._init,p(g,_,C(A._payload),E)}if(Yf(A)||Af(A))return C!==null?null:h(g,_,A,E,null);tm(g,A)}return null}function m(g,_,A,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(A)||null,a(_,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wp:return g=g.get(E.key===null?A:E.key)||null,l(_,g,E,C);case Ku:return g=g.get(E.key===null?A:E.key)||null,u(_,g,E,C);case qo:var b=E._init;return m(g,_,A,b(E._payload),C)}if(Yf(E)||Af(E))return g=g.get(A)||null,h(_,g,E,C,null);tm(_,E)}return null}function v(g,_,A,E){for(var C=null,b=null,B=_,L=_=0,R=null;B!==null&&L<A.length;L++){B.index>L?(R=B,B=null):R=B.sibling;var P=p(g,B,A[L],E);if(P===null){B===null&&(B=R);break}t&&B&&P.alternate===null&&e(g,B),_=s(P,_,L),b===null?C=P:b.sibling=P,b=P,B=R}if(L===A.length)return n(g,B),ln&&ol(g,L),C;if(B===null){for(;L<A.length;L++)B=d(g,A[L],E),B!==null&&(_=s(B,_,L),b===null?C=B:b.sibling=B,b=B);return ln&&ol(g,L),C}for(B=i(g,B);L<A.length;L++)R=m(B,g,L,A[L],E),R!==null&&(t&&R.alternate!==null&&B.delete(R.key===null?L:R.key),_=s(R,_,L),b===null?C=R:b.sibling=R,b=R);return t&&B.forEach(function(H){return e(g,H)}),ln&&ol(g,L),C}function M(g,_,A,E){var C=Af(A);if(typeof C!="function")throw Error(we(150));if(A=C.call(A),A==null)throw Error(we(151));for(var b=C=null,B=_,L=_=0,R=null,P=A.next();B!==null&&!P.done;L++,P=A.next()){B.index>L?(R=B,B=null):R=B.sibling;var H=p(g,B,P.value,E);if(H===null){B===null&&(B=R);break}t&&B&&H.alternate===null&&e(g,B),_=s(H,_,L),b===null?C=H:b.sibling=H,b=H,B=R}if(P.done)return n(g,B),ln&&ol(g,L),C;if(B===null){for(;!P.done;L++,P=A.next())P=d(g,P.value,E),P!==null&&(_=s(P,_,L),b===null?C=P:b.sibling=P,b=P);return ln&&ol(g,L),C}for(B=i(g,B);!P.done;L++,P=A.next())P=m(B,g,L,P.value,E),P!==null&&(t&&P.alternate!==null&&B.delete(P.key===null?L:P.key),_=s(P,_,L),b===null?C=P:b.sibling=P,b=P);return t&&B.forEach(function(ee){return e(g,ee)}),ln&&ol(g,L),C}function x(g,_,A,E){if(typeof A=="object"&&A!==null&&A.type===Yu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Wp:e:{for(var C=A.key,b=_;b!==null;){if(b.key===C){if(C=A.type,C===Yu){if(b.tag===7){n(g,b.sibling),_=r(b,A.props.children),_.return=g,g=_;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qo&&eC(C)===b.type){n(g,b.sibling),_=r(b,A.props),_.ref=Cf(g,b,A),_.return=g,g=_;break e}n(g,b);break}else e(g,b);b=b.sibling}A.type===Yu?(_=Ll(A.props.children,g.mode,E,A.key),_.return=g,g=_):(E=vg(A.type,A.key,A.props,null,g.mode,E),E.ref=Cf(g,_,A),E.return=g,g=E)}return o(g);case Ku:e:{for(b=A.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(g,_.sibling),_=r(_,A.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=px(A,g.mode,E),_.return=g,g=_}return o(g);case qo:return b=A._init,x(g,_,b(A._payload),E)}if(Yf(A))return v(g,_,A,E);if(Af(A))return M(g,_,A,E);tm(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(g,_.sibling),_=r(_,A),_.return=g,g=_):(n(g,_),_=dx(A,g.mode,E),_.return=g,g=_),o(g)):n(g,_)}return x}var Pc=ZB(!0),qB=ZB(!1),dd={},Fs=Ia(dd),Nh=Ia(dd),kh=Ia(dd);function _l(t){if(t===dd)throw Error(we(174));return t}function EA(t,e){switch(qt(kh,e),qt(Nh,t),qt(Fs,dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:G_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=G_(e,t)}sn(Fs),qt(Fs,e)}function Bc(){sn(Fs),sn(Nh),sn(kh)}function eL(t){_l(kh.current);var e=_l(Fs.current),n=G_(e,t.type);e!==n&&(qt(Nh,t),qt(Fs,n))}function wA(t){Nh.current===t&&(sn(Fs),sn(Nh))}var hn=Ia(0);function n0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ax=[];function TA(){for(var t=0;t<ax.length;t++)ax[t]._workInProgressVersionPrimary=null;ax.length=0}var dg=Ro.ReactCurrentDispatcher,lx=Ro.ReactCurrentBatchConfig,Hl=0,yn=null,On=null,Kn=null,i0=!1,ch=!1,Oh=0,WU=0;function gi(){throw Error(we(321))}function CA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function bA(t,e,n,i,r,s){if(Hl=s,yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dg.current=t===null||t.memoizedState===null?KU:YU,t=n(i,r),ch){s=0;do{if(ch=!1,Oh=0,25<=s)throw Error(we(301));s+=1,Kn=On=null,e.updateQueue=null,dg.current=$U,t=n(i,r)}while(ch)}if(dg.current=r0,e=On!==null&&On.next!==null,Hl=0,Kn=On=yn=null,i0=!1,e)throw Error(we(300));return t}function RA(){var t=Oh!==0;return Oh=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?yn.memoizedState=Kn=t:Kn=Kn.next=t,Kn}function Wr(){if(On===null){var t=yn.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Kn===null?yn.memoizedState:Kn.next;if(e!==null)Kn=e,On=t;else{if(t===null)throw Error(we(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Kn===null?yn.memoizedState=Kn=t:Kn=Kn.next=t}return Kn}function Uh(t,e){return typeof e=="function"?e(t):e}function ux(t){var e=Wr(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var i=On,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Hl&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,yn.lanes|=h,zl|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,cs(i,e.memoizedState)||(Xi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,yn.lanes|=s,zl|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cx(t){var e=Wr(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);cs(s,e.memoizedState)||(Xi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function tL(){}function nL(t,e){var n=yn,i=Wr(),r=e(),s=!cs(i.memoizedState,r);if(s&&(i.memoizedState=r,Xi=!0),i=i.queue,PA(sL.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Kn!==null&&Kn.memoizedState.tag&1){if(n.flags|=2048,Hh(9,rL.bind(null,n,i,r,e),void 0,null),$n===null)throw Error(we(349));Hl&30||iL(n,e,r)}return r}function iL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rL(t,e,n,i){e.value=n,e.getSnapshot=i,oL(e)&&aL(t)}function sL(t,e,n){return n(function(){oL(e)&&aL(t)})}function oL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cs(t,n)}catch{return!0}}function aL(t){var e=Ao(t,1);e!==null&&as(e,t,1,-1)}function tC(t){var e=Rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},e.queue=t,t=t.dispatch=JU.bind(null,yn,t),[e.memoizedState,t]}function Hh(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=yn.updateQueue,e===null?(e={lastEffect:null,stores:null},yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function lL(){return Wr().memoizedState}function pg(t,e,n,i){var r=Rs();yn.flags|=t,r.memoizedState=Hh(1|e,n,void 0,i===void 0?null:i)}function X0(t,e,n,i){var r=Wr();i=i===void 0?null:i;var s=void 0;if(On!==null){var o=On.memoizedState;if(s=o.destroy,i!==null&&CA(i,o.deps)){r.memoizedState=Hh(e,n,s,i);return}}yn.flags|=t,r.memoizedState=Hh(1|e,n,s,i)}function nC(t,e){return pg(8390656,8,t,e)}function PA(t,e){return X0(2048,8,t,e)}function uL(t,e){return X0(4,2,t,e)}function cL(t,e){return X0(4,4,t,e)}function fL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hL(t,e,n){return n=n!=null?n.concat([t]):null,X0(4,4,fL.bind(null,e,t),n)}function BA(){}function dL(t,e){var n=Wr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&CA(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function pL(t,e){var n=Wr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&CA(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function mL(t,e,n){return Hl&21?(cs(n,e)||(n=vB(),yn.lanes|=n,zl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xi=!0),t.memoizedState=n)}function jU(t,e){var n=Xt;Xt=n!==0&&4>n?n:4,t(!0);var i=lx.transition;lx.transition={};try{t(!1),e()}finally{Xt=n,lx.transition=i}}function gL(){return Wr().memoizedState}function XU(t,e,n){var i=pa(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},yL(t))vL(e,n);else if(n=KB(t,e,n,i),n!==null){var r=Pi();as(n,t,i,r),xL(n,e,i)}}function JU(t,e,n){var i=pa(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(yL(t))vL(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,cs(a,o)){var l=e.interleaved;l===null?(r.next=r,AA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=KB(t,e,r,i),n!==null&&(r=Pi(),as(n,t,i,r),xL(n,e,i))}}function yL(t){var e=t.alternate;return t===yn||e!==null&&e===yn}function vL(t,e){ch=i0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xL(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lA(t,n)}}var r0={readContext:Vr,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},KU={readContext:Vr,useCallback:function(t,e){return Rs().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:nC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pg(4194308,4,fL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pg(4194308,4,t,e)},useInsertionEffect:function(t,e){return pg(4,2,t,e)},useMemo:function(t,e){var n=Rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Rs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=XU.bind(null,yn,t),[i.memoizedState,t]},useRef:function(t){var e=Rs();return t={current:t},e.memoizedState=t},useState:tC,useDebugValue:BA,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=tC(!1),e=t[0];return t=jU.bind(null,t[1]),Rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=yn,r=Rs();if(ln){if(n===void 0)throw Error(we(407));n=n()}else{if(n=e(),$n===null)throw Error(we(349));Hl&30||iL(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,nC(sL.bind(null,i,s,t),[t]),i.flags|=2048,Hh(9,rL.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Rs(),e=$n.identifierPrefix;if(ln){var n=co,i=uo;n=(i&~(1<<32-os(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YU={readContext:Vr,useCallback:dL,useContext:Vr,useEffect:PA,useImperativeHandle:hL,useInsertionEffect:uL,useLayoutEffect:cL,useMemo:pL,useReducer:ux,useRef:lL,useState:function(){return ux(Uh)},useDebugValue:BA,useDeferredValue:function(t){var e=Wr();return mL(e,On.memoizedState,t)},useTransition:function(){var t=ux(Uh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:tL,useSyncExternalStore:nL,useId:gL,unstable_isNewReconciler:!1},$U={readContext:Vr,useCallback:dL,useContext:Vr,useEffect:PA,useImperativeHandle:hL,useInsertionEffect:uL,useLayoutEffect:cL,useMemo:pL,useReducer:cx,useRef:lL,useState:function(){return cx(Uh)},useDebugValue:BA,useDeferredValue:function(t){var e=Wr();return On===null?e.memoizedState=t:mL(e,On.memoizedState,t)},useTransition:function(){var t=cx(Uh)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:tL,useSyncExternalStore:nL,useId:gL,unstable_isNewReconciler:!1};function Lc(t,e){try{var n="",i=e;do n+=EO(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function fx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function f1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QU=typeof WeakMap=="function"?WeakMap:Map;function _L(t,e,n){n=mo(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){o0||(o0=!0,S1=i),f1(t,e)},n}function SL(t,e,n){n=mo(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){f1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){f1(t,e),typeof i!="function"&&(da===null?da=new Set([this]):da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iC(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new QU;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=fH.bind(null,t,e,n),e.then(t,t))}function rC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sC(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mo(-1,1),e.tag=2,ha(n,e,1))),n.lanes|=1),t)}var ZU=Ro.ReactCurrentOwner,Xi=!1;function bi(t,e,n,i){e.child=t===null?qB(e,null,n,i):Pc(e,t.child,n,i)}function oC(t,e,n,i,r){n=n.render;var s=e.ref;return xc(e,r),i=bA(t,e,n,i,s,r),n=RA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Mo(t,e,r)):(ln&&n&&gA(e),e.flags|=1,bi(t,e,i,r),e.child)}function aC(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!UA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AL(t,e,s,i,r)):(t=vg(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lh,n(o,i)&&t.ref===e.ref)return Mo(t,e,r)}return e.flags|=1,t=ma(s,i),t.ref=e.ref,t.return=e,e.child=t}function AL(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Lh(s,i)&&t.ref===e.ref)if(Xi=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Xi=!0);else return e.lanes=t.lanes,Mo(t,e,r)}return h1(t,e,n,i,r)}function ML(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(sc,ar),ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(sc,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,qt(sc,ar),ar|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,qt(sc,ar),ar|=i;return bi(t,e,r,n),e.child}function EL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h1(t,e,n,i,r){var s=Ki(n)?Ol:Si.current;return s=bc(e,s),xc(e,r),n=bA(t,e,n,i,s,r),i=RA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Mo(t,e,r)):(ln&&i&&gA(e),e.flags|=1,bi(t,e,n,r),e.child)}function lC(t,e,n,i,r){if(Ki(n)){var s=!0;$g(e)}else s=!1;if(xc(e,r),e.stateNode===null)mg(t,e),QB(e,n,i),c1(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vr(u):(u=Ki(n)?Ol:Si.current,u=bc(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&qT(e,o,i,u),ea=!1;var p=e.memoizedState;o.state=p,t0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Ji.current||ea?(typeof h=="function"&&(u1(e,n,h,i),l=e.memoizedState),(a=ea||ZT(e,n,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,YB(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ts(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vr(l):(l=Ki(n)?Ol:Si.current,l=bc(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&qT(e,o,i,l),ea=!1,p=e.memoizedState,o.state=p,t0(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Ji.current||ea?(typeof m=="function"&&(u1(e,n,m,i),v=e.memoizedState),(u=ea||ZT(e,n,u,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return d1(t,e,n,i,s,r)}function d1(t,e,n,i,r,s){EL(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&JT(e,n,!1),Mo(t,e,s);i=e.stateNode,ZU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Pc(e,t.child,null,s),e.child=Pc(e,null,a,s)):bi(t,e,a,s),e.memoizedState=i.state,r&&JT(e,n,!0),e.child}function wL(t){var e=t.stateNode;e.pendingContext?XT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XT(t,e.context,!1),EA(t,e.containerInfo)}function uC(t,e,n,i,r){return Rc(),vA(r),e.flags|=256,bi(t,e,n,i),e.child}var p1={dehydrated:null,treeContext:null,retryLane:0};function m1(t){return{baseLanes:t,cachePool:null,transitions:null}}function TL(t,e,n){var i=e.pendingProps,r=hn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qt(hn,r&1),t===null)return a1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Y0(o,i,0,null),t=Ll(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m1(n),e.memoizedState=p1,t):LA(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return qU(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ma(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ma(a,s):(s=Ll(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?m1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=p1,i}return s=t.child,t=s.sibling,i=ma(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function LA(t,e){return e=Y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nm(t,e,n,i){return i!==null&&vA(i),Pc(e,t.child,null,n),t=LA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qU(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=fx(Error(we(422))),nm(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Y0({mode:"visible",children:i.children},r,0,null),s=Ll(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Pc(e,t.child,null,o),e.child.memoizedState=m1(o),e.memoizedState=p1,s);if(!(e.mode&1))return nm(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(we(419)),i=fx(s,i,void 0),nm(t,e,o,i)}if(a=(o&t.childLanes)!==0,Xi||a){if(i=$n,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ao(t,r),as(i,t,r,-1))}return OA(),i=fx(Error(we(421))),nm(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=hH.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,hr=fa(r.nextSibling),mr=e,ln=!0,rs=null,t!==null&&(kr[Or++]=uo,kr[Or++]=co,kr[Or++]=Ul,uo=t.id,co=t.overflow,Ul=e),e=LA(e,i.children),e.flags|=4096,e)}function cC(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),l1(t.return,e,n)}function hx(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function CL(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(bi(t,e,i.children,n),i=hn.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cC(t,n,e);else if(t.tag===19)cC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(qt(hn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&n0(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),hx(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&n0(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}hx(e,!0,n,null,s);break;case"together":hx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,n=ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eH(t,e,n){switch(e.tag){case 3:wL(e),Rc();break;case 5:eL(e);break;case 1:Ki(e.type)&&$g(e);break;case 4:EA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;qt(qg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qt(hn,hn.current&1),e.flags|=128,null):n&e.child.childLanes?TL(t,e,n):(qt(hn,hn.current&1),t=Mo(t,e,n),t!==null?t.sibling:null);qt(hn,hn.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return CL(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qt(hn,hn.current),i)break;return null;case 22:case 23:return e.lanes=0,ML(t,e,n)}return Mo(t,e,n)}var bL,g1,RL,PL;bL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g1=function(){};RL=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,_l(Fs.current);var s=null;switch(n){case"input":r=O_(t,r),i=O_(t,i),s=[];break;case"select":r=vn({},r,{value:void 0}),i=vn({},i,{value:void 0}),s=[];break;case"textarea":r=z_(t,r),i=z_(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Kg)}V_(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PL=function(t,e,n,i){n!==i&&(e.flags|=4)};function bf(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function tH(t,e,n){var i=e.pendingProps;switch(yA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return Ki(e.type)&&Yg(),yi(e),null;case 3:return i=e.stateNode,Bc(),sn(Ji),sn(Si),TA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(em(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rs!==null&&(E1(rs),rs=null))),g1(t,e),yi(e),null;case 5:wA(e);var r=_l(kh.current);if(n=e.type,t!==null&&e.stateNode!=null)RL(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(we(166));return yi(e),null}if(t=_l(Fs.current),em(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Bs]=e,i[Fh]=s,t=(e.mode&1)!==0,n){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(r=0;r<Qf.length;r++)tn(Qf[r],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":xT(i,s),tn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},tn("invalid",i);break;case"textarea":ST(i,s),tn("invalid",i)}V_(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&qp(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qp(i.textContent,a,t),r=["children",""+a]):wh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",i)}switch(n){case"input":jp(i),_T(i,s,!0);break;case"textarea":jp(i),AT(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Kg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Bs]=e,t[Fh]=i,bL(t,e,!1,!1),e.stateNode=t;e:{switch(o=W_(n,i),n){case"dialog":tn("cancel",t),tn("close",t),r=i;break;case"iframe":case"object":case"embed":tn("load",t),r=i;break;case"video":case"audio":for(r=0;r<Qf.length;r++)tn(Qf[r],t);r=i;break;case"source":tn("error",t),r=i;break;case"img":case"image":case"link":tn("error",t),tn("load",t),r=i;break;case"details":tn("toggle",t),r=i;break;case"input":xT(t,i),r=O_(t,i),tn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=vn({},i,{value:void 0}),tn("invalid",t);break;case"textarea":ST(t,i),r=z_(t,i),tn("invalid",t);break;default:r=i}V_(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oB(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rB(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Th(t,l):typeof l=="number"&&Th(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",t):l!=null&&nA(t,s,l,o))}switch(n){case"input":jp(t),_T(t,i,!1);break;case"textarea":jp(t),AT(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ma(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?mc(t,!!i.multiple,s,!1):i.defaultValue!=null&&mc(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Kg)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(t&&e.stateNode!=null)PL(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(we(166));if(n=_l(kh.current),_l(Fs.current),em(e)){if(i=e.stateNode,n=e.memoizedProps,i[Bs]=e,(s=i.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:qp(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qp(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bs]=e,e.stateNode=i}return yi(e),null;case 13:if(sn(hn),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&hr!==null&&e.mode&1&&!(e.flags&128))JB(),Rc(),e.flags|=98560,s=!1;else if(s=em(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[Bs]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else rs!==null&&(E1(rs),rs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||hn.current&1?Hn===0&&(Hn=3):OA())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return Bc(),g1(t,e),t===null&&Ih(e.stateNode.containerInfo),yi(e),null;case 10:return SA(e.type._context),yi(e),null;case 17:return Ki(e.type)&&Yg(),yi(e),null;case 19:if(sn(hn),s=e.memoizedState,s===null)return yi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)bf(s,!1);else{if(Hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=n0(t),o!==null){for(e.flags|=128,bf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(hn,hn.current&1|2),e.child}t=t.sibling}s.tail!==null&&bn()>Ic&&(e.flags|=128,i=!0,bf(s,!1),e.lanes=4194304)}else{if(!i)if(t=n0(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return yi(e),null}else 2*bn()-s.renderingStartTime>Ic&&n!==1073741824&&(e.flags|=128,i=!0,bf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,n=hn.current,qt(hn,i?n&1|2:n&1),e):(yi(e),null);case 22:case 23:return kA(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ar&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function nH(t,e){switch(yA(e),e.tag){case 1:return Ki(e.type)&&Yg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bc(),sn(Ji),sn(Si),TA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wA(e),null;case 13:if(sn(hn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(hn),null;case 4:return Bc(),null;case 10:return SA(e.type._context),null;case 22:case 23:return kA(),null;case 24:return null;default:return null}}var im=!1,_i=!1,iH=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function rc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Mn(t,e,i)}else n.current=null}function y1(t,e,n){try{n()}catch(i){Mn(t,e,i)}}var fC=!1;function rH(t,e){if(e1=jg,t=DB(),mA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(t1={focusedElem:t,selectionRange:n},jg=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var M=v.memoizedProps,x=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?M:ts(e.type,M),x);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(E){Mn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return v=fC,fC=!1,v}function fh(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&y1(e,n,s)}r=r.next}while(r!==i)}}function J0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function v1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BL(t){var e=t.alternate;e!==null&&(t.alternate=null,BL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bs],delete e[Fh],delete e[r1],delete e[HU],delete e[zU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LL(t){return t.tag===5||t.tag===3||t.tag===4}function hC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kg));else if(i!==4&&(t=t.child,t!==null))for(x1(t,e,n),t=t.sibling;t!==null;)x1(t,e,n),t=t.sibling}function _1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_1(t,e,n),t=t.sibling;t!==null;)_1(t,e,n),t=t.sibling}var ei=null,is=!1;function zo(t,e,n){for(n=n.child;n!==null;)IL(t,e,n),n=n.sibling}function IL(t,e,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(U0,n)}catch{}switch(n.tag){case 5:_i||rc(n,e);case 6:var i=ei,r=is;ei=null,zo(t,e,n),ei=i,is=r,ei!==null&&(is?(t=ei,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ei.removeChild(n.stateNode));break;case 18:ei!==null&&(is?(t=ei,n=n.stateNode,t.nodeType===8?sx(t.parentNode,n):t.nodeType===1&&sx(t,n),Ph(t)):sx(ei,n.stateNode));break;case 4:i=ei,r=is,ei=n.stateNode.containerInfo,is=!0,zo(t,e,n),ei=i,is=r;break;case 0:case 11:case 14:case 15:if(!_i&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&y1(n,e,o),r=r.next}while(r!==i)}zo(t,e,n);break;case 1:if(!_i&&(rc(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Mn(n,e,a)}zo(t,e,n);break;case 21:zo(t,e,n);break;case 22:n.mode&1?(_i=(i=_i)||n.memoizedState!==null,zo(t,e,n),_i=i):zo(t,e,n);break;default:zo(t,e,n)}}function dC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iH),e.forEach(function(i){var r=dH.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,is=!1;break e;case 3:ei=a.stateNode.containerInfo,is=!0;break e;case 4:ei=a.stateNode.containerInfo,is=!0;break e}a=a.return}if(ei===null)throw Error(we(160));IL(s,o,r),ei=null,is=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Mn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DL(e,t),e=e.sibling}function DL(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),ws(t),i&4){try{fh(3,t,t.return),J0(3,t)}catch(M){Mn(t,t.return,M)}try{fh(5,t,t.return)}catch(M){Mn(t,t.return,M)}}break;case 1:Qr(e,t),ws(t),i&512&&n!==null&&rc(n,n.return);break;case 5:if(Qr(e,t),ws(t),i&512&&n!==null&&rc(n,n.return),t.flags&32){var r=t.stateNode;try{Th(r,"")}catch(M){Mn(t,t.return,M)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tB(r,s),W_(a,o);var u=W_(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?oB(r,d):h==="dangerouslySetInnerHTML"?rB(r,d):h==="children"?Th(r,d):nA(r,h,d,u)}switch(a){case"input":U_(r,s);break;case"textarea":nB(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?mc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?mc(r,!!s.multiple,s.defaultValue,!0):mc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Fh]=s}catch(M){Mn(t,t.return,M)}}break;case 6:if(Qr(e,t),ws(t),i&4){if(t.stateNode===null)throw Error(we(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(M){Mn(t,t.return,M)}}break;case 3:if(Qr(e,t),ws(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(M){Mn(t,t.return,M)}break;case 4:Qr(e,t),ws(t);break;case 13:Qr(e,t),ws(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(FA=bn())),i&4&&dC(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(_i=(u=_i)||h,Qr(e,t),_i=u):Qr(e,t),ws(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Ve=t,h=t.child;h!==null;){for(d=Ve=h;Ve!==null;){switch(p=Ve,m=p.child,p.tag){case 0:case 11:case 14:case 15:fh(4,p,p.return);break;case 1:rc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(M){Mn(i,n,M)}}break;case 5:rc(p,p.return);break;case 22:if(p.memoizedState!==null){mC(d);continue}}m!==null?(m.return=p,Ve=m):mC(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sB("display",o))}catch(M){Mn(t,t.return,M)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(M){Mn(t,t.return,M)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qr(e,t),ws(t),i&4&&dC(t);break;case 21:break;default:Qr(e,t),ws(t)}}function ws(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LL(n)){var i=n;break e}n=n.return}throw Error(we(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Th(r,""),i.flags&=-33);var s=hC(t);_1(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=hC(t);x1(t,a,o);break;default:throw Error(we(161))}}catch(l){Mn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sH(t,e,n){Ve=t,FL(t)}function FL(t,e,n){for(var i=(t.mode&1)!==0;Ve!==null;){var r=Ve,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||im;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_i;a=im;var u=_i;if(im=o,(_i=l)&&!u)for(Ve=r;Ve!==null;)o=Ve,l=o.child,o.tag===22&&o.memoizedState!==null?gC(r):l!==null?(l.return=o,Ve=l):gC(r);for(;s!==null;)Ve=s,FL(s),s=s.sibling;Ve=r,im=a,_i=u}pC(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ve=s):pC(t)}}function pC(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_i||J0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_i)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QT(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ph(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}_i||e.flags&512&&v1(e)}catch(p){Mn(e,e.return,p)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function mC(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function gC(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{J0(4,e)}catch(l){Mn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Mn(e,r,l)}}var s=e.return;try{v1(e)}catch(l){Mn(e,s,l)}break;case 5:var o=e.return;try{v1(e)}catch(l){Mn(e,o,l)}}}catch(l){Mn(e,e.return,l)}if(e===t){Ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ve=a;break}Ve=e.return}}var oH=Math.ceil,s0=Ro.ReactCurrentDispatcher,IA=Ro.ReactCurrentOwner,Gr=Ro.ReactCurrentBatchConfig,Nt=0,$n=null,Dn=null,ri=0,ar=0,sc=Ia(0),Hn=0,zh=null,zl=0,K0=0,DA=0,hh=null,Vi=null,FA=0,Ic=1/0,io=null,o0=!1,S1=null,da=null,rm=!1,sa=null,a0=0,dh=0,A1=null,gg=-1,yg=0;function Pi(){return Nt&6?bn():gg!==-1?gg:gg=bn()}function pa(t){return t.mode&1?Nt&2&&ri!==0?ri&-ri:VU.transition!==null?(yg===0&&(yg=vB()),yg):(t=Xt,t!==0||(t=window.event,t=t===void 0?16:wB(t.type)),t):1}function as(t,e,n,i){if(50<dh)throw dh=0,A1=null,Error(we(185));cd(t,n,i),(!(Nt&2)||t!==$n)&&(t===$n&&(!(Nt&2)&&(K0|=n),Hn===4&&ia(t,ri)),Yi(t,i),n===1&&Nt===0&&!(e.mode&1)&&(Ic=bn()+500,W0&&Da()))}function Yi(t,e){var n=t.callbackNode;VO(t,e);var i=Wg(t,t===$n?ri:0);if(i===0)n!==null&&wT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&wT(n),e===1)t.tag===0?GU(yC.bind(null,t)):WB(yC.bind(null,t)),OU(function(){!(Nt&6)&&Da()}),n=null;else{switch(xB(i)){case 1:n=aA;break;case 4:n=gB;break;case 16:n=Vg;break;case 536870912:n=yB;break;default:n=Vg}n=VL(n,NL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NL(t,e){if(gg=-1,yg=0,Nt&6)throw Error(we(327));var n=t.callbackNode;if(_c()&&t.callbackNode!==n)return null;var i=Wg(t,t===$n?ri:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=l0(t,i);else{e=i;var r=Nt;Nt|=2;var s=OL();($n!==t||ri!==e)&&(io=null,Ic=bn()+500,Bl(t,e));do try{uH();break}catch(a){kL(t,a)}while(1);_A(),s0.current=s,Nt=r,Dn!==null?e=0:($n=null,ri=0,e=Hn)}if(e!==0){if(e===2&&(r=Y_(t),r!==0&&(i=r,e=M1(t,r))),e===1)throw n=zh,Bl(t,0),ia(t,i),Yi(t,bn()),n;if(e===6)ia(t,i);else{if(r=t.current.alternate,!(i&30)&&!aH(r)&&(e=l0(t,i),e===2&&(s=Y_(t),s!==0&&(i=s,e=M1(t,s))),e===1))throw n=zh,Bl(t,0),ia(t,i),Yi(t,bn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(we(345));case 2:al(t,Vi,io);break;case 3:if(ia(t,i),(i&130023424)===i&&(e=FA+500-bn(),10<e)){if(Wg(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Pi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=i1(al.bind(null,t,Vi,io),e);break}al(t,Vi,io);break;case 4:if(ia(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-os(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=bn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oH(i/1960))-i,10<i){t.timeoutHandle=i1(al.bind(null,t,Vi,io),i);break}al(t,Vi,io);break;case 5:al(t,Vi,io);break;default:throw Error(we(329))}}}return Yi(t,bn()),t.callbackNode===n?NL.bind(null,t):null}function M1(t,e){var n=hh;return t.current.memoizedState.isDehydrated&&(Bl(t,e).flags|=256),t=l0(t,e),t!==2&&(e=Vi,Vi=n,e!==null&&E1(e)),t}function E1(t){Vi===null?Vi=t:Vi.push.apply(Vi,t)}function aH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!cs(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ia(t,e){for(e&=~DA,e&=~K0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-os(e),i=1<<n;t[n]=-1,e&=~i}}function yC(t){if(Nt&6)throw Error(we(327));_c();var e=Wg(t,0);if(!(e&1))return Yi(t,bn()),null;var n=l0(t,e);if(t.tag!==0&&n===2){var i=Y_(t);i!==0&&(e=i,n=M1(t,i))}if(n===1)throw n=zh,Bl(t,0),ia(t,e),Yi(t,bn()),n;if(n===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,al(t,Vi,io),Yi(t,bn()),null}function NA(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(Ic=bn()+500,W0&&Da())}}function Gl(t){sa!==null&&sa.tag===0&&!(Nt&6)&&_c();var e=Nt;Nt|=1;var n=Gr.transition,i=Xt;try{if(Gr.transition=null,Xt=1,t)return t()}finally{Xt=i,Gr.transition=n,Nt=e,!(Nt&6)&&Da()}}function kA(){ar=sc.current,sn(sc)}function Bl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kU(n)),Dn!==null)for(n=Dn.return;n!==null;){var i=n;switch(yA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Yg();break;case 3:Bc(),sn(Ji),sn(Si),TA();break;case 5:wA(i);break;case 4:Bc();break;case 13:sn(hn);break;case 19:sn(hn);break;case 10:SA(i.type._context);break;case 22:case 23:kA()}n=n.return}if($n=t,Dn=t=ma(t.current,null),ri=ar=e,Hn=0,zh=null,DA=K0=zl=0,Vi=hh=null,xl!==null){for(e=0;e<xl.length;e++)if(n=xl[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}xl=null}return t}function kL(t,e){do{var n=Dn;try{if(_A(),dg.current=r0,i0){for(var i=yn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}i0=!1}if(Hl=0,Kn=On=yn=null,ch=!1,Oh=0,IA.current=null,n===null||n.return===null){Hn=1,zh=e,Dn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ri,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=rC(o);if(m!==null){m.flags&=-257,sC(m,o,a,s,e),m.mode&1&&iC(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var M=new Set;M.add(l),e.updateQueue=M}else v.add(l);break e}else{if(!(e&1)){iC(s,u,e),OA();break e}l=Error(we(426))}}else if(ln&&a.mode&1){var x=rC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sC(x,o,a,s,e),vA(Lc(l,a));break e}}s=l=Lc(l,a),Hn!==4&&(Hn=2),hh===null?hh=[s]:hh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_L(s,l,e);$T(s,g);break e;case 1:a=l;var _=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(da===null||!da.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=SL(s,a,e);$T(s,E);break e}}s=s.return}while(s!==null)}HL(n)}catch(C){e=C,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(1)}function OL(){var t=s0.current;return s0.current=r0,t===null?r0:t}function OA(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),$n===null||!(zl&268435455)&&!(K0&268435455)||ia($n,ri)}function l0(t,e){var n=Nt;Nt|=2;var i=OL();($n!==t||ri!==e)&&(io=null,Bl(t,e));do try{lH();break}catch(r){kL(t,r)}while(1);if(_A(),Nt=n,s0.current=i,Dn!==null)throw Error(we(261));return $n=null,ri=0,Hn}function lH(){for(;Dn!==null;)UL(Dn)}function uH(){for(;Dn!==null&&!DO();)UL(Dn)}function UL(t){var e=GL(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?HL(t):Dn=e,IA.current=null}function HL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nH(n,e),n!==null){n.flags&=32767,Dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hn=6,Dn=null;return}}else if(n=tH(n,e,ar),n!==null){Dn=n;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=t}while(e!==null);Hn===0&&(Hn=5)}function al(t,e,n){var i=Xt,r=Gr.transition;try{Gr.transition=null,Xt=1,cH(t,e,n,i)}finally{Gr.transition=r,Xt=i}return null}function cH(t,e,n,i){do _c();while(sa!==null);if(Nt&6)throw Error(we(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WO(t,s),t===$n&&(Dn=$n=null,ri=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rm||(rm=!0,VL(Vg,function(){return _c(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gr.transition,Gr.transition=null;var o=Xt;Xt=1;var a=Nt;Nt|=4,IA.current=null,rH(t,n),DL(n,t),PU(t1),jg=!!e1,t1=e1=null,t.current=n,sH(n),FO(),Nt=a,Xt=o,Gr.transition=s}else t.current=n;if(rm&&(rm=!1,sa=t,a0=r),s=t.pendingLanes,s===0&&(da=null),OO(n.stateNode),Yi(t,bn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(o0)throw o0=!1,t=S1,S1=null,t;return a0&1&&t.tag!==0&&_c(),s=t.pendingLanes,s&1?t===A1?dh++:(dh=0,A1=t):dh=0,Da(),null}function _c(){if(sa!==null){var t=xB(a0),e=Gr.transition,n=Xt;try{if(Gr.transition=null,Xt=16>t?16:t,sa===null)var i=!1;else{if(t=sa,sa=null,a0=0,Nt&6)throw Error(we(331));var r=Nt;for(Nt|=4,Ve=t.current;Ve!==null;){var s=Ve,o=s.child;if(Ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ve=u;Ve!==null;){var h=Ve;switch(h.tag){case 0:case 11:case 15:fh(8,h,s)}var d=h.child;if(d!==null)d.return=h,Ve=d;else for(;Ve!==null;){h=Ve;var p=h.sibling,m=h.return;if(BL(h),h===u){Ve=null;break}if(p!==null){p.return=m,Ve=p;break}Ve=m}}}var v=s.alternate;if(v!==null){var M=v.child;if(M!==null){v.child=null;do{var x=M.sibling;M.sibling=null,M=x}while(M!==null)}}Ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ve=o;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fh(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ve=g;break e}Ve=s.return}}var _=t.current;for(Ve=_;Ve!==null;){o=Ve;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ve=A;else e:for(o=_;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:J0(9,a)}}catch(C){Mn(a,a.return,C)}if(a===o){Ve=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ve=E;break e}Ve=a.return}}if(Nt=r,Da(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(U0,t)}catch{}i=!0}return i}finally{Xt=n,Gr.transition=e}}return!1}function vC(t,e,n){e=Lc(n,e),e=_L(t,e,1),t=ha(t,e,1),e=Pi(),t!==null&&(cd(t,1,e),Yi(t,e))}function Mn(t,e,n){if(t.tag===3)vC(t,t,n);else for(;e!==null;){if(e.tag===3){vC(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(da===null||!da.has(i))){t=Lc(n,t),t=SL(e,t,1),e=ha(e,t,1),t=Pi(),e!==null&&(cd(e,1,t),Yi(e,t));break}}e=e.return}}function fH(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&n,$n===t&&(ri&n)===n&&(Hn===4||Hn===3&&(ri&130023424)===ri&&500>bn()-FA?Bl(t,0):DA|=n),Yi(t,e)}function zL(t,e){e===0&&(t.mode&1?(e=Kp,Kp<<=1,!(Kp&130023424)&&(Kp=4194304)):e=1);var n=Pi();t=Ao(t,e),t!==null&&(cd(t,e,n),Yi(t,n))}function hH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zL(t,n)}function dH(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(we(314))}i!==null&&i.delete(e),zL(t,n)}var GL;GL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Xi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xi=!1,eH(t,e,n);Xi=!!(t.flags&131072)}else Xi=!1,ln&&e.flags&1048576&&jB(e,Zg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mg(t,e),t=e.pendingProps;var r=bc(e,Si.current);xc(e,n),r=bA(null,e,i,t,r,n);var s=RA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ki(i)?(s=!0,$g(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,MA(e),r.updater=j0,e.stateNode=r,r._reactInternals=e,c1(e,i,t,n),e=d1(null,e,i,!0,s,n)):(e.tag=0,ln&&s&&gA(e),bi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(mg(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=mH(i),t=ts(i,t),r){case 0:e=h1(null,e,i,t,n);break e;case 1:e=lC(null,e,i,t,n);break e;case 11:e=oC(null,e,i,t,n);break e;case 14:e=aC(null,e,i,ts(i.type,t),n);break e}throw Error(we(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),h1(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),lC(t,e,i,r,n);case 3:e:{if(wL(e),t===null)throw Error(we(387));i=e.pendingProps,s=e.memoizedState,r=s.element,YB(t,e),t0(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Lc(Error(we(423)),e),e=uC(t,e,i,n,r);break e}else if(i!==r){r=Lc(Error(we(424)),e),e=uC(t,e,i,n,r);break e}else for(hr=fa(e.stateNode.containerInfo.firstChild),mr=e,ln=!0,rs=null,n=qB(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rc(),i===r){e=Mo(t,e,n);break e}bi(t,e,i,n)}e=e.child}return e;case 5:return eL(e),t===null&&a1(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,n1(i,r)?o=null:s!==null&&n1(i,s)&&(e.flags|=32),EL(t,e),bi(t,e,o,n),e.child;case 6:return t===null&&a1(e),null;case 13:return TL(t,e,n);case 4:return EA(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Pc(e,null,i,n):bi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),oC(t,e,i,r,n);case 7:return bi(t,e,e.pendingProps,n),e.child;case 8:return bi(t,e,e.pendingProps.children,n),e.child;case 12:return bi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,qt(qg,i._currentValue),i._currentValue=o,s!==null)if(cs(s.value,o)){if(s.children===r.children&&!Ji.current){e=Mo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=mo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),l1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(we(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),l1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,xc(e,n),r=Vr(r),i=i(r),e.flags|=1,bi(t,e,i,n),e.child;case 14:return i=e.type,r=ts(i,e.pendingProps),r=ts(i.type,r),aC(t,e,i,r,n);case 15:return AL(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ts(i,r),mg(t,e),e.tag=1,Ki(i)?(t=!0,$g(e)):t=!1,xc(e,n),QB(e,i,r),c1(e,i,r,n),d1(null,e,i,!0,t,n);case 19:return CL(t,e,n);case 22:return ML(t,e,n)}throw Error(we(156,e.tag))};function VL(t,e){return mB(t,e)}function pH(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,i){return new pH(t,e,n,i)}function UA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mH(t){if(typeof t=="function")return UA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rA)return 11;if(t===sA)return 14}return 2}function ma(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vg(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")UA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yu:return Ll(n.children,r,s,e);case iA:o=8,r|=8;break;case D_:return t=Hr(12,n,e,r|2),t.elementType=D_,t.lanes=s,t;case F_:return t=Hr(13,n,e,r),t.elementType=F_,t.lanes=s,t;case N_:return t=Hr(19,n,e,r),t.elementType=N_,t.lanes=s,t;case Z2:return Y0(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $2:o=10;break e;case Q2:o=9;break e;case rA:o=11;break e;case sA:o=14;break e;case qo:o=16,i=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Hr(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Ll(t,e,n,i){return t=Hr(7,t,i,e),t.lanes=n,t}function Y0(t,e,n,i){return t=Hr(22,t,i,e),t.elementType=Z2,t.lanes=n,t.stateNode={isHidden:!1},t}function dx(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function px(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gH(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kv(0),this.expirationTimes=Kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function HA(t,e,n,i,r,s,o,a,l){return t=new gH(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MA(s),t}function yH(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ku,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function WL(t){if(!t)return Ea;t=t._reactInternals;e:{if(Ql(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var n=t.type;if(Ki(n))return VB(t,n,e)}return e}function jL(t,e,n,i,r,s,o,a,l){return t=HA(n,i,!0,t,r,s,o,a,l),t.context=WL(null),n=t.current,i=Pi(),r=pa(n),s=mo(i,r),s.callback=e??null,ha(n,s,r),t.current.lanes=r,cd(t,r,i),Yi(t,i),t}function $0(t,e,n,i){var r=e.current,s=Pi(),o=pa(r);return n=WL(n),e.context===null?e.context=n:e.pendingContext=n,e=mo(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ha(r,e,o),t!==null&&(as(t,r,o,s),hg(t,r,o)),o}function u0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zA(t,e){xC(t,e),(t=t.alternate)&&xC(t,e)}function vH(){return null}var XL=typeof reportError=="function"?reportError:function(t){console.error(t)};function GA(t){this._internalRoot=t}Q0.prototype.render=GA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));$0(t,e,null,null)};Q0.prototype.unmount=GA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gl(function(){$0(null,t,null,null)}),e[So]=null}};function Q0(t){this._internalRoot=t}Q0.prototype.unstable_scheduleHydration=function(t){if(t){var e=AB();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&EB(t)}};function VA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _C(){}function xH(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=u0(o);s.call(u)}}var o=jL(e,i,t,0,null,!1,!1,"",_C);return t._reactRootContainer=o,t[So]=o.current,Ih(t.nodeType===8?t.parentNode:t),Gl(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=u0(l);a.call(u)}}var l=HA(t,0,!1,null,null,!1,!1,"",_C);return t._reactRootContainer=l,t[So]=l.current,Ih(t.nodeType===8?t.parentNode:t),Gl(function(){$0(e,l,n,i)}),l}function q0(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=u0(o);a.call(l)}}$0(e,o,t,r)}else o=xH(n,e,t,r,i);return u0(o)}_B=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$f(e.pendingLanes);n!==0&&(lA(e,n|1),Yi(e,bn()),!(Nt&6)&&(Ic=bn()+500,Da()))}break;case 13:Gl(function(){var i=Ao(t,1);if(i!==null){var r=Pi();as(i,t,1,r)}}),zA(t,1)}};uA=function(t){if(t.tag===13){var e=Ao(t,134217728);if(e!==null){var n=Pi();as(e,t,134217728,n)}zA(t,134217728)}};SB=function(t){if(t.tag===13){var e=pa(t),n=Ao(t,e);if(n!==null){var i=Pi();as(n,t,e,i)}zA(t,e)}};AB=function(){return Xt};MB=function(t,e){var n=Xt;try{return Xt=t,e()}finally{Xt=n}};X_=function(t,e,n){switch(e){case"input":if(U_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=V0(i);if(!r)throw Error(we(90));eB(i),U_(i,r)}}}break;case"textarea":nB(t,n);break;case"select":e=n.value,e!=null&&mc(t,!!n.multiple,e,!1)}};uB=NA;cB=Gl;var _H={usingClientEntryPoint:!1,Events:[hd,qu,V0,aB,lB,NA]},Rf={findFiberByHostInstance:vl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SH={bundleType:Rf.bundleType,version:Rf.version,rendererPackageName:Rf.rendererPackageName,rendererConfig:Rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dB(t),t===null?null:t.stateNode},findFiberByHostInstance:Rf.findFiberByHostInstance||vH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{U0=sm.inject(SH),Ds=sm}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_H;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VA(e))throw Error(we(200));return yH(t,e,null,n)};_r.createRoot=function(t,e){if(!VA(t))throw Error(we(299));var n=!1,i="",r=XL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=HA(t,1,!1,null,null,n,!1,i,r),t[So]=e.current,Ih(t.nodeType===8?t.parentNode:t),new GA(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=dB(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Gl(t)};_r.hydrate=function(t,e,n){if(!Z0(e))throw Error(we(200));return q0(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!VA(t))throw Error(we(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=XL;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jL(e,null,t,1,n??null,r,!1,s,o),t[So]=e.current,Ih(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Q0(e)};_r.render=function(t,e,n){if(!Z0(e))throw Error(we(200));return q0(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!Z0(t))throw Error(we(40));return t._reactRootContainer?(Gl(function(){q0(null,null,t,!1,function(){t._reactRootContainer=null,t[So]=null})}),!0):!1};_r.unstable_batchedUpdates=NA;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Z0(n))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return q0(t,e,n,!1,i)};_r.version="18.2.0-next-9e3b772b8-20220608";function JL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JL)}catch(t){console.error(t)}}JL(),j2.exports=_r;var AH=j2.exports,KL,SC=AH;KL=L_.createRoot=SC.createRoot,L_.hydrateRoot=SC.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gh.apply(this,arguments)}var Sl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sl||(Sl={}));const AC="popstate";function MH(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return w1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:c0(r)}return wH(e,n,null,t)}function ls(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EH(){return Math.random().toString(36).substr(2,8)}function MC(t,e){return{usr:t.state,key:t.key,idx:e}}function w1(t,e,n,i){return n===void 0&&(n=null),Gh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ey(e):e,{state:n,key:e&&e.key||i||EH()})}function c0(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ey(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function wH(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Sl.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Gh({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Sl.Pop;let x=h(),g=x==null?null:x-u;u=x,l&&l({action:a,location:M.location,delta:g})}function p(x,g){a=Sl.Push;let _=w1(M.location,x,g);n&&n(_,x),u=h()+1;let A=MC(_,u),E=M.createHref(_);try{o.pushState(A,"",E)}catch{r.location.assign(E)}s&&l&&l({action:a,location:M.location,delta:1})}function m(x,g){a=Sl.Replace;let _=w1(M.location,x,g);n&&n(_,x),u=h();let A=MC(_,u),E=M.createHref(_);o.replaceState(A,"",E),s&&l&&l({action:a,location:M.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:c0(x);return ls(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let M={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(AC,d),l=x,()=>{r.removeEventListener(AC,d),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return M}var EC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(EC||(EC={}));function YL(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function TH(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ey(t):t;return{pathname:n?n.startsWith("/")?n:CH(n,e):e,search:bH(i),hash:RH(r)}}function CH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function mx(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $L(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QL(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ey(t):(r=Gh({},t),ls(!r.pathname||!r.pathname.includes("?"),mx("?","pathname","search",r)),ls(!r.pathname||!r.pathname.includes("#"),mx("#","pathname","hash",r)),ls(!r.search||!r.search.includes("#"),mx("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=TH(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ZL=t=>t.join("/").replace(/\/\/+/g,"/"),bH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qL=["post","put","patch","delete"];new Set(qL);const PH=["get",...qL];new Set(PH);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T1.apply(this,arguments)}const eI=j.createContext(null),pd=j.createContext(null),WA=j.createContext(null),ty=j.createContext({outlet:null,matches:[],isDataRoute:!1});function BH(t,e){let{relative:n}=e===void 0?{}:e;ny()||ls(!1);let{basename:i,navigator:r}=j.useContext(pd),{hash:s,pathname:o,search:a}=nI(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:ZL([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ny(){return j.useContext(WA)!=null}function jA(){return ny()||ls(!1),j.useContext(WA).location}function tI(t){j.useContext(pd).static||j.useLayoutEffect(t)}function LH(){let{isDataRoute:t}=j.useContext(ty);return t?kH():IH()}function IH(){ny()||ls(!1);let t=j.useContext(eI),{basename:e,navigator:n}=j.useContext(pd),{matches:i}=j.useContext(ty),{pathname:r}=jA(),s=JSON.stringify($L(i).map(l=>l.pathnameBase)),o=j.useRef(!1);return tI(()=>{o.current=!0}),j.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=QL(l,JSON.parse(s),r,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ZL([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,r,t])}function nI(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=j.useContext(ty),{pathname:r}=jA(),s=JSON.stringify($L(i).map(o=>o.pathnameBase));return j.useMemo(()=>QL(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}var C1;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(C1||(C1={}));var b1;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(b1||(b1={}));function DH(t){let e=j.useContext(eI);return e||ls(!1),e}function FH(t){let e=j.useContext(ty);return e||ls(!1),e}function NH(t){let e=FH(),n=e.matches[e.matches.length-1];return n.route.id||ls(!1),n.route.id}function kH(){let{router:t}=DH(C1.UseNavigateStable),e=NH(b1.UseNavigateStable),n=j.useRef(!1);return tI(()=>{n.current=!0}),j.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,T1({fromRouteId:e},s)))},[t,e])}function OH(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Sl.Pop,navigator:s,static:o=!1}=t;ny()&&ls(!1);let a=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=ey(i));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:m="default"}=i,v=j.useMemo(()=>{let M=YL(u,a);return M==null?null:{location:{pathname:M,search:h,hash:d,state:p,key:m},navigationType:r}},[a,u,h,d,p,m,r]);return v==null?null:j.createElement(pd.Provider,{value:l},j.createElement(WA.Provider,{children:n,value:v}))}var wC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(wC||(wC={}));new Promise(()=>{});/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},R1.apply(this,arguments)}function UH(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function HH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zH(t,e){return t.button===0&&(!e||e==="_self")&&!HH(t)}const GH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function VH(t){let{basename:e,children:n,window:i}=t,r=j.useRef();r.current==null&&(r.current=MH({window:i,v5Compat:!0}));let s=r.current,[o,a]=j.useState({action:s.action,location:s.location});return j.useLayoutEffect(()=>s.listen(a),[s]),j.createElement(OH,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const WH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XH=j.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h}=e,d=UH(e,GH),{basename:p}=j.useContext(pd),m,v=!1;if(typeof u=="string"&&jH.test(u)&&(m=u,WH))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=YL(A.pathname,p);A.origin===_.origin&&E!=null?u=E+A.search+A.hash:v=!0}catch{}let M=BH(u,{relative:r}),x=JH(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r});function g(_){i&&i(_),_.defaultPrevented||x(_)}return j.createElement("a",R1({},d,{href:m||M,onClick:v||s?i:g,ref:n,target:l}))});var TC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(TC||(TC={}));var CC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CC||(CC={}));function JH(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=LH(),l=jA(),u=nI(t,{relative:o});return j.useCallback(h=>{if(zH(h,n)){h.preventDefault();let d=i!==void 0?i:c0(l)===c0(u);a(t,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,n,t,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const jc="153",ll={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ul={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},iI=0,P1=1,rI=2,KH=3,sI=0,iy=1,ph=2,ns=3,Us=0,Bi=1,Ur=2,YH=2,go=0,Il=1,B1=2,L1=3,I1=4,oI=5,dl=100,aI=101,lI=102,D1=103,F1=104,uI=200,cI=201,fI=202,hI=203,XA=204,JA=205,dI=206,pI=207,mI=208,gI=209,yI=210,vI=0,xI=1,_I=2,f0=3,SI=4,AI=5,MI=6,EI=7,md=0,wI=1,TI=2,us=0,CI=1,bI=2,RI=3,KA=4,PI=5,ry=300,wa=301,Ta=302,Vh=303,Wh=304,Xc=306,Ca=1e3,ti=1001,Dc=1002,En=1003,jh=1004,$H=1004,Sc=1005,QH=1005,dn=1006,sy=1007,ZH=1007,Hs=1008,qH=1008,Ns=1009,BI=1010,LI=1011,oy=1012,YA=1013,fo=1014,Ls=1015,Fc=1016,$A=1017,QA=1018,ga=1020,II=1021,ji=1023,DI=1024,FI=1025,ya=1026,Vl=1027,NI=1028,ZA=1029,kI=1030,qA=1031,eM=1033,xg=33776,_g=33777,Sg=33778,Ag=33779,N1=35840,k1=35841,O1=35842,U1=35843,OI=36196,H1=37492,z1=37496,G1=37808,V1=37809,W1=37810,j1=37811,X1=37812,J1=37813,K1=37814,Y1=37815,$1=37816,Q1=37817,Z1=37818,q1=37819,eS=37820,tS=37821,Mg=36492,UI=36283,nS=36284,iS=36285,rS=36286,HI=2200,zI=2201,GI=2202,Nc=2300,Wl=2301,Eg=2302,Al=2400,Ml=2401,Xh=2402,ay=2500,tM=2501,VI=0,nM=1,h0=2,iM=3e3,va=3001,WI=3200,jI=3201,Fa=0,XI=1,xa="",_t="srgb",fs="srgb-linear",rM="display-p3",ez=0,wg=7680,tz=7681,nz=7682,iz=7683,rz=34055,sz=34056,oz=5386,az=512,lz=513,uz=514,cz=515,fz=516,hz=517,dz=518,JI=519,KI=512,YI=513,$I=514,QI=515,ZI=516,qI=517,eD=518,tD=519,Jh=35044,Dl=35048,pz=35040,mz=35045,gz=35049,yz=35041,vz=35046,xz=35050,_z=35042,Sz="100",sS="300 es",d0=1035,Is=2e3,Kh=2001;class Gs{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let bC=1234567;const Fl=Math.PI/180,kc=180/Math.PI;function gr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vi[t&255]+vi[t>>8&255]+vi[t>>16&255]+vi[t>>24&255]+"-"+vi[e&255]+vi[e>>8&255]+"-"+vi[e>>16&15|64]+vi[e>>24&255]+"-"+vi[n&63|128]+vi[n>>8&255]+"-"+vi[n>>16&255]+vi[n>>24&255]+vi[i&255]+vi[i>>8&255]+vi[i>>16&255]+vi[i>>24&255]).toLowerCase()}function wn(t,e,n){return Math.max(e,Math.min(n,t))}function sM(t,e){return(t%e+e)%e}function Az(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Mz(t,e,n){return t!==e?(n-t)/(e-t):0}function mh(t,e,n){return(1-n)*t+n*e}function Ez(t,e,n,i){return mh(t,e,1-Math.exp(-n*i))}function wz(t,e=1){return e-Math.abs(sM(t,e*2)-e)}function Tz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Cz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function bz(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Rz(t,e){return t+Math.random()*(e-t)}function Pz(t){return t*(.5-Math.random())}function Bz(t){t!==void 0&&(bC=t);let e=bC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Lz(t){return t*Fl}function Iz(t){return t*kc}function oS(t){return(t&t-1)===0&&t!==0}function nD(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function p0(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Dz(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":t.set(a*h,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*h,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*h,a*u);break;case"XZX":t.set(a*h,l*v,l*m,a*u);break;case"YXY":t.set(l*m,a*h,l*v,a*u);break;case"ZYZ":t.set(l*v,l*m,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function dr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Tt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const iD={DEG2RAD:Fl,RAD2DEG:kc,generateUUID:gr,clamp:wn,euclideanModulo:sM,mapLinear:Az,inverseLerp:Mz,lerp:mh,damp:Ez,pingpong:wz,smoothstep:Tz,smootherstep:Cz,randInt:bz,randFloat:Rz,randFloatSpread:Pz,seededRandom:Bz,degToRad:Lz,radToDeg:Iz,isPowerOfTwo:oS,ceilPowerOfTwo:nD,floorPowerOfTwo:p0,setQuaternionFromProperEuler:Dz,normalize:Tt,denormalize:dr};class me{constructor(e=0,n=0){me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wt{constructor(e,n,i,r,s,o,a,l,u){wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,u)}set(e,n,i,r,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=n,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],M=r[0],x=r[3],g=r[6],_=r[1],A=r[4],E=r[7],C=r[2],b=r[5],B=r[8];return s[0]=o*M+a*_+l*C,s[3]=o*x+a*A+l*b,s[6]=o*g+a*E+l*B,s[1]=u*M+h*_+d*C,s[4]=u*x+h*A+d*b,s[7]=u*g+h*E+d*B,s[2]=p*M+m*_+v*C,s[5]=p*x+m*A+v*b,s[8]=p*g+m*E+v*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return n*o*h-n*a*u-i*s*h+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=h*o-a*u,p=a*l-h*s,m=u*s-o*l,v=n*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/v;return e[0]=d*M,e[1]=(r*u-h*i)*M,e[2]=(a*i-r*o)*M,e[3]=p*M,e[4]=(h*n-r*l)*M,e[5]=(r*s-a*n)*M,e[6]=m*M,e[7]=(i*l-u*n)*M,e[8]=(o*n-i*s)*M,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(gx.makeScale(e,n)),this}rotate(e){return this.premultiply(gx.makeRotation(-e)),this}translate(e,n){return this.premultiply(gx.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const gx=new wt;function rD(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Fz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function oc(t,e){return new Fz[t](e)}function Yh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const RC={};function gh(t){t in RC||(RC[t]=!0,console.warn(t))}function Ac(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function yx(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Nz=new wt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),kz=new wt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function Oz(t){return t.convertSRGBToLinear().applyMatrix3(kz)}function Uz(t){return t.applyMatrix3(Nz).convertLinearToSRGB()}const Hz={[fs]:t=>t,[_t]:t=>t.convertSRGBToLinear(),[rM]:Oz},zz={[fs]:t=>t,[_t]:t=>t.convertLinearToSRGB(),[rM]:Uz},Ir={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return fs},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Hz[e],r=zz[n];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Su;class oM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Su===void 0&&(Su=Yh("canvas")),Su.width=e.width,Su.height=e.height;const i=Su.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Su}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yh("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ac(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Ac(n[i]/255)*255):n[i]=Ac(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Gz=0;class El{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Gz++}),this.uuid=gr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(vx(r[o].image)):s.push(vx(r[o]))}else s=vx(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function vx(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?oM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Vz=0;class un extends Gs{constructor(e=un.DEFAULT_IMAGE,n=un.DEFAULT_MAPPING,i=ti,r=ti,s=dn,o=Hs,a=ji,l=Ns,u=un.DEFAULT_ANISOTROPY,h=xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Vz++}),this.uuid=gr(),this.name="",this.source=new El(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new me(0,0),this.repeat=new me(1,1),this.center=new me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(gh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===va?_t:xa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ry)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ca:e.x=e.x-Math.floor(e.x);break;case ti:e.x=e.x<0?0:1;break;case Dc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ca:e.y=e.y-Math.floor(e.y);break;case ti:e.y=e.y<0?0:1;break;case Dc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return gh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===_t?va:iM}set encoding(e){gh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===va?_t:xa}}un.DEFAULT_IMAGE=null;un.DEFAULT_MAPPING=ry;un.DEFAULT_ANISOTROPY=1;class jt{constructor(e=0,n=0,i=0,r=1){jt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,u=l[0],h=l[4],d=l[8],p=l[1],m=l[5],v=l[9],M=l[2],x=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-M)<.01&&Math.abs(v-x)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+M)<.1&&Math.abs(v+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(u+1)/2,E=(m+1)/2,C=(g+1)/2,b=(h+p)/4,B=(d+M)/4,L=(v+x)/4;return A>E&&A>C?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=b/i,s=B/i):E>C?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=b/r,s=L/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=B/s,r=L/s),this.set(i,r,s,n),this}let _=Math.sqrt((x-v)*(x-v)+(d-M)*(d-M)+(p-h)*(p-h));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(d-M)/_,this.z=(p-h)/_,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hs extends Gs{constructor(e=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new jt(0,0,e,n),this.scissorTest=!1,this.viewport=new jt(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(gh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===va?_t:xa),this.texture=new un(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:dn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new El(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ly extends un{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=En,this.minFilter=En,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wz extends hs{constructor(e=1,n=1,i=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new ly(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class aM extends un{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=En,this.minFilter=En,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jz extends hs{constructor(e=1,n=1,i=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new aM(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Xz extends hs{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Qn{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],u=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],M=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=M;return}if(d!==M||l!==p||u!==m||h!==v){let x=1-a;const g=l*p+u*m+h*v+d*M,_=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const C=Math.sqrt(A),b=Math.atan2(C,g*_);x=Math.sin(x*b)/C,a=Math.sin(a*b)/C}const E=a*_;if(l=l*x+p*E,u=u*x+m*E,h=h*x+v*E,d=d*x+M*E,x===1-a){const C=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=C,u*=C,h*=C,d*=C}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+h*d+l*m-u*p,e[n+1]=l*v+h*p+u*d-a*m,e[n+2]=u*v+h*m+a*p-l*d,e[n+3]=h*v-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d+p*m*v;break;case"YZX":this._x=p*h*d+u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d-p*m*v;break;case"XZY":this._x=p*h*d-u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],h=n[6],d=n[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,h=n._w;return this._x=i*h+o*a+r*u-s*l,this._y=r*h+o*l+s*a-i*u,this._z=s*h+o*u+i*l-r*a,this._w=o*h-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*r+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),d=Math.sin((1-n)*h)/u,p=Math.sin(n*h)/u;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,n=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(PC.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(PC.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*r-a*i,h=l*i+a*n-s*r,d=l*r+s*i-o*n,p=-s*n-o*i-a*r;return this.x=u*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xx.copy(this).projectOnVector(e),this.sub(xx)}reflect(e){return this.sub(xx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xx=new F,PC=new Qn;class ds{constructor(e=new F(1/0,1/0,1/0),n=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint($s.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint($s.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=$s.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Au.copy(e.boundingBox),Au.applyMatrix4(e.matrixWorld),this.union(Au);else{const r=e.geometry;if(r!==void 0)if(n&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)$s.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint($s)}else r.boundingBox===null&&r.computeBoundingBox(),Au.copy(r.boundingBox),Au.applyMatrix4(e.matrixWorld),this.union(Au)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$s),$s.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Pf),om.subVectors(this.max,Pf),Mu.subVectors(e.a,Pf),Eu.subVectors(e.b,Pf),wu.subVectors(e.c,Pf),Go.subVectors(Eu,Mu),Vo.subVectors(wu,Eu),Ka.subVectors(Mu,wu);let n=[0,-Go.z,Go.y,0,-Vo.z,Vo.y,0,-Ka.z,Ka.y,Go.z,0,-Go.x,Vo.z,0,-Vo.x,Ka.z,0,-Ka.x,-Go.y,Go.x,0,-Vo.y,Vo.x,0,-Ka.y,Ka.x,0];return!_x(n,Mu,Eu,wu,om)||(n=[1,0,0,0,1,0,0,0,1],!_x(n,Mu,Eu,wu,om))?!1:(am.crossVectors(Go,Vo),n=[am.x,am.y,am.z],_x(n,Mu,Eu,wu,om))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$s).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize($s).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ys[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ys[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ys[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ys[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ys[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ys[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ys[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ys[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ys),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ys=[new F,new F,new F,new F,new F,new F,new F,new F],$s=new F,Au=new ds,Mu=new F,Eu=new F,wu=new F,Go=new F,Vo=new F,Ka=new F,Pf=new F,om=new F,am=new F,Ya=new F;function _x(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Ya.fromArray(t,s);const a=r.x*Math.abs(Ya.x)+r.y*Math.abs(Ya.y)+r.z*Math.abs(Ya.z),l=e.dot(Ya),u=n.dot(Ya),h=i.dot(Ya);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const Jz=new ds,Bf=new F,Sx=new F;class jr{constructor(e=new F,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Jz.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bf.subVectors(e,this.center);const n=Bf.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Bf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Sx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bf.copy(e.center).add(Sx)),this.expandByPoint(Bf.copy(e.center).sub(Sx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qs=new F,Ax=new F,lm=new F,Wo=new F,Mx=new F,um=new F,Ex=new F;class Zl{constructor(e=new F,n=new F(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Qs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Qs.copy(this.origin).addScaledVector(this.direction,n),Qs.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){Ax.copy(e).add(n).multiplyScalar(.5),lm.copy(n).sub(e).normalize(),Wo.copy(this.origin).sub(Ax);const s=e.distanceTo(n)*.5,o=-this.direction.dot(lm),a=Wo.dot(this.direction),l=-Wo.dot(lm),u=Wo.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const M=1/h;d*=M,p*=M,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Ax).addScaledVector(lm,p),m}intersectSphere(e,n){Qs.subVectors(e.center,this.origin);const i=Qs.dot(this.direction),r=Qs.dot(Qs)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Qs)!==null}intersectTriangle(e,n,i,r,s){Mx.subVectors(n,e),um.subVectors(i,e),Ex.crossVectors(Mx,um);let o=this.direction.dot(Ex),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Wo.subVectors(this.origin,e);const l=a*this.direction.dot(um.crossVectors(Wo,um));if(l<0)return null;const u=a*this.direction.dot(Mx.cross(Wo));if(u<0||l+u>o)return null;const h=-a*Wo.dot(Ex);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lt{constructor(e,n,i,r,s,o,a,l,u,h,d,p,m,v,M,x){lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,u,h,d,p,m,v,M,x)}set(e,n,i,r,s,o,a,l,u,h,d,p,m,v,M,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=M,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Tu.setFromMatrixColumn(e,0).length(),s=1/Tu.setFromMatrixColumn(e,1).length(),o=1/Tu.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,M=a*d;n[0]=l*h,n[4]=-l*d,n[8]=u,n[1]=m+v*u,n[5]=p-M*u,n[9]=-a*l,n[2]=M-p*u,n[6]=v+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=u*h,M=u*d;n[0]=p+M*a,n[4]=v*a-m,n[8]=o*u,n[1]=o*d,n[5]=o*h,n[9]=-a,n[2]=m*a-v,n[6]=M+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=u*h,M=u*d;n[0]=p-M*a,n[4]=-o*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*h,n[9]=M-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,M=a*d;n[0]=l*h,n[4]=v*u-m,n[8]=p*u+M,n[1]=l*d,n[5]=M*u+p,n[9]=m*u-v,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,M=a*u;n[0]=l*h,n[4]=M-p*d,n[8]=v*d+m,n[1]=d,n[5]=o*h,n[9]=-a*h,n[2]=-u*h,n[6]=m*d+v,n[10]=p-M*d}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,M=a*u;n[0]=l*h,n[4]=-d,n[8]=u*h,n[1]=p*d+M,n[5]=o*h,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*h,n[10]=M*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Kz,e,Yz)}lookAt(e,n,i){const r=this.elements;return ir.subVectors(e,n),ir.lengthSq()===0&&(ir.z=1),ir.normalize(),jo.crossVectors(i,ir),jo.lengthSq()===0&&(Math.abs(i.z)===1?ir.x+=1e-4:ir.z+=1e-4,ir.normalize(),jo.crossVectors(i,ir)),jo.normalize(),cm.crossVectors(ir,jo),r[0]=jo.x,r[4]=cm.x,r[8]=ir.x,r[1]=jo.y,r[5]=cm.y,r[9]=ir.y,r[2]=jo.z,r[6]=cm.z,r[10]=ir.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],M=i[6],x=i[10],g=i[14],_=i[3],A=i[7],E=i[11],C=i[15],b=r[0],B=r[4],L=r[8],R=r[12],P=r[1],H=r[5],ee=r[9],K=r[13],Q=r[2],Y=r[6],ae=r[10],ne=r[14],I=r[3],z=r[7],U=r[11],Z=r[15];return s[0]=o*b+a*P+l*Q+u*I,s[4]=o*B+a*H+l*Y+u*z,s[8]=o*L+a*ee+l*ae+u*U,s[12]=o*R+a*K+l*ne+u*Z,s[1]=h*b+d*P+p*Q+m*I,s[5]=h*B+d*H+p*Y+m*z,s[9]=h*L+d*ee+p*ae+m*U,s[13]=h*R+d*K+p*ne+m*Z,s[2]=v*b+M*P+x*Q+g*I,s[6]=v*B+M*H+x*Y+g*z,s[10]=v*L+M*ee+x*ae+g*U,s[14]=v*R+M*K+x*ne+g*Z,s[3]=_*b+A*P+E*Q+C*I,s[7]=_*B+A*H+E*Y+C*z,s[11]=_*L+A*ee+E*ae+C*U,s[15]=_*R+A*K+E*ne+C*Z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],M=e[7],x=e[11],g=e[15];return v*(+s*l*d-r*u*d-s*a*p+i*u*p+r*a*m-i*l*m)+M*(+n*l*m-n*u*p+s*o*p-r*o*m+r*u*h-s*l*h)+x*(+n*u*d-n*a*m-s*o*d+i*o*m+s*a*h-i*u*h)+g*(-r*a*h-n*l*d+n*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],M=e[13],x=e[14],g=e[15],_=d*x*u-M*p*u+M*l*m-a*x*m-d*l*g+a*p*g,A=v*p*u-h*x*u-v*l*m+o*x*m+h*l*g-o*p*g,E=h*M*u-v*d*u+v*a*m-o*M*m-h*a*g+o*d*g,C=v*d*l-h*M*l-v*a*p+o*M*p+h*a*x-o*d*x,b=n*_+i*A+r*E+s*C;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/b;return e[0]=_*B,e[1]=(M*p*s-d*x*s-M*r*m+i*x*m+d*r*g-i*p*g)*B,e[2]=(a*x*s-M*l*s+M*r*u-i*x*u-a*r*g+i*l*g)*B,e[3]=(d*l*s-a*p*s-d*r*u+i*p*u+a*r*m-i*l*m)*B,e[4]=A*B,e[5]=(h*x*s-v*p*s+v*r*m-n*x*m-h*r*g+n*p*g)*B,e[6]=(v*l*s-o*x*s-v*r*u+n*x*u+o*r*g-n*l*g)*B,e[7]=(o*p*s-h*l*s+h*r*u-n*p*u-o*r*m+n*l*m)*B,e[8]=E*B,e[9]=(v*d*s-h*M*s-v*i*m+n*M*m+h*i*g-n*d*g)*B,e[10]=(o*M*s-v*a*s+v*i*u-n*M*u-o*i*g+n*a*g)*B,e[11]=(h*a*s-o*d*s-h*i*u+n*d*u+o*i*m-n*a*m)*B,e[12]=C*B,e[13]=(h*M*r-v*d*r+v*i*p-n*M*p-h*i*x+n*d*x)*B,e[14]=(v*a*r-o*M*r-v*i*l+n*M*l+o*i*x-n*a*x)*B,e[15]=(o*d*r-h*a*r+h*i*l-n*d*l-o*i*p+n*a*p)*B,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,h*a+i,h*l-r*o,0,u*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,h=o+o,d=a+a,p=s*u,m=s*h,v=s*d,M=o*h,x=o*d,g=a*d,_=l*u,A=l*h,E=l*d,C=i.x,b=i.y,B=i.z;return r[0]=(1-(M+g))*C,r[1]=(m+E)*C,r[2]=(v-A)*C,r[3]=0,r[4]=(m-E)*b,r[5]=(1-(p+g))*b,r[6]=(x+_)*b,r[7]=0,r[8]=(v+A)*B,r[9]=(x-_)*B,r[10]=(1-(p+M))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Tu.set(r[0],r[1],r[2]).length();const o=Tu.set(r[4],r[5],r[6]).length(),a=Tu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Zr.copy(this);const u=1/s,h=1/o,d=1/a;return Zr.elements[0]*=u,Zr.elements[1]*=u,Zr.elements[2]*=u,Zr.elements[4]*=h,Zr.elements[5]*=h,Zr.elements[6]*=h,Zr.elements[8]*=d,Zr.elements[9]*=d,Zr.elements[10]*=d,n.setFromRotationMatrix(Zr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Is){const l=this.elements,u=2*s/(n-e),h=2*s/(i-r),d=(n+e)/(n-e),p=(i+r)/(i-r);let m,v;if(a===Is)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Kh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Is){const l=this.elements,u=1/(n-e),h=1/(i-r),d=1/(o-s),p=(n+e)*u,m=(i+r)*h;let v,M;if(a===Is)v=(o+s)*d,M=-2*d;else if(a===Kh)v=s*d,M=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=M,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Tu=new F,Zr=new lt,Kz=new F(0,0,0),Yz=new F(1,1,1),jo=new F,cm=new F,ir=new F,BC=new lt,LC=new Qn;class gd{constructor(e=0,n=0,i=0,r=gd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin(wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-wn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return BC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(BC,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return LC.setFromEuler(this),this.setFromQuaternion(LC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gd.DEFAULT_ORDER="XYZ";class Nl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $z=0;const IC=new F,Cu=new Qn,Zs=new lt,fm=new F,Lf=new F,Qz=new F,Zz=new Qn,DC=new F(1,0,0),FC=new F(0,1,0),NC=new F(0,0,1),qz={type:"added"},kC={type:"removed"};class Ft extends Gs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$z++}),this.uuid=gr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ft.DEFAULT_UP.clone();const e=new F,n=new gd,i=new Qn,r=new F(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new lt},normalMatrix:{value:new wt}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Nl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Cu.setFromAxisAngle(e,n),this.quaternion.multiply(Cu),this}rotateOnWorldAxis(e,n){return Cu.setFromAxisAngle(e,n),this.quaternion.premultiply(Cu),this}rotateX(e){return this.rotateOnAxis(DC,e)}rotateY(e){return this.rotateOnAxis(FC,e)}rotateZ(e){return this.rotateOnAxis(NC,e)}translateOnAxis(e,n){return IC.copy(e).applyQuaternion(this.quaternion),this.position.add(IC.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(DC,e)}translateY(e){return this.translateOnAxis(FC,e)}translateZ(e){return this.translateOnAxis(NC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zs.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?fm.copy(e):fm.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Lf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zs.lookAt(Lf,fm,this.up):Zs.lookAt(fm,Lf,this.up),this.quaternion.setFromRotationMatrix(Zs),r&&(Zs.extractRotation(r.matrixWorld),Cu.setFromRotationMatrix(Zs),this.quaternion.premultiply(Cu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(qz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(kC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(kC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,n);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lf,e,Qz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lf,Zz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ft.DEFAULT_UP=new F(0,1,0);Ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qr=new F,qs=new F,wx=new F,eo=new F,bu=new F,Ru=new F,OC=new F,Tx=new F,Cx=new F,bx=new F;let hm=!1;class Wi{constructor(e=new F,n=new F,i=new F){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),qr.subVectors(e,n),r.cross(qr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){qr.subVectors(r,n),qs.subVectors(i,n),wx.subVectors(e,n);const o=qr.dot(qr),a=qr.dot(qs),l=qr.dot(wx),u=qs.dot(qs),h=qs.dot(wx),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,eo),eo.x>=0&&eo.y>=0&&eo.x+eo.y<=1}static getUV(e,n,i,r,s,o,a,l){return hm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),hm=!0),this.getInterpolation(e,n,i,r,s,o,a,l)}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,eo),l.setScalar(0),l.addScaledVector(s,eo.x),l.addScaledVector(o,eo.y),l.addScaledVector(a,eo.z),l}static isFrontFacing(e,n,i,r){return qr.subVectors(i,n),qs.subVectors(e,n),qr.cross(qs).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return qr.subVectors(this.c,this.b),qs.subVectors(this.a,this.b),qr.cross(qs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Wi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return hm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),hm=!0),Wi.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}getInterpolation(e,n,i,r,s){return Wi.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Wi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;bu.subVectors(r,i),Ru.subVectors(s,i),Tx.subVectors(e,i);const l=bu.dot(Tx),u=Ru.dot(Tx);if(l<=0&&u<=0)return n.copy(i);Cx.subVectors(e,r);const h=bu.dot(Cx),d=Ru.dot(Cx);if(h>=0&&d<=h)return n.copy(r);const p=l*d-h*u;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),n.copy(i).addScaledVector(bu,o);bx.subVectors(e,s);const m=bu.dot(bx),v=Ru.dot(bx);if(v>=0&&m<=v)return n.copy(s);const M=m*u-l*v;if(M<=0&&u>=0&&v<=0)return a=u/(u-v),n.copy(i).addScaledVector(Ru,a);const x=h*v-m*d;if(x<=0&&d-h>=0&&m-v>=0)return OC.subVectors(s,r),a=(d-h)/(d-h+(m-v)),n.copy(r).addScaledVector(OC,a);const g=1/(x+M+p);return o=M*g,a=p*g,n.copy(i).addScaledVector(bu,o).addScaledVector(Ru,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let eG=0;class Fn extends Gs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eG++}),this.uuid=gr(),this.name="",this.type="Material",this.blending=Il,this.side=Us,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=XA,this.blendDst=JA,this.blendEquation=dl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=f0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wg,this.stencilZFail=wg,this.stencilZPass=wg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Il&&(i.blending=this.blending),this.side!==Us&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const sD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},es={h:0,s:0,l:0},dm={h:0,s:0,l:0};function Rx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ne{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=_t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ir.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Ir.workingColorSpace){return this.r=e,this.g=n,this.b=i,Ir.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Ir.workingColorSpace){if(e=sM(e,1),n=wn(n,0,1),i=wn(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=Rx(o,s,e+1/3),this.g=Rx(o,s,e),this.b=Rx(o,s,e-1/3)}return Ir.toWorkingColorSpace(this,r),this}setStyle(e,n=_t){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=_t){const i=sD[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ac(e.r),this.g=Ac(e.g),this.b=Ac(e.b),this}copyLinearToSRGB(e){return this.r=yx(e.r),this.g=yx(e.g),this.b=yx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_t){return Ir.fromWorkingColorSpace(xi.copy(this),e),Math.round(wn(xi.r*255,0,255))*65536+Math.round(wn(xi.g*255,0,255))*256+Math.round(wn(xi.b*255,0,255))}getHexString(e=_t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ir.workingColorSpace){Ir.fromWorkingColorSpace(xi.copy(this),n);const i=xi.r,r=xi.g,s=xi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=Ir.workingColorSpace){return Ir.fromWorkingColorSpace(xi.copy(this),n),e.r=xi.r,e.g=xi.g,e.b=xi.b,e}getStyle(e=_t){Ir.fromWorkingColorSpace(xi.copy(this),e);const n=xi.r,i=xi.g,r=xi.b;return e!==_t?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(es),es.h+=e,es.s+=n,es.l+=i,this.setHSL(es.h,es.s,es.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(es),e.getHSL(dm);const i=mh(es.h,dm.h,n),r=mh(es.s,dm.s,n),s=mh(es.l,dm.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xi=new Ne;Ne.NAMES=sD;class pr extends Fn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ne(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const lo=tG();function tG(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Hi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=wn(t,-65504,65504),lo.floatView[0]=t;const e=lo.uint32View[0],n=e>>23&511;return lo.baseTable[n]+((e&8388607)>>lo.shiftTable[n])}function Zf(t){const e=t>>10;return lo.uint32View[0]=lo.mantissaTable[lo.offsetTable[e]+(t&1023)]+lo.exponentTable[e],lo.floatView[0]}const nG={toHalfFloat:Hi,fromHalfFloat:Zf},Ln=new F,pm=new me;class Ht{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Jh,this.updateRange={offset:0,count:-1},this.gpuType=Ls,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)pm.fromBufferAttribute(this,n),pm.applyMatrix3(e),this.setXY(n,pm.x,pm.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Ln.fromBufferAttribute(this,n),Ln.applyMatrix3(e),this.setXYZ(n,Ln.x,Ln.y,Ln.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Ln.fromBufferAttribute(this,n),Ln.applyMatrix4(e),this.setXYZ(n,Ln.x,Ln.y,Ln.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ln.fromBufferAttribute(this,n),Ln.applyNormalMatrix(e),this.setXYZ(n,Ln.x,Ln.y,Ln.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ln.fromBufferAttribute(this,n),Ln.transformDirection(e),this.setXYZ(n,Ln.x,Ln.y,Ln.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=dr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=dr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=dr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=dr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class iG extends Ht{constructor(e,n,i){super(new Int8Array(e),n,i)}}class rG extends Ht{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class sG extends Ht{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class oG extends Ht{constructor(e,n,i){super(new Int16Array(e),n,i)}}class lM extends Ht{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class aG extends Ht{constructor(e,n,i){super(new Int32Array(e),n,i)}}class uM extends Ht{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class lG extends Ht{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Zf(this.array[e*this.itemSize]);return this.normalized&&(n=dr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize]=Hi(n),this}getY(e){let n=Zf(this.array[e*this.itemSize+1]);return this.normalized&&(n=dr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+1]=Hi(n),this}getZ(e){let n=Zf(this.array[e*this.itemSize+2]);return this.normalized&&(n=dr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+2]=Hi(n),this}getW(e){let n=Zf(this.array[e*this.itemSize+3]);return this.normalized&&(n=dr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.array[e*this.itemSize+3]=Hi(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.array[e+0]=Hi(n),this.array[e+1]=Hi(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.array[e+0]=Hi(n),this.array[e+1]=Hi(i),this.array[e+2]=Hi(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.array[e+0]=Hi(n),this.array[e+1]=Hi(i),this.array[e+2]=Hi(r),this.array[e+3]=Hi(s),this}}class Xe extends Ht{constructor(e,n,i){super(new Float32Array(e),n,i)}}class uG extends Ht{constructor(e,n,i){super(new Float64Array(e),n,i)}}let cG=0;const Pr=new lt,Px=new Ft,Pu=new F,rr=new ds,If=new ds,Jn=new F;class At extends Gs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cG++}),this.uuid=gr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rD(e)?uM:lM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new wt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pr.makeRotationFromQuaternion(e),this.applyMatrix4(Pr),this}rotateX(e){return Pr.makeRotationX(e),this.applyMatrix4(Pr),this}rotateY(e){return Pr.makeRotationY(e),this.applyMatrix4(Pr),this}rotateZ(e){return Pr.makeRotationZ(e),this.applyMatrix4(Pr),this}translate(e,n,i){return Pr.makeTranslation(e,n,i),this.applyMatrix4(Pr),this}scale(e,n,i){return Pr.makeScale(e,n,i),this.applyMatrix4(Pr),this}lookAt(e){return Px.lookAt(e),Px.updateMatrix(),this.applyMatrix4(Px.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pu).negate(),this.translate(Pu.x,Pu.y,Pu.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ds);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];rr.setFromBufferAttribute(s),this.morphTargetsRelative?(Jn.addVectors(this.boundingBox.min,rr.min),this.boundingBox.expandByPoint(Jn),Jn.addVectors(this.boundingBox.max,rr.max),this.boundingBox.expandByPoint(Jn)):(this.boundingBox.expandByPoint(rr.min),this.boundingBox.expandByPoint(rr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(rr.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];If.setFromBufferAttribute(a),this.morphTargetsRelative?(Jn.addVectors(rr.min,If.min),rr.expandByPoint(Jn),Jn.addVectors(rr.max,If.max),rr.expandByPoint(Jn)):(rr.expandByPoint(If.min),rr.expandByPoint(If.max))}rr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Jn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Jn));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)Jn.fromBufferAttribute(a,u),l&&(Pu.fromBufferAttribute(e,u),Jn.add(Pu)),r=Math.max(r,i.distanceToSquared(Jn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ht(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let P=0;P<a;P++)u[P]=new F,h[P]=new F;const d=new F,p=new F,m=new F,v=new me,M=new me,x=new me,g=new F,_=new F;function A(P,H,ee){d.fromArray(r,P*3),p.fromArray(r,H*3),m.fromArray(r,ee*3),v.fromArray(o,P*2),M.fromArray(o,H*2),x.fromArray(o,ee*2),p.sub(d),m.sub(d),M.sub(v),x.sub(v);const K=1/(M.x*x.y-x.x*M.y);isFinite(K)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-M.y).multiplyScalar(K),_.copy(m).multiplyScalar(M.x).addScaledVector(p,-x.x).multiplyScalar(K),u[P].add(g),u[H].add(g),u[ee].add(g),h[P].add(_),h[H].add(_),h[ee].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let P=0,H=E.length;P<H;++P){const ee=E[P],K=ee.start,Q=ee.count;for(let Y=K,ae=K+Q;Y<ae;Y+=3)A(i[Y+0],i[Y+1],i[Y+2])}const C=new F,b=new F,B=new F,L=new F;function R(P){B.fromArray(s,P*3),L.copy(B);const H=u[P];C.copy(H),C.sub(B.multiplyScalar(B.dot(H))).normalize(),b.crossVectors(L,H);const K=b.dot(h[P])<0?-1:1;l[P*4]=C.x,l[P*4+1]=C.y,l[P*4+2]=C.z,l[P*4+3]=K}for(let P=0,H=E.length;P<H;++P){const ee=E[P],K=ee.start,Q=ee.count;for(let Y=K,ae=K+Q;Y<ae;Y+=3)R(i[Y+0]),R(i[Y+1]),R(i[Y+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ht(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,u=new F,h=new F,d=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),M=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(n,v),s.fromBufferAttribute(n,M),o.fromBufferAttribute(n,x),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,M),u.fromBufferAttribute(i,x),a.add(h),l.add(h),u.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(M,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Jn.fromBufferAttribute(e,n),Jn.normalize(),e.setXYZ(n,Jn.x,Jn.y,Jn.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,d=a.normalized,p=new u.constructor(l.length*h);let m=0,v=0;for(let M=0,x=l.length;M<x;M++){a.isInterleavedBufferAttribute?m=l[M]*a.data.stride+a.offset:m=l[M]*h;for(let g=0;g<h;g++)p[v++]=u[m++]}return new Ht(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new At,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,d=u.length;h<d;h++){const p=u[h],m=e(p,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UC=new lt,$a=new Zl,mm=new jr,HC=new F,Bu=new F,Lu=new F,Iu=new F,Bx=new F,gm=new F,ym=new me,vm=new me,xm=new me,zC=new F,GC=new F,VC=new F,_m=new F,Sm=new F;class Yn extends Ft{constructor(e=new At,n=new pr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){gm.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],d=s[l];h!==0&&(Bx.fromBufferAttribute(d,e),o?gm.addScaledVector(Bx,h):gm.addScaledVector(Bx.sub(n),h))}n.add(gm)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),mm.copy(i.boundingSphere),mm.applyMatrix4(s),$a.copy(e.ray).recast(e.near),!(mm.containsPoint($a.origin)===!1&&($a.intersectSphere(mm,HC)===null||$a.origin.distanceToSquared(HC)>(e.far-e.near)**2))&&(UC.copy(s).invert(),$a.copy(e.ray).applyMatrix4(UC),!(i.boundingBox!==null&&$a.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,$a)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,M=p.length;v<M;v++){const x=p[v],g=o[x.materialIndex],_=Math.max(x.start,m.start),A=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let E=_,C=A;E<C;E+=3){const b=a.getX(E),B=a.getX(E+1),L=a.getX(E+2);r=Am(this,g,e,i,u,h,d,b,B,L),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const v=Math.max(0,m.start),M=Math.min(a.count,m.start+m.count);for(let x=v,g=M;x<g;x+=3){const _=a.getX(x),A=a.getX(x+1),E=a.getX(x+2);r=Am(this,o,e,i,u,h,d,_,A,E),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,M=p.length;v<M;v++){const x=p[v],g=o[x.materialIndex],_=Math.max(x.start,m.start),A=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let E=_,C=A;E<C;E+=3){const b=E,B=E+1,L=E+2;r=Am(this,g,e,i,u,h,d,b,B,L),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const v=Math.max(0,m.start),M=Math.min(l.count,m.start+m.count);for(let x=v,g=M;x<g;x+=3){const _=x,A=x+1,E=x+2;r=Am(this,o,e,i,u,h,d,_,A,E),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}}}function fG(t,e,n,i,r,s,o,a){let l;if(e.side===Bi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Us,a),l===null)return null;Sm.copy(a),Sm.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Sm);return u<n.near||u>n.far?null:{distance:u,point:Sm.clone(),object:t}}function Am(t,e,n,i,r,s,o,a,l,u){t.getVertexPosition(a,Bu),t.getVertexPosition(l,Lu),t.getVertexPosition(u,Iu);const h=fG(t,e,n,i,Bu,Lu,Iu,_m);if(h){r&&(ym.fromBufferAttribute(r,a),vm.fromBufferAttribute(r,l),xm.fromBufferAttribute(r,u),h.uv=Wi.getInterpolation(_m,Bu,Lu,Iu,ym,vm,xm,new me)),s&&(ym.fromBufferAttribute(s,a),vm.fromBufferAttribute(s,l),xm.fromBufferAttribute(s,u),h.uv1=Wi.getInterpolation(_m,Bu,Lu,Iu,ym,vm,xm,new me),h.uv2=h.uv1),o&&(zC.fromBufferAttribute(o,a),GC.fromBufferAttribute(o,l),VC.fromBufferAttribute(o,u),h.normal=Wi.getInterpolation(_m,Bu,Lu,Iu,zC,GC,VC,new F),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new F,materialIndex:0};Wi.getNormal(Bu,Lu,Iu,d.normal),h.face=d}return h}class Na extends At{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,n,e,o,s,0),v("z","y","x",1,-1,i,n,-e,o,s,1),v("x","z","y",1,1,e,i,n,r,o,2),v("x","z","y",1,-1,e,i,-n,r,o,3),v("x","y","z",1,-1,e,n,i,r,s,4),v("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(h,3)),this.setAttribute("uv",new Xe(d,2));function v(M,x,g,_,A,E,C,b,B,L,R){const P=E/B,H=C/L,ee=E/2,K=C/2,Q=b/2,Y=B+1,ae=L+1;let ne=0,I=0;const z=new F;for(let U=0;U<ae;U++){const Z=U*H-K;for(let V=0;V<Y;V++){const se=V*P-ee;z[M]=se*_,z[x]=Z*A,z[g]=Q,u.push(z.x,z.y,z.z),z[M]=0,z[x]=0,z[g]=b>0?1:-1,h.push(z.x,z.y,z.z),d.push(V/B),d.push(1-U/L),ne+=1}}for(let U=0;U<L;U++)for(let Z=0;Z<B;Z++){const V=p+Z+Y*U,se=p+Z+Y*(U+1),ce=p+(Z+1)+Y*(U+1),Ae=p+(Z+1)+Y*U;l.push(V,se,Ae),l.push(se,ce,Ae),I+=6}a.addGroup(m,I,R),m+=I,p+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Na(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Oc(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ti(t){const e={};for(let n=0;n<t.length;n++){const i=Oc(t[n]);for(const r in i)e[r]=i[r]}return e}function hG(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oD(t){return t.getRenderTarget()===null?t.outputColorSpace:fs}const aD={clone:Oc,merge:Ti};var dG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zs extends Fn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dG,this.fragmentShader=pG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Oc(e.uniforms),this.uniformsGroups=hG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class yd extends Ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt,this.coordinateSystem=Is}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class rn extends yd{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=kc*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Fl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kc*2*Math.atan(Math.tan(Fl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Fl*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Du=-90,Fu=1;class cM extends Ft{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new rn(Du,Fu,e,n);r.layers=this.layers,this.add(r);const s=new rn(Du,Fu,e,n);s.layers=this.layers,this.add(s);const o=new rn(Du,Fu,e,n);o.layers=this.layers,this.add(o);const a=new rn(Du,Fu,e,n);a.layers=this.layers,this.add(a);const l=new rn(Du,Fu,e,n);l.layers=this.layers,this.add(l);const u=new rn(Du,Fu,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Is)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Kh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,u]=this.children,h=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=us,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,o),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class vd extends un{constructor(e,n,i,r,s,o,a,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:wa,super(e,n,i,r,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fM extends hs{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(gh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===va?_t:xa),this.texture=new vd(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:dn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Na(5,5,5),s=new zs({name:"CubemapFromEquirect",uniforms:Oc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Bi,blending:go});s.uniforms.tEquirect.value=n;const o=new Yn(r,s),a=n.minFilter;return n.minFilter===Hs&&(n.minFilter=dn),new cM(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const Lx=new F,mG=new F,gG=new wt;class oo{constructor(e=new F(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Lx.subVectors(i,n).cross(mG.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Lx),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||gG.getNormalMatrix(e),r=this.coplanarPoint(Lx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qa=new jr,Mm=new F;class uy{constructor(e=new oo,n=new oo,i=new oo,r=new oo,s=new oo,o=new oo){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Is){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],u=r[4],h=r[5],d=r[6],p=r[7],m=r[8],v=r[9],M=r[10],x=r[11],g=r[12],_=r[13],A=r[14],E=r[15];if(i[0].setComponents(l-s,p-u,x-m,E-g).normalize(),i[1].setComponents(l+s,p+u,x+m,E+g).normalize(),i[2].setComponents(l+o,p+h,x+v,E+_).normalize(),i[3].setComponents(l-o,p-h,x-v,E-_).normalize(),i[4].setComponents(l-a,p-d,x-M,E-A).normalize(),n===Is)i[5].setComponents(l+a,p+d,x+M,E+A).normalize();else if(n===Kh)i[5].setComponents(a,d,M,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Qa.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qa)}intersectsSprite(e){return Qa.center.set(0,0,0),Qa.radius=.7071067811865476,Qa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qa)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Mm.x=r.normal.x>0?e.max.x:e.min.x,Mm.y=r.normal.y>0?e.max.y:e.min.y,Mm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Mm)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lD(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function yG(t,e){const n=e.isWebGL2,i=new WeakMap;function r(u,h){const d=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(h,m),t.bufferData(h,d,p),u.onUploadCallback();let v;if(d instanceof Float32Array)v=t.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=t.SHORT;else if(d instanceof Uint32Array)v=t.UNSIGNED_INT;else if(d instanceof Int32Array)v=t.INT;else if(d instanceof Int8Array)v=t.BYTE;else if(d instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,d){const p=h.array,m=h.updateRange;t.bindBuffer(d,u),m.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h&&(t.deleteBuffer(h.buffer),i.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,h)):d.version<u.version&&(s(d.buffer,u,h),d.version=u.version)}return{get:o,remove:a,update:l}}class Jc extends At{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),u=a+1,h=l+1,d=e/a,p=n/l,m=[],v=[],M=[],x=[];for(let g=0;g<h;g++){const _=g*p-o;for(let A=0;A<u;A++){const E=A*d-s;v.push(E,-_,0),M.push(0,0,1),x.push(A/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const A=_+u*g,E=_+u*(g+1),C=_+1+u*(g+1),b=_+1+u*g;m.push(A,E,b),m.push(E,C,b)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(M,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jc(e.width,e.height,e.widthSegments,e.heightSegments)}}var vG=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,xG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_G=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,SG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,MG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,EG="vec3 transformed = vec3( position );",wG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,TG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,CG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,PG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,BG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,LG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,IG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,FG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,NG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,kG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,OG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,UG=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,HG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,GG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,VG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,WG="gl_FragColor = linearToOutputTexel( gl_FragColor );",jG=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,XG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,JG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,KG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,$G=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,QG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ZG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,e4=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,t4=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,n4=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,i4=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,r4=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,s4=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,o4=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,a4=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,l4=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,u4=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,c4=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,f4=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,h4=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,d4=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,p4=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,m4=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,g4=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,y4=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,v4=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,x4=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,_4=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,S4=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,A4=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,M4=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,E4=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,w4=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,T4=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,C4=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,b4=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,R4=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,P4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,B4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,L4=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,I4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,N4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,k4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,O4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,U4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,H4=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,z4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,G4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,V4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,W4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,j4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,X4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,K4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Y4=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,$4=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Q4=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Z4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,q4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,tV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,sV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,oV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uV=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cV=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fV=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_V=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,SV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CV=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,LV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,FV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,OV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,GV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VV=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Et={alphamap_fragment:vG,alphamap_pars_fragment:xG,alphatest_fragment:_G,alphatest_pars_fragment:SG,aomap_fragment:AG,aomap_pars_fragment:MG,begin_vertex:EG,beginnormal_vertex:wG,bsdfs:TG,iridescence_fragment:CG,bumpmap_pars_fragment:bG,clipping_planes_fragment:RG,clipping_planes_pars_fragment:PG,clipping_planes_pars_vertex:BG,clipping_planes_vertex:LG,color_fragment:IG,color_pars_fragment:DG,color_pars_vertex:FG,color_vertex:NG,common:kG,cube_uv_reflection_fragment:OG,defaultnormal_vertex:UG,displacementmap_pars_vertex:HG,displacementmap_vertex:zG,emissivemap_fragment:GG,emissivemap_pars_fragment:VG,encodings_fragment:WG,encodings_pars_fragment:jG,envmap_fragment:XG,envmap_common_pars_fragment:JG,envmap_pars_fragment:KG,envmap_pars_vertex:YG,envmap_physical_pars_fragment:a4,envmap_vertex:$G,fog_vertex:QG,fog_pars_vertex:ZG,fog_fragment:qG,fog_pars_fragment:e4,gradientmap_pars_fragment:t4,lightmap_fragment:n4,lightmap_pars_fragment:i4,lights_lambert_fragment:r4,lights_lambert_pars_fragment:s4,lights_pars_begin:o4,lights_toon_fragment:l4,lights_toon_pars_fragment:u4,lights_phong_fragment:c4,lights_phong_pars_fragment:f4,lights_physical_fragment:h4,lights_physical_pars_fragment:d4,lights_fragment_begin:p4,lights_fragment_maps:m4,lights_fragment_end:g4,logdepthbuf_fragment:y4,logdepthbuf_pars_fragment:v4,logdepthbuf_pars_vertex:x4,logdepthbuf_vertex:_4,map_fragment:S4,map_pars_fragment:A4,map_particle_fragment:M4,map_particle_pars_fragment:E4,metalnessmap_fragment:w4,metalnessmap_pars_fragment:T4,morphcolor_vertex:C4,morphnormal_vertex:b4,morphtarget_pars_vertex:R4,morphtarget_vertex:P4,normal_fragment_begin:B4,normal_fragment_maps:L4,normal_pars_fragment:I4,normal_pars_vertex:D4,normal_vertex:F4,normalmap_pars_fragment:N4,clearcoat_normal_fragment_begin:k4,clearcoat_normal_fragment_maps:O4,clearcoat_pars_fragment:U4,iridescence_pars_fragment:H4,output_fragment:z4,packing:G4,premultiplied_alpha_fragment:V4,project_vertex:W4,dithering_fragment:j4,dithering_pars_fragment:X4,roughnessmap_fragment:J4,roughnessmap_pars_fragment:K4,shadowmap_pars_fragment:Y4,shadowmap_pars_vertex:$4,shadowmap_vertex:Q4,shadowmask_pars_fragment:Z4,skinbase_vertex:q4,skinning_pars_vertex:eV,skinning_vertex:tV,skinnormal_vertex:nV,specularmap_fragment:iV,specularmap_pars_fragment:rV,tonemapping_fragment:sV,tonemapping_pars_fragment:oV,transmission_fragment:aV,transmission_pars_fragment:lV,uv_pars_fragment:uV,uv_pars_vertex:cV,uv_vertex:fV,worldpos_vertex:hV,background_vert:dV,background_frag:pV,backgroundCube_vert:mV,backgroundCube_frag:gV,cube_vert:yV,cube_frag:vV,depth_vert:xV,depth_frag:_V,distanceRGBA_vert:SV,distanceRGBA_frag:AV,equirect_vert:MV,equirect_frag:EV,linedashed_vert:wV,linedashed_frag:TV,meshbasic_vert:CV,meshbasic_frag:bV,meshlambert_vert:RV,meshlambert_frag:PV,meshmatcap_vert:BV,meshmatcap_frag:LV,meshnormal_vert:IV,meshnormal_frag:DV,meshphong_vert:FV,meshphong_frag:NV,meshphysical_vert:kV,meshphysical_frag:OV,meshtoon_vert:UV,meshtoon_frag:HV,points_vert:zV,points_frag:GV,shadow_vert:VV,shadow_frag:WV,sprite_vert:jV,sprite_frag:XV},De={common:{diffuse:{value:new Ne(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wt},normalScale:{value:new me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ne(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ne(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0},uvTransform:{value:new wt}},sprite:{diffuse:{value:new Ne(16777215)},opacity:{value:1},center:{value:new me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}}},ss={basic:{uniforms:Ti([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:Ti([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Ne(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:Ti([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Ne(0)},specular:{value:new Ne(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:Ti([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new Ne(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:Ti([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new Ne(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:Ti([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:Ti([De.points,De.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:Ti([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:Ti([De.common,De.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:Ti([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:Ti([De.sprite,De.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Et.backgroundCube_vert,fragmentShader:Et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:Ti([De.common,De.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:Ti([De.lights,De.fog,{color:{value:new Ne(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};ss.physical={uniforms:Ti([ss.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wt},clearcoatNormalScale:{value:new me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wt},sheen:{value:0},sheenColor:{value:new Ne(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wt},transmissionSamplerSize:{value:new me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wt},attenuationDistance:{value:0},attenuationColor:{value:new Ne(0)},specularColor:{value:new Ne(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wt},anisotropyVector:{value:new me},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wt}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};const Em={r:0,b:0,g:0};function JV(t,e,n,i,r,s,o){const a=new Ne(0);let l=s===!0?0:1,u,h,d=null,p=0,m=null;function v(x,g){let _=!1,A=g.isScene===!0?g.background:null;switch(A&&A.isTexture&&(A=(g.backgroundBlurriness>0?n:e).get(A)),A===null?M(a,l):A&&A.isColor&&(M(A,1),_=!0),t.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),_=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),_=!0;break}(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),A&&(A.isCubeTexture||A.mapping===Xc)?(h===void 0&&(h=new Yn(new Na(1,1,1),new zs({name:"BackgroundCubeMaterial",uniforms:Oc(ss.backgroundCube.uniforms),vertexShader:ss.backgroundCube.vertexShader,fragmentShader:ss.backgroundCube.fragmentShader,side:Bi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(b,B,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=A.colorSpace!==_t,(d!==A||p!==A.version||m!==t.toneMapping)&&(h.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new Yn(new Jc(2,2),new zs({name:"BackgroundMaterial",uniforms:Oc(ss.background.uniforms),vertexShader:ss.background.vertexShader,fragmentShader:ss.background.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=A.colorSpace!==_t,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function M(x,g){x.getRGB(Em,oD(t)),i.buffers.color.setClear(Em.r,Em.g,Em.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,M(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,M(a,l)},render:v}}function KV(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let u=l,h=!1;function d(Q,Y,ae,ne,I){let z=!1;if(o){const U=M(ne,ae,Y);u!==U&&(u=U,m(u.object)),z=g(Q,ne,ae,I),z&&_(Q,ne,ae,I)}else{const U=Y.wireframe===!0;(u.geometry!==ne.id||u.program!==ae.id||u.wireframe!==U)&&(u.geometry=ne.id,u.program=ae.id,u.wireframe=U,z=!0)}I!==null&&n.update(I,t.ELEMENT_ARRAY_BUFFER),(z||h)&&(h=!1,L(Q,Y,ae,ne),I!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(I).buffer))}function p(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(Q){return i.isWebGL2?t.bindVertexArray(Q):s.bindVertexArrayOES(Q)}function v(Q){return i.isWebGL2?t.deleteVertexArray(Q):s.deleteVertexArrayOES(Q)}function M(Q,Y,ae){const ne=ae.wireframe===!0;let I=a[Q.id];I===void 0&&(I={},a[Q.id]=I);let z=I[Y.id];z===void 0&&(z={},I[Y.id]=z);let U=z[ne];return U===void 0&&(U=x(p()),z[ne]=U),U}function x(Q){const Y=[],ae=[],ne=[];for(let I=0;I<r;I++)Y[I]=0,ae[I]=0,ne[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:ae,attributeDivisors:ne,object:Q,attributes:{},index:null}}function g(Q,Y,ae,ne){const I=u.attributes,z=Y.attributes;let U=0;const Z=ae.getAttributes();for(const V in Z)if(Z[V].location>=0){const ce=I[V];let Ae=z[V];if(Ae===void 0&&(V==="instanceMatrix"&&Q.instanceMatrix&&(Ae=Q.instanceMatrix),V==="instanceColor"&&Q.instanceColor&&(Ae=Q.instanceColor)),ce===void 0||ce.attribute!==Ae||Ae&&ce.data!==Ae.data)return!0;U++}return u.attributesNum!==U||u.index!==ne}function _(Q,Y,ae,ne){const I={},z=Y.attributes;let U=0;const Z=ae.getAttributes();for(const V in Z)if(Z[V].location>=0){let ce=z[V];ce===void 0&&(V==="instanceMatrix"&&Q.instanceMatrix&&(ce=Q.instanceMatrix),V==="instanceColor"&&Q.instanceColor&&(ce=Q.instanceColor));const Ae={};Ae.attribute=ce,ce&&ce.data&&(Ae.data=ce.data),I[V]=Ae,U++}u.attributes=I,u.attributesNum=U,u.index=ne}function A(){const Q=u.newAttributes;for(let Y=0,ae=Q.length;Y<ae;Y++)Q[Y]=0}function E(Q){C(Q,0)}function C(Q,Y){const ae=u.newAttributes,ne=u.enabledAttributes,I=u.attributeDivisors;ae[Q]=1,ne[Q]===0&&(t.enableVertexAttribArray(Q),ne[Q]=1),I[Q]!==Y&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,Y),I[Q]=Y)}function b(){const Q=u.newAttributes,Y=u.enabledAttributes;for(let ae=0,ne=Y.length;ae<ne;ae++)Y[ae]!==Q[ae]&&(t.disableVertexAttribArray(ae),Y[ae]=0)}function B(Q,Y,ae,ne,I,z,U){U===!0?t.vertexAttribIPointer(Q,Y,ae,I,z):t.vertexAttribPointer(Q,Y,ae,ne,I,z)}function L(Q,Y,ae,ne){if(i.isWebGL2===!1&&(Q.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const I=ne.attributes,z=ae.getAttributes(),U=Y.defaultAttributeValues;for(const Z in z){const V=z[Z];if(V.location>=0){let se=I[Z];if(se===void 0&&(Z==="instanceMatrix"&&Q.instanceMatrix&&(se=Q.instanceMatrix),Z==="instanceColor"&&Q.instanceColor&&(se=Q.instanceColor)),se!==void 0){const ce=se.normalized,Ae=se.itemSize,_e=n.get(se);if(_e===void 0)continue;const Pe=_e.buffer,qe=_e.type,$e=_e.bytesPerElement,nt=i.isWebGL2===!0&&(qe===t.INT||qe===t.UNSIGNED_INT||se.gpuType===YA);if(se.isInterleavedBufferAttribute){const Ee=se.data,G=Ee.stride,ve=se.offset;if(Ee.isInstancedInterleavedBuffer){for(let ye=0;ye<V.locationSize;ye++)C(V.location+ye,Ee.meshPerAttribute);Q.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let ye=0;ye<V.locationSize;ye++)E(V.location+ye);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let ye=0;ye<V.locationSize;ye++)B(V.location+ye,Ae/V.locationSize,qe,ce,G*$e,(ve+Ae/V.locationSize*ye)*$e,nt)}else{if(se.isInstancedBufferAttribute){for(let Ee=0;Ee<V.locationSize;Ee++)C(V.location+Ee,se.meshPerAttribute);Q.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ee=0;Ee<V.locationSize;Ee++)E(V.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let Ee=0;Ee<V.locationSize;Ee++)B(V.location+Ee,Ae/V.locationSize,qe,ce,Ae*$e,Ae/V.locationSize*Ee*$e,nt)}}else if(U!==void 0){const ce=U[Z];if(ce!==void 0)switch(ce.length){case 2:t.vertexAttrib2fv(V.location,ce);break;case 3:t.vertexAttrib3fv(V.location,ce);break;case 4:t.vertexAttrib4fv(V.location,ce);break;default:t.vertexAttrib1fv(V.location,ce)}}}}b()}function R(){ee();for(const Q in a){const Y=a[Q];for(const ae in Y){const ne=Y[ae];for(const I in ne)v(ne[I].object),delete ne[I];delete Y[ae]}delete a[Q]}}function P(Q){if(a[Q.id]===void 0)return;const Y=a[Q.id];for(const ae in Y){const ne=Y[ae];for(const I in ne)v(ne[I].object),delete ne[I];delete Y[ae]}delete a[Q.id]}function H(Q){for(const Y in a){const ae=a[Y];if(ae[Q.id]===void 0)continue;const ne=ae[Q.id];for(const I in ne)v(ne[I].object),delete ne[I];delete ae[Q.id]}}function ee(){K(),h=!0,u!==l&&(u=l,m(u.object))}function K(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:ee,resetDefaultState:K,dispose:R,releaseStatesOfGeometry:P,releaseStatesOfProgram:H,initAttributes:A,enableAttribute:E,disableUnusedAttributes:b}}function YV(t,e,n,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,h){t.drawArrays(s,u,h),n.update(h,s,1)}function l(u,h,d){if(d===0)return;let p,m;if(r)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,h,d),n.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function $V(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),M=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=p>0,E=o||e.has("OES_texture_float"),C=A&&E,b=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:M,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:_,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:b}}function QV(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new oo,a=new wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,M=d.clipIntersection,x=d.clipShadows,g=t.get(d);if(!r||v===null||v.length===0||s&&!x)s?h(null):u();else{const _=s?0:i,A=_*4;let E=g.clippingState||null;l.value=E,E=h(v,p,A,m);for(let C=0;C!==A;++C)E[C]=n[C];g.clippingState=E,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const M=d!==null?d.length:0;let x=null;if(M!==0){if(x=l.value,v!==!0||x===null){const g=m+M*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<g)&&(x=new Float32Array(g));for(let A=0,E=m;A!==M;++A,E+=4)o.copy(d[A]).applyMatrix4(_,a),o.normal.toArray(x,E),x[E+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,x}}function ZV(t){let e=new WeakMap;function n(o,a){return a===Vh?o.mapping=wa:a===Wh&&(o.mapping=Ta),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Vh||a===Wh)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new fM(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",r),n(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class zr extends yd{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ac=4,WC=[.125,.215,.35,.446,.526,.582],pl=20,Ix=new zr,jC=new Ne;let Dx=null;const cl=(1+Math.sqrt(5))/2,Nu=1/cl,XC=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,cl,Nu),new F(0,cl,-Nu),new F(Nu,0,cl),new F(-Nu,0,cl),new F(cl,Nu,0),new F(-cl,Nu,0)];class aS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Dx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=YC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=KC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Dx),e.scissorTest=!1,wm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===wa||e.mapping===Ta?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Dx=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:Fc,format:ji,colorSpace:fs,depthBuffer:!1},r=JC(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=JC(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qV(s)),this._blurMaterial=e5(s,e,n)}return r}_compileMaterial(e){const n=new Yn(this._lodPlanes[0],e);this._renderer.compile(n,Ix)}_sceneToCubeUV(e,n,i,r){const a=new rn(90,1,n,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(jC),h.toneMapping=us,h.autoClear=!1;const m=new pr({name:"PMREM.Background",side:Bi,depthWrite:!1,depthTest:!1}),v=new Yn(new Na,m);let M=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,M=!0):(m.color.copy(jC),M=!0);for(let g=0;g<6;g++){const _=g%3;_===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):_===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const A=this._cubeSize;wm(r,_*A,g>2?A:0,A,A),h.setRenderTarget(r),M&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=x}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===wa||e.mapping===Ta;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=YC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=KC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Yn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;wm(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,Ix)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=XC[(r-1)%XC.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Yn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*pl-1),M=s/v,x=isFinite(s)?1+Math.floor(h*M):pl;x>pl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${pl}`);const g=[];let _=0;for(let B=0;B<pl;++B){const L=B/M,R=Math.exp(-L*L/2);g.push(R),B===0?_+=R:B<x&&(_+=2*R)}for(let B=0;B<g.length;B++)g[B]=g[B]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-i;const E=this._sizeLods[r],C=3*E*(r>A-ac?r-A+ac:0),b=4*(this._cubeSize-E);wm(n,C,b,3*E,2*E),l.setRenderTarget(n),l.render(d,Ix)}}function qV(t){const e=[],n=[],i=[];let r=t;const s=t-ac+1+WC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-ac?l=WC[o-t+ac-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),h=-u,d=1+u,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,M=3,x=2,g=1,_=new Float32Array(M*v*m),A=new Float32Array(x*v*m),E=new Float32Array(g*v*m);for(let b=0;b<m;b++){const B=b%3*2/3-1,L=b>2?0:-1,R=[B,L,0,B+2/3,L,0,B+2/3,L+1,0,B,L,0,B+2/3,L+1,0,B,L+1,0];_.set(R,M*v*b),A.set(p,x*v*b);const P=[b,b,b,b,b,b];E.set(P,g*v*b)}const C=new At;C.setAttribute("position",new Ht(_,M)),C.setAttribute("uv",new Ht(A,x)),C.setAttribute("faceIndex",new Ht(E,g)),e.push(C),r>ac&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function JC(t,e,n){const i=new hs(t,e,n);return i.texture.mapping=Xc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function wm(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function e5(t,e,n){const i=new Float32Array(pl),r=new F(0,1,0);return new zs({name:"SphericalGaussianBlur",defines:{n:pl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function KC(){return new zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function YC(){return new zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:go,depthTest:!1,depthWrite:!1})}function hM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function t5(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===Vh||l===Wh,h=l===wa||l===Ta;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new aS(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||h&&d&&r(d)){n===null&&(n=new aS(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function n5(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function i5(t,e,n,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const M=p.morphAttributes[v];for(let x=0,g=M.length;x<g;x++)e.remove(M[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const M=m[v];for(let x=0,g=M.length;x<g;x++)e.update(M[x],t.ARRAY_BUFFER)}}function u(d){const p=[],m=d.index,v=d.attributes.position;let M=0;if(m!==null){const _=m.array;M=m.version;for(let A=0,E=_.length;A<E;A+=3){const C=_[A+0],b=_[A+1],B=_[A+2];p.push(C,b,b,B,B,C)}}else{const _=v.array;M=v.version;for(let A=0,E=_.length/3-1;A<E;A+=3){const C=A+0,b=A+1,B=A+2;p.push(C,b,b,B,B,C)}}const x=new(rD(p)?uM:lM)(p,1);x.version=M;const g=s.get(d);g&&e.remove(g),s.set(d,x)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function r5(t,e,n,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function h(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function d(p,m,v){if(v===0)return;let M,x;if(r)M=t,x="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",M===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}M[x](s,m,a,p*l,v),n.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=d}function s5(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function o5(t,e){return t[0]-e[0]}function a5(t,e){return Math.abs(e[1])-Math.abs(t[1])}function l5(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new jt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,M=v!==void 0?v.length:0;let x=s.get(h);if(x===void 0||x.count!==M){let Y=function(){K.dispose(),s.delete(h),h.removeEventListener("dispose",Y)};var m=Y;x!==void 0&&x.texture.dispose();const A=h.morphAttributes.position!==void 0,E=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,b=h.morphAttributes.position||[],B=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let R=0;A===!0&&(R=1),E===!0&&(R=2),C===!0&&(R=3);let P=h.attributes.position.count*R,H=1;P>e.maxTextureSize&&(H=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const ee=new Float32Array(P*H*4*M),K=new ly(ee,P,H,M);K.type=Ls,K.needsUpdate=!0;const Q=R*4;for(let ae=0;ae<M;ae++){const ne=b[ae],I=B[ae],z=L[ae],U=P*H*4*ae;for(let Z=0;Z<ne.count;Z++){const V=Z*Q;A===!0&&(o.fromBufferAttribute(ne,Z),ee[U+V+0]=o.x,ee[U+V+1]=o.y,ee[U+V+2]=o.z,ee[U+V+3]=0),E===!0&&(o.fromBufferAttribute(I,Z),ee[U+V+4]=o.x,ee[U+V+5]=o.y,ee[U+V+6]=o.z,ee[U+V+7]=0),C===!0&&(o.fromBufferAttribute(z,Z),ee[U+V+8]=o.x,ee[U+V+9]=o.y,ee[U+V+10]=o.z,ee[U+V+11]=z.itemSize===4?o.w:1)}}x={count:M,texture:K,size:new me(P,H)},s.set(h,x),h.addEventListener("dispose",Y)}let g=0;for(let A=0;A<p.length;A++)g+=p[A];const _=h.morphTargetsRelative?1:1-g;d.getUniforms().setValue(t,"morphTargetBaseInfluence",_),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let M=i[h.id];if(M===void 0||M.length!==v){M=[];for(let E=0;E<v;E++)M[E]=[E,0];i[h.id]=M}for(let E=0;E<v;E++){const C=M[E];C[0]=E,C[1]=p[E]}M.sort(a5);for(let E=0;E<8;E++)E<v&&M[E][1]?(a[E][0]=M[E][0],a[E][1]=M[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(o5);const x=h.morphAttributes.position,g=h.morphAttributes.normal;let _=0;for(let E=0;E<8;E++){const C=a[E],b=C[0],B=C[1];b!==Number.MAX_SAFE_INTEGER&&B?(x&&h.getAttribute("morphTarget"+E)!==x[b]&&h.setAttribute("morphTarget"+E,x[b]),g&&h.getAttribute("morphNormal"+E)!==g[b]&&h.setAttribute("morphNormal"+E,g[b]),r[E]=B,_+=B):(x&&h.hasAttribute("morphTarget"+E)===!0&&h.deleteAttribute("morphTarget"+E),g&&h.hasAttribute("morphNormal"+E)===!0&&h.deleteAttribute("morphNormal"+E),r[E]=0)}const A=h.morphTargetsRelative?1:1-_;d.getUniforms().setValue(t,"morphTargetBaseInfluence",A),d.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function u5(t,e,n,i){let r=new WeakMap;function s(l){const u=i.render.frame,h=l.geometry,d=e.get(l,h);return r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER)),d}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const uD=new un,cD=new ly,fD=new aM,hD=new vd,$C=[],QC=[],ZC=new Float32Array(16),qC=new Float32Array(9),eb=new Float32Array(4);function Kc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=$C[r];if(s===void 0&&(s=new Float32Array(r),$C[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function zn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Gn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function cy(t,e){let n=QC[e];n===void 0&&(n=new Int32Array(e),QC[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function c5(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function f5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zn(n,e))return;t.uniform2fv(this.addr,e),Gn(n,e)}}function h5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(zn(n,e))return;t.uniform3fv(this.addr,e),Gn(n,e)}}function d5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zn(n,e))return;t.uniform4fv(this.addr,e),Gn(n,e)}}function p5(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Gn(n,e)}else{if(zn(n,i))return;eb.set(i),t.uniformMatrix2fv(this.addr,!1,eb),Gn(n,i)}}function m5(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Gn(n,e)}else{if(zn(n,i))return;qC.set(i),t.uniformMatrix3fv(this.addr,!1,qC),Gn(n,i)}}function g5(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Gn(n,e)}else{if(zn(n,i))return;ZC.set(i),t.uniformMatrix4fv(this.addr,!1,ZC),Gn(n,i)}}function y5(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function v5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zn(n,e))return;t.uniform2iv(this.addr,e),Gn(n,e)}}function x5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zn(n,e))return;t.uniform3iv(this.addr,e),Gn(n,e)}}function _5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zn(n,e))return;t.uniform4iv(this.addr,e),Gn(n,e)}}function S5(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function A5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zn(n,e))return;t.uniform2uiv(this.addr,e),Gn(n,e)}}function M5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zn(n,e))return;t.uniform3uiv(this.addr,e),Gn(n,e)}}function E5(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zn(n,e))return;t.uniform4uiv(this.addr,e),Gn(n,e)}}function w5(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||uD,r)}function T5(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||fD,r)}function C5(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||hD,r)}function b5(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||cD,r)}function R5(t){switch(t){case 5126:return c5;case 35664:return f5;case 35665:return h5;case 35666:return d5;case 35674:return p5;case 35675:return m5;case 35676:return g5;case 5124:case 35670:return y5;case 35667:case 35671:return v5;case 35668:case 35672:return x5;case 35669:case 35673:return _5;case 5125:return S5;case 36294:return A5;case 36295:return M5;case 36296:return E5;case 35678:case 36198:case 36298:case 36306:case 35682:return w5;case 35679:case 36299:case 36307:return T5;case 35680:case 36300:case 36308:case 36293:return C5;case 36289:case 36303:case 36311:case 36292:return b5}}function P5(t,e){t.uniform1fv(this.addr,e)}function B5(t,e){const n=Kc(e,this.size,2);t.uniform2fv(this.addr,n)}function L5(t,e){const n=Kc(e,this.size,3);t.uniform3fv(this.addr,n)}function I5(t,e){const n=Kc(e,this.size,4);t.uniform4fv(this.addr,n)}function D5(t,e){const n=Kc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function F5(t,e){const n=Kc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function N5(t,e){const n=Kc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function k5(t,e){t.uniform1iv(this.addr,e)}function O5(t,e){t.uniform2iv(this.addr,e)}function U5(t,e){t.uniform3iv(this.addr,e)}function H5(t,e){t.uniform4iv(this.addr,e)}function z5(t,e){t.uniform1uiv(this.addr,e)}function G5(t,e){t.uniform2uiv(this.addr,e)}function V5(t,e){t.uniform3uiv(this.addr,e)}function W5(t,e){t.uniform4uiv(this.addr,e)}function j5(t,e,n){const i=this.cache,r=e.length,s=cy(n,r);zn(i,s)||(t.uniform1iv(this.addr,s),Gn(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||uD,s[o])}function X5(t,e,n){const i=this.cache,r=e.length,s=cy(n,r);zn(i,s)||(t.uniform1iv(this.addr,s),Gn(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||fD,s[o])}function J5(t,e,n){const i=this.cache,r=e.length,s=cy(n,r);zn(i,s)||(t.uniform1iv(this.addr,s),Gn(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||hD,s[o])}function K5(t,e,n){const i=this.cache,r=e.length,s=cy(n,r);zn(i,s)||(t.uniform1iv(this.addr,s),Gn(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||cD,s[o])}function Y5(t){switch(t){case 5126:return P5;case 35664:return B5;case 35665:return L5;case 35666:return I5;case 35674:return D5;case 35675:return F5;case 35676:return N5;case 5124:case 35670:return k5;case 35667:case 35671:return O5;case 35668:case 35672:return U5;case 35669:case 35673:return H5;case 5125:return z5;case 36294:return G5;case 36295:return V5;case 36296:return W5;case 35678:case 36198:case 36298:case 36306:case 35682:return j5;case 35679:case 36299:case 36307:return X5;case 35680:case 36300:case 36308:case 36293:return J5;case 36289:case 36303:case 36311:case 36292:return K5}}class $5{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=R5(n.type)}}class Q5{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=Y5(n.type)}}class Z5{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const Fx=/(\w+)(\])?(\[|\.)?/g;function tb(t,e){t.seq.push(e),t.map[e.id]=e}function q5(t,e,n){const i=t.name,r=i.length;for(Fx.lastIndex=0;;){const s=Fx.exec(i),o=Fx.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){tb(n,u===void 0?new $5(a,t,e):new Q5(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Z5(a),tb(n,d)),n=d}}}class Tg{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);q5(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function nb(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let e9=0;function t9(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function n9(t){switch(t){case fs:return["Linear","( value )"];case _t:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function ib(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+t9(t.getShaderSource(e),o)}else return r}function i9(t,e){const n=n9(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function r9(t,e){let n;switch(e){case CI:n="Linear";break;case bI:n="Reinhard";break;case RI:n="OptimizedCineon";break;case KA:n="ACESFilmic";break;case PI:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function s9(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qf).join(`
`)}function o9(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function a9(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function qf(t){return t!==""}function rb(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sb(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const l9=/^[ \t]*#include +<([\w\d./]+)>/gm;function lS(t){return t.replace(l9,u9)}function u9(t,e){const n=Et[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return lS(n)}const c9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ob(t){return t.replace(c9,f9)}function f9(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function ab(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function h9(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===iy?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ph?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ns&&(e="SHADOWMAP_TYPE_VSM"),e}function d9(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case wa:case Ta:e="ENVMAP_TYPE_CUBE";break;case Xc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function p9(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ta:e="ENVMAP_MODE_REFRACTION";break}return e}function m9(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case md:e="ENVMAP_BLENDING_MULTIPLY";break;case wI:e="ENVMAP_BLENDING_MIX";break;case TI:e="ENVMAP_BLENDING_ADD";break}return e}function g9(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function y9(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=h9(n),u=d9(n),h=p9(n),d=m9(n),p=g9(n),m=n.isWebGL2?"":s9(n),v=o9(s),M=r.createProgram();let x,g,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(qf).join(`
`),x.length>0&&(x+=`
`),g=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(qf).join(`
`),g.length>0&&(g+=`
`)):(x=[ab(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qf).join(`
`),g=[m,ab(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==us?"#define TONE_MAPPING":"",n.toneMapping!==us?Et.tonemapping_pars_fragment:"",n.toneMapping!==us?r9("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Et.encodings_pars_fragment,i9("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(qf).join(`
`)),o=lS(o),o=rb(o,n),o=sb(o,n),a=lS(a),a=rb(a,n),a=sb(a,n),o=ob(o),a=ob(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",n.glslVersion===sS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===sS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const A=_+x+o,E=_+g+a,C=nb(r,r.VERTEX_SHADER,A),b=nb(r,r.FRAGMENT_SHADER,E);if(r.attachShader(M,C),r.attachShader(M,b),n.index0AttributeName!==void 0?r.bindAttribLocation(M,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M),t.debug.checkShaderErrors){const R=r.getProgramInfoLog(M).trim(),P=r.getShaderInfoLog(C).trim(),H=r.getShaderInfoLog(b).trim();let ee=!0,K=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,M,C,b);else{const Q=ib(r,C,"vertex"),Y=ib(r,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Program Info Log: `+R+`
`+Q+`
`+Y)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(P===""||H==="")&&(K=!1);K&&(this.diagnostics={runnable:ee,programLog:R,vertexShader:{log:P,prefix:x},fragmentShader:{log:H,prefix:g}})}r.deleteShader(C),r.deleteShader(b);let B;this.getUniforms=function(){return B===void 0&&(B=new Tg(r,M)),B};let L;return this.getAttributes=function(){return L===void 0&&(L=a9(r,M)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=e9++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=C,this.fragmentShader=b,this}let v9=0;class x9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new _9(e),n.set(e,i)),i}}class _9{constructor(e){this.id=v9++,this.code=e,this.usedTimes=0}}function S9(t,e,n,i,r,s,o){const a=new Nl,l=new x9,u=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(R){return R===0?"uv":`uv${R}`}function x(R,P,H,ee,K){const Q=ee.fog,Y=K.geometry,ae=R.isMeshStandardMaterial?ee.environment:null,ne=(R.isMeshStandardMaterial?n:e).get(R.envMap||ae),I=ne&&ne.mapping===Xc?ne.image.height:null,z=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const U=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,Z=U!==void 0?U.length:0;let V=0;Y.morphAttributes.position!==void 0&&(V=1),Y.morphAttributes.normal!==void 0&&(V=2),Y.morphAttributes.color!==void 0&&(V=3);let se,ce,Ae,_e;if(z){const Jt=ss[z];se=Jt.vertexShader,ce=Jt.fragmentShader}else se=R.vertexShader,ce=R.fragmentShader,l.update(R),Ae=l.getVertexShaderID(R),_e=l.getFragmentShaderID(R);const Pe=t.getRenderTarget(),qe=K.isInstancedMesh===!0,$e=!!R.map,nt=!!R.matcap,Ee=!!ne,G=!!R.aoMap,ve=!!R.lightMap,ye=!!R.bumpMap,Te=!!R.normalMap,xe=!!R.displacementMap,Ge=!!R.emissiveMap,ke=!!R.metalnessMap,ze=!!R.roughnessMap,it=R.anisotropy>0,xt=R.clearcoat>0,Gt=R.iridescence>0,O=R.sheen>0,D=R.transmission>0,fe=it&&!!R.anisotropyMap,Me=xt&&!!R.clearcoatMap,Se=xt&&!!R.clearcoatNormalMap,Ie=xt&&!!R.clearcoatRoughnessMap,Je=Gt&&!!R.iridescenceMap,Le=Gt&&!!R.iridescenceThicknessMap,pe=O&&!!R.sheenColorMap,rt=O&&!!R.sheenRoughnessMap,et=!!R.specularMap,tt=!!R.specularColorMap,W=!!R.specularIntensityMap,le=D&&!!R.transmissionMap,be=D&&!!R.thicknessMap,Ke=!!R.gradientMap,X=!!R.alphaMap,Re=R.alphaTest>0,oe=!!R.extensions,Be=!!Y.attributes.uv1,Fe=!!Y.attributes.uv2,pt=!!Y.attributes.uv3;return{isWebGL2:h,shaderID:z,shaderType:R.type,shaderName:R.name,vertexShader:se,fragmentShader:ce,defines:R.defines,customVertexShaderID:Ae,customFragmentShaderID:_e,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:qe,instancingColor:qe&&K.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Pe===null?t.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:fs,map:$e,matcap:nt,envMap:Ee,envMapMode:Ee&&ne.mapping,envMapCubeUVHeight:I,aoMap:G,lightMap:ve,bumpMap:ye,normalMap:Te,displacementMap:p&&xe,emissiveMap:Ge,normalMapObjectSpace:Te&&R.normalMapType===XI,normalMapTangentSpace:Te&&R.normalMapType===Fa,metalnessMap:ke,roughnessMap:ze,anisotropy:it,anisotropyMap:fe,clearcoat:xt,clearcoatMap:Me,clearcoatNormalMap:Se,clearcoatRoughnessMap:Ie,iridescence:Gt,iridescenceMap:Je,iridescenceThicknessMap:Le,sheen:O,sheenColorMap:pe,sheenRoughnessMap:rt,specularMap:et,specularColorMap:tt,specularIntensityMap:W,transmission:D,transmissionMap:le,thicknessMap:be,gradientMap:Ke,opaque:R.transparent===!1&&R.blending===Il,alphaMap:X,alphaTest:Re,combine:R.combine,mapUv:$e&&M(R.map.channel),aoMapUv:G&&M(R.aoMap.channel),lightMapUv:ve&&M(R.lightMap.channel),bumpMapUv:ye&&M(R.bumpMap.channel),normalMapUv:Te&&M(R.normalMap.channel),displacementMapUv:xe&&M(R.displacementMap.channel),emissiveMapUv:Ge&&M(R.emissiveMap.channel),metalnessMapUv:ke&&M(R.metalnessMap.channel),roughnessMapUv:ze&&M(R.roughnessMap.channel),anisotropyMapUv:fe&&M(R.anisotropyMap.channel),clearcoatMapUv:Me&&M(R.clearcoatMap.channel),clearcoatNormalMapUv:Se&&M(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&M(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Je&&M(R.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&M(R.iridescenceThicknessMap.channel),sheenColorMapUv:pe&&M(R.sheenColorMap.channel),sheenRoughnessMapUv:rt&&M(R.sheenRoughnessMap.channel),specularMapUv:et&&M(R.specularMap.channel),specularColorMapUv:tt&&M(R.specularColorMap.channel),specularIntensityMapUv:W&&M(R.specularIntensityMap.channel),transmissionMapUv:le&&M(R.transmissionMap.channel),thicknessMapUv:be&&M(R.thicknessMap.channel),alphaMapUv:X&&M(R.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(Te||it),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,vertexUv1s:Be,vertexUv2s:Fe,vertexUv3s:pt,pointsUvs:K.isPoints===!0&&!!Y.attributes.uv&&($e||X),fog:!!Q,useFog:R.fog===!0,fogExp2:Q&&Q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:K.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:V,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&H.length>0,shadowMapType:t.shadowMap.type,toneMapping:R.toneMapped?t.toneMapping:us,useLegacyLights:t.useLegacyLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Ur,flipSided:R.side===Bi,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:oe&&R.extensions.derivatives===!0,extensionFragDepth:oe&&R.extensions.fragDepth===!0,extensionDrawBuffers:oe&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:oe&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const P=[];if(R.shaderID?P.push(R.shaderID):(P.push(R.customVertexShaderID),P.push(R.customFragmentShaderID)),R.defines!==void 0)for(const H in R.defines)P.push(H),P.push(R.defines[H]);return R.isRawShaderMaterial===!1&&(_(P,R),A(P,R),P.push(t.outputColorSpace)),P.push(R.customProgramCacheKey),P.join()}function _(R,P){R.push(P.precision),R.push(P.outputColorSpace),R.push(P.envMapMode),R.push(P.envMapCubeUVHeight),R.push(P.mapUv),R.push(P.alphaMapUv),R.push(P.lightMapUv),R.push(P.aoMapUv),R.push(P.bumpMapUv),R.push(P.normalMapUv),R.push(P.displacementMapUv),R.push(P.emissiveMapUv),R.push(P.metalnessMapUv),R.push(P.roughnessMapUv),R.push(P.anisotropyMapUv),R.push(P.clearcoatMapUv),R.push(P.clearcoatNormalMapUv),R.push(P.clearcoatRoughnessMapUv),R.push(P.iridescenceMapUv),R.push(P.iridescenceThicknessMapUv),R.push(P.sheenColorMapUv),R.push(P.sheenRoughnessMapUv),R.push(P.specularMapUv),R.push(P.specularColorMapUv),R.push(P.specularIntensityMapUv),R.push(P.transmissionMapUv),R.push(P.thicknessMapUv),R.push(P.combine),R.push(P.fogExp2),R.push(P.sizeAttenuation),R.push(P.morphTargetsCount),R.push(P.morphAttributeCount),R.push(P.numDirLights),R.push(P.numPointLights),R.push(P.numSpotLights),R.push(P.numSpotLightMaps),R.push(P.numHemiLights),R.push(P.numRectAreaLights),R.push(P.numDirLightShadows),R.push(P.numPointLightShadows),R.push(P.numSpotLightShadows),R.push(P.numSpotLightShadowsWithMaps),R.push(P.shadowMapType),R.push(P.toneMapping),R.push(P.numClippingPlanes),R.push(P.numClipIntersection),R.push(P.depthPacking)}function A(R,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),R.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),R.push(a.mask)}function E(R){const P=v[R.type];let H;if(P){const ee=ss[P];H=aD.clone(ee.uniforms)}else H=R.uniforms;return H}function C(R,P){let H;for(let ee=0,K=u.length;ee<K;ee++){const Q=u[ee];if(Q.cacheKey===P){H=Q,++H.usedTimes;break}}return H===void 0&&(H=new y9(t,P,R,s),u.push(H)),H}function b(R){if(--R.usedTimes===0){const P=u.indexOf(R);u[P]=u[u.length-1],u.pop(),R.destroy()}}function B(R){l.remove(R)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:E,acquireProgram:C,releaseProgram:b,releaseShaderCache:B,programs:u,dispose:L}}function A9(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function M9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lb(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ub(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,p,m,v,M,x){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:M,group:x},t[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=M,g.group=x),e++,g}function a(d,p,m,v,M,x){const g=o(d,p,m,v,M,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):n.push(g)}function l(d,p,m,v,M,x){const g=o(d,p,m,v,M,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):n.unshift(g)}function u(d,p){n.length>1&&n.sort(d||M9),i.length>1&&i.sort(p||lb),r.length>1&&r.sort(p||lb)}function h(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:u}}function E9(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new ub,t.set(i,[o])):r>=s.length?(o=new ub,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function w9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new F,color:new Ne};break;case"SpotLight":n={position:new F,direction:new F,color:new Ne,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new F,color:new Ne,distance:0,decay:0};break;case"HemisphereLight":n={direction:new F,skyColor:new Ne,groundColor:new Ne};break;case"RectAreaLight":n={color:new Ne,position:new F,halfWidth:new F,halfHeight:new F};break}return t[e.id]=n,n}}}function T9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let C9=0;function b9(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function R9(t,e){const n=new w9,i=T9(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new F);const s=new F,o=new lt,a=new lt;function l(h,d){let p=0,m=0,v=0;for(let H=0;H<9;H++)r.probe[H].set(0,0,0);let M=0,x=0,g=0,_=0,A=0,E=0,C=0,b=0,B=0,L=0;h.sort(b9);const R=d===!0?Math.PI:1;for(let H=0,ee=h.length;H<ee;H++){const K=h[H],Q=K.color,Y=K.intensity,ae=K.distance,ne=K.shadow&&K.shadow.map?K.shadow.map.texture:null;if(K.isAmbientLight)p+=Q.r*Y*R,m+=Q.g*Y*R,v+=Q.b*Y*R;else if(K.isLightProbe)for(let I=0;I<9;I++)r.probe[I].addScaledVector(K.sh.coefficients[I],Y);else if(K.isDirectionalLight){const I=n.get(K);if(I.color.copy(K.color).multiplyScalar(K.intensity*R),K.castShadow){const z=K.shadow,U=i.get(K);U.shadowBias=z.bias,U.shadowNormalBias=z.normalBias,U.shadowRadius=z.radius,U.shadowMapSize=z.mapSize,r.directionalShadow[M]=U,r.directionalShadowMap[M]=ne,r.directionalShadowMatrix[M]=K.shadow.matrix,E++}r.directional[M]=I,M++}else if(K.isSpotLight){const I=n.get(K);I.position.setFromMatrixPosition(K.matrixWorld),I.color.copy(Q).multiplyScalar(Y*R),I.distance=ae,I.coneCos=Math.cos(K.angle),I.penumbraCos=Math.cos(K.angle*(1-K.penumbra)),I.decay=K.decay,r.spot[g]=I;const z=K.shadow;if(K.map&&(r.spotLightMap[B]=K.map,B++,z.updateMatrices(K),K.castShadow&&L++),r.spotLightMatrix[g]=z.matrix,K.castShadow){const U=i.get(K);U.shadowBias=z.bias,U.shadowNormalBias=z.normalBias,U.shadowRadius=z.radius,U.shadowMapSize=z.mapSize,r.spotShadow[g]=U,r.spotShadowMap[g]=ne,b++}g++}else if(K.isRectAreaLight){const I=n.get(K);I.color.copy(Q).multiplyScalar(Y),I.halfWidth.set(K.width*.5,0,0),I.halfHeight.set(0,K.height*.5,0),r.rectArea[_]=I,_++}else if(K.isPointLight){const I=n.get(K);if(I.color.copy(K.color).multiplyScalar(K.intensity*R),I.distance=K.distance,I.decay=K.decay,K.castShadow){const z=K.shadow,U=i.get(K);U.shadowBias=z.bias,U.shadowNormalBias=z.normalBias,U.shadowRadius=z.radius,U.shadowMapSize=z.mapSize,U.shadowCameraNear=z.camera.near,U.shadowCameraFar=z.camera.far,r.pointShadow[x]=U,r.pointShadowMap[x]=ne,r.pointShadowMatrix[x]=K.shadow.matrix,C++}r.point[x]=I,x++}else if(K.isHemisphereLight){const I=n.get(K);I.skyColor.copy(K.color).multiplyScalar(Y*R),I.groundColor.copy(K.groundColor).multiplyScalar(Y*R),r.hemi[A]=I,A++}}_>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=De.LTC_FLOAT_1,r.rectAreaLTC2=De.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=De.LTC_HALF_1,r.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const P=r.hash;(P.directionalLength!==M||P.pointLength!==x||P.spotLength!==g||P.rectAreaLength!==_||P.hemiLength!==A||P.numDirectionalShadows!==E||P.numPointShadows!==C||P.numSpotShadows!==b||P.numSpotMaps!==B)&&(r.directional.length=M,r.spot.length=g,r.rectArea.length=_,r.point.length=x,r.hemi.length=A,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=b+B-L,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=L,P.directionalLength=M,P.pointLength=x,P.spotLength=g,P.rectAreaLength=_,P.hemiLength=A,P.numDirectionalShadows=E,P.numPointShadows=C,P.numSpotShadows=b,P.numSpotMaps=B,r.version=C9++)}function u(h,d){let p=0,m=0,v=0,M=0,x=0;const g=d.matrixWorldInverse;for(let _=0,A=h.length;_<A;_++){const E=h[_];if(E.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(E.isSpotLight){const C=r.spot[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),v++}else if(E.isRectAreaLight){const C=r.rectArea[M];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),M++}else if(E.isPointLight){const C=r.point[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const C=r.hemi[x];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(g),x++}}}return{setup:l,setupView:u,state:r}}function cb(t,e){const n=new R9(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function u(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function P9(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new cb(t,e),n.set(s,[l])):o>=a.length?(l=new cb(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class dM extends Fn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class pM extends Fn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const B9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,L9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function I9(t,e,n){let i=new uy;const r=new me,s=new me,o=new jt,a=new dM({depthPacking:jI}),l=new pM,u={},h=n.maxTextureSize,d={[Us]:Bi,[Bi]:Us,[Ur]:Ur},p=new zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new me},radius:{value:4}},vertexShader:B9,fragmentShader:L9}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new At;v.setAttribute("position",new Ht(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new Yn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=iy;let g=this.type;this.render=function(C,b,B){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const L=t.getRenderTarget(),R=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),H=t.state;H.setBlending(go),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const ee=g!==ns&&this.type===ns,K=g===ns&&this.type!==ns;for(let Q=0,Y=C.length;Q<Y;Q++){const ae=C[Q],ne=ae.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);const I=ne.getFrameExtents();if(r.multiply(I),s.copy(ne.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/I.x),r.x=s.x*I.x,ne.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/I.y),r.y=s.y*I.y,ne.mapSize.y=s.y)),ne.map===null||ee===!0||K===!0){const U=this.type!==ns?{minFilter:En,magFilter:En}:{};ne.map!==null&&ne.map.dispose(),ne.map=new hs(r.x,r.y,U),ne.map.texture.name=ae.name+".shadowMap",ne.camera.updateProjectionMatrix()}t.setRenderTarget(ne.map),t.clear();const z=ne.getViewportCount();for(let U=0;U<z;U++){const Z=ne.getViewport(U);o.set(s.x*Z.x,s.y*Z.y,s.x*Z.z,s.y*Z.w),H.viewport(o),ne.updateMatrices(ae,U),i=ne.getFrustum(),E(b,B,ne.camera,ae,this.type)}ne.isPointLightShadow!==!0&&this.type===ns&&_(ne,B),ne.needsUpdate=!1}g=this.type,x.needsUpdate=!1,t.setRenderTarget(L,R,P)};function _(C,b){const B=e.update(M);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new hs(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(b,null,B,p,M,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(b,null,B,m,M,null)}function A(C,b,B,L){let R=null;const P=B.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(P!==void 0)R=P;else if(R=B.isPointLight===!0?l:a,t.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const H=R.uuid,ee=b.uuid;let K=u[H];K===void 0&&(K={},u[H]=K);let Q=K[ee];Q===void 0&&(Q=R.clone(),K[ee]=Q),R=Q}if(R.visible=b.visible,R.wireframe=b.wireframe,L===ns?R.side=b.shadowSide!==null?b.shadowSide:b.side:R.side=b.shadowSide!==null?b.shadowSide:d[b.side],R.alphaMap=b.alphaMap,R.alphaTest=b.alphaTest,R.map=b.map,R.clipShadows=b.clipShadows,R.clippingPlanes=b.clippingPlanes,R.clipIntersection=b.clipIntersection,R.displacementMap=b.displacementMap,R.displacementScale=b.displacementScale,R.displacementBias=b.displacementBias,R.wireframeLinewidth=b.wireframeLinewidth,R.linewidth=b.linewidth,B.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const H=t.properties.get(R);H.light=B}return R}function E(C,b,B,L,R){if(C.visible===!1)return;if(C.layers.test(b.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&R===ns)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,C.matrixWorld);const ee=e.update(C),K=C.material;if(Array.isArray(K)){const Q=ee.groups;for(let Y=0,ae=Q.length;Y<ae;Y++){const ne=Q[Y],I=K[ne.materialIndex];if(I&&I.visible){const z=A(C,I,L,R);t.renderBufferDirect(B,null,ee,z,C,ne)}}}else if(K.visible){const Q=A(C,K,L,R);t.renderBufferDirect(B,null,ee,Q,C,null)}}const H=C.children;for(let ee=0,K=H.length;ee<K;ee++)E(H[ee],b,B,L,R)}}function D9(t,e,n){const i=n.isWebGL2;function r(){let X=!1;const Re=new jt;let oe=null;const Be=new jt(0,0,0,0);return{setMask:function(Fe){oe!==Fe&&!X&&(t.colorMask(Fe,Fe,Fe,Fe),oe=Fe)},setLocked:function(Fe){X=Fe},setClear:function(Fe,pt,It,Jt,ui){ui===!0&&(Fe*=Jt,pt*=Jt,It*=Jt),Re.set(Fe,pt,It,Jt),Be.equals(Re)===!1&&(t.clearColor(Fe,pt,It,Jt),Be.copy(Re))},reset:function(){X=!1,oe=null,Be.set(-1,0,0,0)}}}function s(){let X=!1,Re=null,oe=null,Be=null;return{setTest:function(Fe){Fe?Pe(t.DEPTH_TEST):qe(t.DEPTH_TEST)},setMask:function(Fe){Re!==Fe&&!X&&(t.depthMask(Fe),Re=Fe)},setFunc:function(Fe){if(oe!==Fe){switch(Fe){case vI:t.depthFunc(t.NEVER);break;case xI:t.depthFunc(t.ALWAYS);break;case _I:t.depthFunc(t.LESS);break;case f0:t.depthFunc(t.LEQUAL);break;case SI:t.depthFunc(t.EQUAL);break;case AI:t.depthFunc(t.GEQUAL);break;case MI:t.depthFunc(t.GREATER);break;case EI:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}oe=Fe}},setLocked:function(Fe){X=Fe},setClear:function(Fe){Be!==Fe&&(t.clearDepth(Fe),Be=Fe)},reset:function(){X=!1,Re=null,oe=null,Be=null}}}function o(){let X=!1,Re=null,oe=null,Be=null,Fe=null,pt=null,It=null,Jt=null,ui=null;return{setTest:function(zt){X||(zt?Pe(t.STENCIL_TEST):qe(t.STENCIL_TEST))},setMask:function(zt){Re!==zt&&!X&&(t.stencilMask(zt),Re=zt)},setFunc:function(zt,Vn,Zn){(oe!==zt||Be!==Vn||Fe!==Zn)&&(t.stencilFunc(zt,Vn,Zn),oe=zt,Be=Vn,Fe=Zn)},setOp:function(zt,Vn,Zn){(pt!==zt||It!==Vn||Jt!==Zn)&&(t.stencilOp(zt,Vn,Zn),pt=zt,It=Vn,Jt=Zn)},setLocked:function(zt){X=zt},setClear:function(zt){ui!==zt&&(t.clearStencil(zt),ui=zt)},reset:function(){X=!1,Re=null,oe=null,Be=null,Fe=null,pt=null,It=null,Jt=null,ui=null}}}const a=new r,l=new s,u=new o,h=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,M=[],x=null,g=!1,_=null,A=null,E=null,C=null,b=null,B=null,L=null,R=!1,P=null,H=null,ee=null,K=null,Q=null;const Y=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ae=!1,ne=0;const I=t.getParameter(t.VERSION);I.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(I)[1]),ae=ne>=1):I.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),ae=ne>=2);let z=null,U={};const Z=t.getParameter(t.SCISSOR_BOX),V=t.getParameter(t.VIEWPORT),se=new jt().fromArray(Z),ce=new jt().fromArray(V);function Ae(X,Re,oe,Be){const Fe=new Uint8Array(4),pt=t.createTexture();t.bindTexture(X,pt),t.texParameteri(X,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(X,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let It=0;It<oe;It++)i&&(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)?t.texImage3D(Re,0,t.RGBA,1,1,Be,0,t.RGBA,t.UNSIGNED_BYTE,Fe):t.texImage2D(Re+It,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Fe);return pt}const _e={};_e[t.TEXTURE_2D]=Ae(t.TEXTURE_2D,t.TEXTURE_2D,1),_e[t.TEXTURE_CUBE_MAP]=Ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(_e[t.TEXTURE_2D_ARRAY]=Ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),_e[t.TEXTURE_3D]=Ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Pe(t.DEPTH_TEST),l.setFunc(f0),xe(!1),Ge(P1),Pe(t.CULL_FACE),ye(go);function Pe(X){p[X]!==!0&&(t.enable(X),p[X]=!0)}function qe(X){p[X]!==!1&&(t.disable(X),p[X]=!1)}function $e(X,Re){return m[X]!==Re?(t.bindFramebuffer(X,Re),m[X]=Re,i&&(X===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Re),X===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Re)),!0):!1}function nt(X,Re){let oe=M,Be=!1;if(X)if(oe=v.get(Re),oe===void 0&&(oe=[],v.set(Re,oe)),X.isWebGLMultipleRenderTargets){const Fe=X.texture;if(oe.length!==Fe.length||oe[0]!==t.COLOR_ATTACHMENT0){for(let pt=0,It=Fe.length;pt<It;pt++)oe[pt]=t.COLOR_ATTACHMENT0+pt;oe.length=Fe.length,Be=!0}}else oe[0]!==t.COLOR_ATTACHMENT0&&(oe[0]=t.COLOR_ATTACHMENT0,Be=!0);else oe[0]!==t.BACK&&(oe[0]=t.BACK,Be=!0);Be&&(n.isWebGL2?t.drawBuffers(oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(oe))}function Ee(X){return x!==X?(t.useProgram(X),x=X,!0):!1}const G={[dl]:t.FUNC_ADD,[aI]:t.FUNC_SUBTRACT,[lI]:t.FUNC_REVERSE_SUBTRACT};if(i)G[D1]=t.MIN,G[F1]=t.MAX;else{const X=e.get("EXT_blend_minmax");X!==null&&(G[D1]=X.MIN_EXT,G[F1]=X.MAX_EXT)}const ve={[uI]:t.ZERO,[cI]:t.ONE,[fI]:t.SRC_COLOR,[XA]:t.SRC_ALPHA,[yI]:t.SRC_ALPHA_SATURATE,[mI]:t.DST_COLOR,[dI]:t.DST_ALPHA,[hI]:t.ONE_MINUS_SRC_COLOR,[JA]:t.ONE_MINUS_SRC_ALPHA,[gI]:t.ONE_MINUS_DST_COLOR,[pI]:t.ONE_MINUS_DST_ALPHA};function ye(X,Re,oe,Be,Fe,pt,It,Jt){if(X===go){g===!0&&(qe(t.BLEND),g=!1);return}if(g===!1&&(Pe(t.BLEND),g=!0),X!==oI){if(X!==_||Jt!==R){if((A!==dl||b!==dl)&&(t.blendEquation(t.FUNC_ADD),A=dl,b=dl),Jt)switch(X){case Il:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case B1:t.blendFunc(t.ONE,t.ONE);break;case L1:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case I1:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Il:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case B1:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case L1:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case I1:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}E=null,C=null,B=null,L=null,_=X,R=Jt}return}Fe=Fe||Re,pt=pt||oe,It=It||Be,(Re!==A||Fe!==b)&&(t.blendEquationSeparate(G[Re],G[Fe]),A=Re,b=Fe),(oe!==E||Be!==C||pt!==B||It!==L)&&(t.blendFuncSeparate(ve[oe],ve[Be],ve[pt],ve[It]),E=oe,C=Be,B=pt,L=It),_=X,R=!1}function Te(X,Re){X.side===Ur?qe(t.CULL_FACE):Pe(t.CULL_FACE);let oe=X.side===Bi;Re&&(oe=!oe),xe(oe),X.blending===Il&&X.transparent===!1?ye(go):ye(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const Be=X.stencilWrite;u.setTest(Be),Be&&(u.setMask(X.stencilWriteMask),u.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),u.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),ze(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?Pe(t.SAMPLE_ALPHA_TO_COVERAGE):qe(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(X){P!==X&&(X?t.frontFace(t.CW):t.frontFace(t.CCW),P=X)}function Ge(X){X!==iI?(Pe(t.CULL_FACE),X!==H&&(X===P1?t.cullFace(t.BACK):X===rI?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):qe(t.CULL_FACE),H=X}function ke(X){X!==ee&&(ae&&t.lineWidth(X),ee=X)}function ze(X,Re,oe){X?(Pe(t.POLYGON_OFFSET_FILL),(K!==Re||Q!==oe)&&(t.polygonOffset(Re,oe),K=Re,Q=oe)):qe(t.POLYGON_OFFSET_FILL)}function it(X){X?Pe(t.SCISSOR_TEST):qe(t.SCISSOR_TEST)}function xt(X){X===void 0&&(X=t.TEXTURE0+Y-1),z!==X&&(t.activeTexture(X),z=X)}function Gt(X,Re,oe){oe===void 0&&(z===null?oe=t.TEXTURE0+Y-1:oe=z);let Be=U[oe];Be===void 0&&(Be={type:void 0,texture:void 0},U[oe]=Be),(Be.type!==X||Be.texture!==Re)&&(z!==oe&&(t.activeTexture(oe),z=oe),t.bindTexture(X,Re||_e[X]),Be.type=X,Be.texture=Re)}function O(){const X=U[z];X!==void 0&&X.type!==void 0&&(t.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function D(){try{t.compressedTexImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function fe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Me(){try{t.texSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Se(){try{t.texSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Je(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Le(){try{t.texStorage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function pe(){try{t.texStorage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function rt(){try{t.texImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function et(){try{t.texImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function tt(X){se.equals(X)===!1&&(t.scissor(X.x,X.y,X.z,X.w),se.copy(X))}function W(X){ce.equals(X)===!1&&(t.viewport(X.x,X.y,X.z,X.w),ce.copy(X))}function le(X,Re){let oe=d.get(Re);oe===void 0&&(oe=new WeakMap,d.set(Re,oe));let Be=oe.get(X);Be===void 0&&(Be=t.getUniformBlockIndex(Re,X.name),oe.set(X,Be))}function be(X,Re){const Be=d.get(Re).get(X);h.get(Re)!==Be&&(t.uniformBlockBinding(Re,Be,X.__bindingPointIndex),h.set(Re,Be))}function Ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},z=null,U={},m={},v=new WeakMap,M=[],x=null,g=!1,_=null,A=null,E=null,C=null,b=null,B=null,L=null,R=!1,P=null,H=null,ee=null,K=null,Q=null,se.set(0,0,t.canvas.width,t.canvas.height),ce.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Pe,disable:qe,bindFramebuffer:$e,drawBuffers:nt,useProgram:Ee,setBlending:ye,setMaterial:Te,setFlipSided:xe,setCullFace:Ge,setLineWidth:ke,setPolygonOffset:ze,setScissorTest:it,activeTexture:xt,bindTexture:Gt,unbindTexture:O,compressedTexImage2D:D,compressedTexImage3D:fe,texImage2D:rt,texImage3D:et,updateUBOMapping:le,uniformBlockBinding:be,texStorage2D:Le,texStorage3D:pe,texSubImage2D:Me,texSubImage3D:Se,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Je,scissor:tt,viewport:W,reset:Ke}}function F9(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let M;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(O,D){return g?new OffscreenCanvas(O,D):Yh("canvas")}function A(O,D,fe,Me){let Se=1;if((O.width>Me||O.height>Me)&&(Se=Me/Math.max(O.width,O.height)),Se<1||D===!0)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const Ie=D?p0:Math.floor,Je=Ie(Se*O.width),Le=Ie(Se*O.height);M===void 0&&(M=_(Je,Le));const pe=fe?_(Je,Le):M;return pe.width=Je,pe.height=Le,pe.getContext("2d").drawImage(O,0,0,Je,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+Je+"x"+Le+")."),pe}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function E(O){return oS(O.width)&&oS(O.height)}function C(O){return a?!1:O.wrapS!==ti||O.wrapT!==ti||O.minFilter!==En&&O.minFilter!==dn}function b(O,D){return O.generateMipmaps&&D&&O.minFilter!==En&&O.minFilter!==dn}function B(O){t.generateMipmap(O)}function L(O,D,fe,Me,Se=!1){if(a===!1)return D;if(O!==null){if(t[O]!==void 0)return t[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let Ie=D;return D===t.RED&&(fe===t.FLOAT&&(Ie=t.R32F),fe===t.HALF_FLOAT&&(Ie=t.R16F),fe===t.UNSIGNED_BYTE&&(Ie=t.R8)),D===t.RG&&(fe===t.FLOAT&&(Ie=t.RG32F),fe===t.HALF_FLOAT&&(Ie=t.RG16F),fe===t.UNSIGNED_BYTE&&(Ie=t.RG8)),D===t.RGBA&&(fe===t.FLOAT&&(Ie=t.RGBA32F),fe===t.HALF_FLOAT&&(Ie=t.RGBA16F),fe===t.UNSIGNED_BYTE&&(Ie=Me===_t&&Se===!1?t.SRGB8_ALPHA8:t.RGBA8),fe===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),fe===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)),(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function R(O,D,fe){return b(O,fe)===!0||O.isFramebufferTexture&&O.minFilter!==En&&O.minFilter!==dn?Math.log2(Math.max(D.width,D.height))+1:O.mipmaps!==void 0&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?D.mipmaps.length:1}function P(O){return O===En||O===jh||O===Sc?t.NEAREST:t.LINEAR}function H(O){const D=O.target;D.removeEventListener("dispose",H),K(D),D.isVideoTexture&&v.delete(D)}function ee(O){const D=O.target;D.removeEventListener("dispose",ee),Y(D)}function K(O){const D=i.get(O);if(D.__webglInit===void 0)return;const fe=O.source,Me=x.get(fe);if(Me){const Se=Me[D.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&Q(O),Object.keys(Me).length===0&&x.delete(fe)}i.remove(O)}function Q(O){const D=i.get(O);t.deleteTexture(D.__webglTexture);const fe=O.source,Me=x.get(fe);delete Me[D.__cacheKey],o.memory.textures--}function Y(O){const D=O.texture,fe=i.get(O),Me=i.get(D);if(Me.__webglTexture!==void 0&&(t.deleteTexture(Me.__webglTexture),o.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)t.deleteFramebuffer(fe.__webglFramebuffer[Se]),fe.__webglDepthbuffer&&t.deleteRenderbuffer(fe.__webglDepthbuffer[Se]);else{if(t.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&t.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Se=0;Se<fe.__webglColorRenderbuffer.length;Se++)fe.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(fe.__webglColorRenderbuffer[Se]);fe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(O.isWebGLMultipleRenderTargets)for(let Se=0,Ie=D.length;Se<Ie;Se++){const Je=i.get(D[Se]);Je.__webglTexture&&(t.deleteTexture(Je.__webglTexture),o.memory.textures--),i.remove(D[Se])}i.remove(D),i.remove(O)}let ae=0;function ne(){ae=0}function I(){const O=ae;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),ae+=1,O}function z(O){const D=[];return D.push(O.wrapS),D.push(O.wrapT),D.push(O.wrapR||0),D.push(O.magFilter),D.push(O.minFilter),D.push(O.anisotropy),D.push(O.internalFormat),D.push(O.format),D.push(O.type),D.push(O.generateMipmaps),D.push(O.premultiplyAlpha),D.push(O.flipY),D.push(O.unpackAlignment),D.push(O.colorSpace),D.join()}function U(O,D){const fe=i.get(O);if(O.isVideoTexture&&xt(O),O.isRenderTargetTexture===!1&&O.version>0&&fe.__version!==O.version){const Me=O.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$e(fe,O,D);return}}n.bindTexture(t.TEXTURE_2D,fe.__webglTexture,t.TEXTURE0+D)}function Z(O,D){const fe=i.get(O);if(O.version>0&&fe.__version!==O.version){$e(fe,O,D);return}n.bindTexture(t.TEXTURE_2D_ARRAY,fe.__webglTexture,t.TEXTURE0+D)}function V(O,D){const fe=i.get(O);if(O.version>0&&fe.__version!==O.version){$e(fe,O,D);return}n.bindTexture(t.TEXTURE_3D,fe.__webglTexture,t.TEXTURE0+D)}function se(O,D){const fe=i.get(O);if(O.version>0&&fe.__version!==O.version){nt(fe,O,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+D)}const ce={[Ca]:t.REPEAT,[ti]:t.CLAMP_TO_EDGE,[Dc]:t.MIRRORED_REPEAT},Ae={[En]:t.NEAREST,[jh]:t.NEAREST_MIPMAP_NEAREST,[Sc]:t.NEAREST_MIPMAP_LINEAR,[dn]:t.LINEAR,[sy]:t.LINEAR_MIPMAP_NEAREST,[Hs]:t.LINEAR_MIPMAP_LINEAR},_e={[KI]:t.NEVER,[tD]:t.ALWAYS,[YI]:t.LESS,[QI]:t.LEQUAL,[$I]:t.EQUAL,[eD]:t.GEQUAL,[ZI]:t.GREATER,[qI]:t.NOTEQUAL};function Pe(O,D,fe){if(fe?(t.texParameteri(O,t.TEXTURE_WRAP_S,ce[D.wrapS]),t.texParameteri(O,t.TEXTURE_WRAP_T,ce[D.wrapT]),(O===t.TEXTURE_3D||O===t.TEXTURE_2D_ARRAY)&&t.texParameteri(O,t.TEXTURE_WRAP_R,ce[D.wrapR]),t.texParameteri(O,t.TEXTURE_MAG_FILTER,Ae[D.magFilter]),t.texParameteri(O,t.TEXTURE_MIN_FILTER,Ae[D.minFilter])):(t.texParameteri(O,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(O,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(O===t.TEXTURE_3D||O===t.TEXTURE_2D_ARRAY)&&t.texParameteri(O,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(D.wrapS!==ti||D.wrapT!==ti)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(O,t.TEXTURE_MAG_FILTER,P(D.magFilter)),t.texParameteri(O,t.TEXTURE_MIN_FILTER,P(D.minFilter)),D.minFilter!==En&&D.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),D.compareFunction&&(t.texParameteri(O,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(O,t.TEXTURE_COMPARE_FUNC,_e[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Me=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===En||D.minFilter!==Sc&&D.minFilter!==Hs||D.type===Ls&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Fc&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(t.texParameterf(O,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function qe(O,D){let fe=!1;O.__webglInit===void 0&&(O.__webglInit=!0,D.addEventListener("dispose",H));const Me=D.source;let Se=x.get(Me);Se===void 0&&(Se={},x.set(Me,Se));const Ie=z(D);if(Ie!==O.__cacheKey){Se[Ie]===void 0&&(Se[Ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Se[Ie].usedTimes++;const Je=Se[O.__cacheKey];Je!==void 0&&(Se[O.__cacheKey].usedTimes--,Je.usedTimes===0&&Q(D)),O.__cacheKey=Ie,O.__webglTexture=Se[Ie].texture}return fe}function $e(O,D,fe){let Me=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Me=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Me=t.TEXTURE_3D);const Se=qe(O,D),Ie=D.source;n.bindTexture(Me,O.__webglTexture,t.TEXTURE0+fe);const Je=i.get(Ie);if(Ie.version!==Je.__version||Se===!0){n.activeTexture(t.TEXTURE0+fe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Le=C(D)&&E(D.image)===!1;let pe=A(D.image,Le,!1,h);pe=Gt(D,pe);const rt=E(pe)||a,et=s.convert(D.format,D.colorSpace);let tt=s.convert(D.type),W=L(D.internalFormat,et,tt,D.colorSpace);Pe(Me,D,rt);let le;const be=D.mipmaps,Ke=a&&D.isVideoTexture!==!0,X=Je.__version===void 0||Se===!0,Re=R(D,pe,rt);if(D.isDepthTexture)W=t.DEPTH_COMPONENT,a?D.type===Ls?W=t.DEPTH_COMPONENT32F:D.type===fo?W=t.DEPTH_COMPONENT24:D.type===ga?W=t.DEPTH24_STENCIL8:W=t.DEPTH_COMPONENT16:D.type===Ls&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ya&&W===t.DEPTH_COMPONENT&&D.type!==oy&&D.type!==fo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=fo,tt=s.convert(D.type)),D.format===Vl&&W===t.DEPTH_COMPONENT&&(W=t.DEPTH_STENCIL,D.type!==ga&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=ga,tt=s.convert(D.type))),X&&(Ke?n.texStorage2D(t.TEXTURE_2D,1,W,pe.width,pe.height):n.texImage2D(t.TEXTURE_2D,0,W,pe.width,pe.height,0,et,tt,null));else if(D.isDataTexture)if(be.length>0&&rt){Ke&&X&&n.texStorage2D(t.TEXTURE_2D,Re,W,be[0].width,be[0].height);for(let oe=0,Be=be.length;oe<Be;oe++)le=be[oe],Ke?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,le.width,le.height,et,tt,le.data):n.texImage2D(t.TEXTURE_2D,oe,W,le.width,le.height,0,et,tt,le.data);D.generateMipmaps=!1}else Ke?(X&&n.texStorage2D(t.TEXTURE_2D,Re,W,pe.width,pe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,pe.width,pe.height,et,tt,pe.data)):n.texImage2D(t.TEXTURE_2D,0,W,pe.width,pe.height,0,et,tt,pe.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Ke&&X&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,W,be[0].width,be[0].height,pe.depth);for(let oe=0,Be=be.length;oe<Be;oe++)le=be[oe],D.format!==ji?et!==null?Ke?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,le.width,le.height,pe.depth,et,le.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,oe,W,le.width,le.height,pe.depth,0,le.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?n.texSubImage3D(t.TEXTURE_2D_ARRAY,oe,0,0,0,le.width,le.height,pe.depth,et,tt,le.data):n.texImage3D(t.TEXTURE_2D_ARRAY,oe,W,le.width,le.height,pe.depth,0,et,tt,le.data)}else{Ke&&X&&n.texStorage2D(t.TEXTURE_2D,Re,W,be[0].width,be[0].height);for(let oe=0,Be=be.length;oe<Be;oe++)le=be[oe],D.format!==ji?et!==null?Ke?n.compressedTexSubImage2D(t.TEXTURE_2D,oe,0,0,le.width,le.height,et,le.data):n.compressedTexImage2D(t.TEXTURE_2D,oe,W,le.width,le.height,0,le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,le.width,le.height,et,tt,le.data):n.texImage2D(t.TEXTURE_2D,oe,W,le.width,le.height,0,et,tt,le.data)}else if(D.isDataArrayTexture)Ke?(X&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,W,pe.width,pe.height,pe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,pe.width,pe.height,pe.depth,et,tt,pe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,W,pe.width,pe.height,pe.depth,0,et,tt,pe.data);else if(D.isData3DTexture)Ke?(X&&n.texStorage3D(t.TEXTURE_3D,Re,W,pe.width,pe.height,pe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,pe.width,pe.height,pe.depth,et,tt,pe.data)):n.texImage3D(t.TEXTURE_3D,0,W,pe.width,pe.height,pe.depth,0,et,tt,pe.data);else if(D.isFramebufferTexture){if(X)if(Ke)n.texStorage2D(t.TEXTURE_2D,Re,W,pe.width,pe.height);else{let oe=pe.width,Be=pe.height;for(let Fe=0;Fe<Re;Fe++)n.texImage2D(t.TEXTURE_2D,Fe,W,oe,Be,0,et,tt,null),oe>>=1,Be>>=1}}else if(be.length>0&&rt){Ke&&X&&n.texStorage2D(t.TEXTURE_2D,Re,W,be[0].width,be[0].height);for(let oe=0,Be=be.length;oe<Be;oe++)le=be[oe],Ke?n.texSubImage2D(t.TEXTURE_2D,oe,0,0,et,tt,le):n.texImage2D(t.TEXTURE_2D,oe,W,et,tt,le);D.generateMipmaps=!1}else Ke?(X&&n.texStorage2D(t.TEXTURE_2D,Re,W,pe.width,pe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,et,tt,pe)):n.texImage2D(t.TEXTURE_2D,0,W,et,tt,pe);b(D,rt)&&B(Me),Je.__version=Ie.version,D.onUpdate&&D.onUpdate(D)}O.__version=D.version}function nt(O,D,fe){if(D.image.length!==6)return;const Me=qe(O,D),Se=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,O.__webglTexture,t.TEXTURE0+fe);const Ie=i.get(Se);if(Se.version!==Ie.__version||Me===!0){n.activeTexture(t.TEXTURE0+fe),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Je=D.isCompressedTexture||D.image[0].isCompressedTexture,Le=D.image[0]&&D.image[0].isDataTexture,pe=[];for(let oe=0;oe<6;oe++)!Je&&!Le?pe[oe]=A(D.image[oe],!1,!0,u):pe[oe]=Le?D.image[oe].image:D.image[oe],pe[oe]=Gt(D,pe[oe]);const rt=pe[0],et=E(rt)||a,tt=s.convert(D.format,D.colorSpace),W=s.convert(D.type),le=L(D.internalFormat,tt,W,D.colorSpace),be=a&&D.isVideoTexture!==!0,Ke=Ie.__version===void 0||Me===!0;let X=R(D,rt,et);Pe(t.TEXTURE_CUBE_MAP,D,et);let Re;if(Je){be&&Ke&&n.texStorage2D(t.TEXTURE_CUBE_MAP,X,le,rt.width,rt.height);for(let oe=0;oe<6;oe++){Re=pe[oe].mipmaps;for(let Be=0;Be<Re.length;Be++){const Fe=Re[Be];D.format!==ji?tt!==null?be?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be,0,0,Fe.width,Fe.height,tt,Fe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be,le,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be,0,0,Fe.width,Fe.height,tt,W,Fe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be,le,Fe.width,Fe.height,0,tt,W,Fe.data)}}}else{Re=D.mipmaps,be&&Ke&&(Re.length>0&&X++,n.texStorage2D(t.TEXTURE_CUBE_MAP,X,le,pe[0].width,pe[0].height));for(let oe=0;oe<6;oe++)if(Le){be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,pe[oe].width,pe[oe].height,tt,W,pe[oe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,le,pe[oe].width,pe[oe].height,0,tt,W,pe[oe].data);for(let Be=0;Be<Re.length;Be++){const pt=Re[Be].image[oe].image;be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be+1,0,0,pt.width,pt.height,tt,W,pt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be+1,le,pt.width,pt.height,0,tt,W,pt.data)}}else{be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,tt,W,pe[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,le,tt,W,pe[oe]);for(let Be=0;Be<Re.length;Be++){const Fe=Re[Be];be?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be+1,0,0,tt,W,Fe.image[oe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Be+1,le,tt,W,Fe.image[oe])}}}b(D,et)&&B(t.TEXTURE_CUBE_MAP),Ie.__version=Se.version,D.onUpdate&&D.onUpdate(D)}O.__version=D.version}function Ee(O,D,fe,Me,Se){const Ie=s.convert(fe.format,fe.colorSpace),Je=s.convert(fe.type),Le=L(fe.internalFormat,Ie,Je,fe.colorSpace);i.get(D).__hasExternalTextures||(Se===t.TEXTURE_3D||Se===t.TEXTURE_2D_ARRAY?n.texImage3D(Se,0,Le,D.width,D.height,D.depth,0,Ie,Je,null):n.texImage2D(Se,0,Le,D.width,D.height,0,Ie,Je,null)),n.bindFramebuffer(t.FRAMEBUFFER,O),it(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Me,Se,i.get(fe).__webglTexture,0,ze(D)):(Se===t.TEXTURE_2D||Se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Me,Se,i.get(fe).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function G(O,D,fe){if(t.bindRenderbuffer(t.RENDERBUFFER,O),D.depthBuffer&&!D.stencilBuffer){let Me=t.DEPTH_COMPONENT16;if(fe||it(D)){const Se=D.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Ls?Me=t.DEPTH_COMPONENT32F:Se.type===fo&&(Me=t.DEPTH_COMPONENT24));const Ie=ze(D);it(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,Me,D.width,D.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,Me,D.width,D.height)}else t.renderbufferStorage(t.RENDERBUFFER,Me,D.width,D.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,O)}else if(D.depthBuffer&&D.stencilBuffer){const Me=ze(D);fe&&it(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Me,t.DEPTH24_STENCIL8,D.width,D.height):it(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Me,t.DEPTH24_STENCIL8,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,O)}else{const Me=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Se=0;Se<Me.length;Se++){const Ie=Me[Se],Je=s.convert(Ie.format,Ie.colorSpace),Le=s.convert(Ie.type),pe=L(Ie.internalFormat,Je,Le,Ie.colorSpace),rt=ze(D);fe&&it(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,rt,pe,D.width,D.height):it(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,rt,pe,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,pe,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ve(O,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,O),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),U(D.depthTexture,0);const Me=i.get(D.depthTexture).__webglTexture,Se=ze(D);if(D.depthTexture.format===ya)it(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0,Se):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0);else if(D.depthTexture.format===Vl)it(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0,Se):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function ye(O){const D=i.get(O),fe=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture&&!D.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");ve(D.__webglFramebuffer,O)}else if(fe){D.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[Me]),D.__webglDepthbuffer[Me]=t.createRenderbuffer(),G(D.__webglDepthbuffer[Me],O,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=t.createRenderbuffer(),G(D.__webglDepthbuffer,O,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(O,D,fe){const Me=i.get(O);D!==void 0&&Ee(Me.__webglFramebuffer,O,O.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),fe!==void 0&&ye(O)}function xe(O){const D=O.texture,fe=i.get(O),Me=i.get(D);O.addEventListener("dispose",ee),O.isWebGLMultipleRenderTargets!==!0&&(Me.__webglTexture===void 0&&(Me.__webglTexture=t.createTexture()),Me.__version=D.version,o.memory.textures++);const Se=O.isWebGLCubeRenderTarget===!0,Ie=O.isWebGLMultipleRenderTargets===!0,Je=E(O)||a;if(Se){fe.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)fe.__webglFramebuffer[Le]=t.createFramebuffer()}else{if(fe.__webglFramebuffer=t.createFramebuffer(),Ie)if(r.drawBuffers){const Le=O.texture;for(let pe=0,rt=Le.length;pe<rt;pe++){const et=i.get(Le[pe]);et.__webglTexture===void 0&&(et.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&O.samples>0&&it(O)===!1){const Le=Ie?D:[D];fe.__webglMultisampledFramebuffer=t.createFramebuffer(),fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let pe=0;pe<Le.length;pe++){const rt=Le[pe];fe.__webglColorRenderbuffer[pe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,fe.__webglColorRenderbuffer[pe]);const et=s.convert(rt.format,rt.colorSpace),tt=s.convert(rt.type),W=L(rt.internalFormat,et,tt,rt.colorSpace,O.isXRRenderTarget===!0),le=ze(O);t.renderbufferStorageMultisample(t.RENDERBUFFER,le,W,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,fe.__webglColorRenderbuffer[pe])}t.bindRenderbuffer(t.RENDERBUFFER,null),O.depthBuffer&&(fe.__webglDepthRenderbuffer=t.createRenderbuffer(),G(fe.__webglDepthRenderbuffer,O,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Se){n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture),Pe(t.TEXTURE_CUBE_MAP,D,Je);for(let Le=0;Le<6;Le++)Ee(fe.__webglFramebuffer[Le],O,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le);b(D,Je)&&B(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ie){const Le=O.texture;for(let pe=0,rt=Le.length;pe<rt;pe++){const et=Le[pe],tt=i.get(et);n.bindTexture(t.TEXTURE_2D,tt.__webglTexture),Pe(t.TEXTURE_2D,et,Je),Ee(fe.__webglFramebuffer,O,et,t.COLOR_ATTACHMENT0+pe,t.TEXTURE_2D),b(et,Je)&&B(t.TEXTURE_2D)}n.unbindTexture()}else{let Le=t.TEXTURE_2D;(O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(a?Le=O.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Le,Me.__webglTexture),Pe(Le,D,Je),Ee(fe.__webglFramebuffer,O,D,t.COLOR_ATTACHMENT0,Le),b(D,Je)&&B(Le),n.unbindTexture()}O.depthBuffer&&ye(O)}function Ge(O){const D=E(O)||a,fe=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let Me=0,Se=fe.length;Me<Se;Me++){const Ie=fe[Me];if(b(Ie,D)){const Je=O.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Le=i.get(Ie).__webglTexture;n.bindTexture(Je,Le),B(Je),n.unbindTexture()}}}function ke(O){if(a&&O.samples>0&&it(O)===!1){const D=O.isWebGLMultipleRenderTargets?O.texture:[O.texture],fe=O.width,Me=O.height;let Se=t.COLOR_BUFFER_BIT;const Ie=[],Je=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=i.get(O),pe=O.isWebGLMultipleRenderTargets===!0;if(pe)for(let rt=0;rt<D.length;rt++)n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglFramebuffer);for(let rt=0;rt<D.length;rt++){Ie.push(t.COLOR_ATTACHMENT0+rt),O.depthBuffer&&Ie.push(Je);const et=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(et===!1&&(O.depthBuffer&&(Se|=t.DEPTH_BUFFER_BIT),O.stencilBuffer&&(Se|=t.STENCIL_BUFFER_BIT)),pe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Le.__webglColorRenderbuffer[rt]),et===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Je]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Je])),pe){const tt=i.get(D[rt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,tt,0)}t.blitFramebuffer(0,0,fe,Me,0,0,fe,Me,Se,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),pe)for(let rt=0;rt<D.length;rt++){n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,Le.__webglColorRenderbuffer[rt]);const et=i.get(D[rt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,et,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglMultisampledFramebuffer)}}function ze(O){return Math.min(d,O.samples)}function it(O){const D=i.get(O);return a&&O.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function xt(O){const D=o.render.frame;v.get(O)!==D&&(v.set(O,D),O.update())}function Gt(O,D){const fe=O.colorSpace,Me=O.format,Se=O.type;return O.isCompressedTexture===!0||O.format===d0||fe!==fs&&fe!==xa&&(fe===_t?a===!1?e.has("EXT_sRGB")===!0&&Me===ji?(O.format=d0,O.minFilter=dn,O.generateMipmaps=!1):D=oM.sRGBToLinear(D):(Me!==ji||Se!==Ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),D}this.allocateTextureUnit=I,this.resetTextureUnits=ne,this.setTexture2D=U,this.setTexture2DArray=Z,this.setTexture3D=V,this.setTextureCube=se,this.rebindTextures=Te,this.setupRenderTarget=xe,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=it}function dD(t,e,n){const i=n.isWebGL2;function r(s,o=xa){let a;if(s===Ns)return t.UNSIGNED_BYTE;if(s===$A)return t.UNSIGNED_SHORT_4_4_4_4;if(s===QA)return t.UNSIGNED_SHORT_5_5_5_1;if(s===BI)return t.BYTE;if(s===LI)return t.SHORT;if(s===oy)return t.UNSIGNED_SHORT;if(s===YA)return t.INT;if(s===fo)return t.UNSIGNED_INT;if(s===Ls)return t.FLOAT;if(s===Fc)return i?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===II)return t.ALPHA;if(s===ji)return t.RGBA;if(s===DI)return t.LUMINANCE;if(s===FI)return t.LUMINANCE_ALPHA;if(s===ya)return t.DEPTH_COMPONENT;if(s===Vl)return t.DEPTH_STENCIL;if(s===d0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===NI)return t.RED;if(s===ZA)return t.RED_INTEGER;if(s===kI)return t.RG;if(s===qA)return t.RG_INTEGER;if(s===eM)return t.RGBA_INTEGER;if(s===xg||s===_g||s===Sg||s===Ag)if(o===_t)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===xg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_g)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Ag)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===xg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_g)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Sg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Ag)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===N1||s===k1||s===O1||s===U1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===N1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===k1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===O1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===U1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===OI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===H1||s===z1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===H1)return o===_t?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===z1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===G1||s===V1||s===W1||s===j1||s===X1||s===J1||s===K1||s===Y1||s===$1||s===Q1||s===Z1||s===q1||s===eS||s===tS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===G1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===V1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===W1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===j1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===X1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===J1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===K1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Y1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===$1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Q1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Z1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===q1)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===eS)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===tS)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Mg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Mg)return o===_t?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===UI||s===nS||s===iS||s===rS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Mg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===nS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===iS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===rS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ga?i?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class pD extends rn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ho extends Ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const N9={type:"move"};class Nx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ho,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ho,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ho,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const M of e.hand.values()){const x=n.getJointPose(M,i),g=this._getHandJoint(u,M);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(N9)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ho;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class mD extends un{constructor(e,n,i,r,s,o,a,l,u,h){if(h=h!==void 0?h:ya,h!==ya&&h!==Vl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===ya&&(i=fo),i===void 0&&h===Vl&&(i=ga),super(null,r,s,o,a,l,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:En,this.minFilter=l!==void 0?l:En,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class k9 extends Gs{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,d=null,p=null,m=null,v=null;const M=n.getContextAttributes();let x=null,g=null;const _=[],A=[];let E=null;const C=new rn;C.layers.enable(1),C.viewport=new jt;const b=new rn;b.layers.enable(2),b.viewport=new jt;const B=[C,b],L=new pD;L.layers.enable(1),L.layers.enable(2);let R=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(V){E=V},this.getController=function(V){let se=_[V];return se===void 0&&(se=new Nx,_[V]=se),se.getTargetRaySpace()},this.getControllerGrip=function(V){let se=_[V];return se===void 0&&(se=new Nx,_[V]=se),se.getGripSpace()},this.getHand=function(V){let se=_[V];return se===void 0&&(se=new Nx,_[V]=se),se.getHandSpace()};function H(V){const se=A.indexOf(V.inputSource);if(se===-1)return;const ce=_[se];ce!==void 0&&(ce.update(V.inputSource,V.frame,u||o),ce.dispatchEvent({type:V.type,data:V.inputSource}))}function ee(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",ee),r.removeEventListener("inputsourceschange",K);for(let V=0;V<_.length;V++){const se=A[V];se!==null&&(A[V]=null,_[V].disconnect(se))}R=null,P=null,e.setRenderTarget(x),m=null,p=null,d=null,r=null,g=null,Z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(V){u=V},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",ee),r.addEventListener("inputsourceschange",K),M.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:r.renderState.layers===void 0?M.antialias:!0,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,n,se),r.updateRenderState({baseLayer:m}),g=new hs(m.framebufferWidth,m.framebufferHeight,{format:ji,type:Ns,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil})}else{let se=null,ce=null,Ae=null;M.depth&&(Ae=M.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,se=M.stencil?Vl:ya,ce=M.stencil?ga:fo);const _e={colorFormat:n.RGBA8,depthFormat:Ae,scaleFactor:s};d=new XRWebGLBinding(r,n),p=d.createProjectionLayer(_e),r.updateRenderState({layers:[p]}),g=new hs(p.textureWidth,p.textureHeight,{format:ji,type:Ns,depthTexture:new mD(p.textureWidth,p.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0});const Pe=e.properties.get(g);Pe.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),Z.setContext(r),Z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function K(V){for(let se=0;se<V.removed.length;se++){const ce=V.removed[se],Ae=A.indexOf(ce);Ae>=0&&(A[Ae]=null,_[Ae].disconnect(ce))}for(let se=0;se<V.added.length;se++){const ce=V.added[se];let Ae=A.indexOf(ce);if(Ae===-1){for(let Pe=0;Pe<_.length;Pe++)if(Pe>=A.length){A.push(ce),Ae=Pe;break}else if(A[Pe]===null){A[Pe]=ce,Ae=Pe;break}if(Ae===-1)break}const _e=_[Ae];_e&&_e.connect(ce)}}const Q=new F,Y=new F;function ae(V,se,ce){Q.setFromMatrixPosition(se.matrixWorld),Y.setFromMatrixPosition(ce.matrixWorld);const Ae=Q.distanceTo(Y),_e=se.projectionMatrix.elements,Pe=ce.projectionMatrix.elements,qe=_e[14]/(_e[10]-1),$e=_e[14]/(_e[10]+1),nt=(_e[9]+1)/_e[5],Ee=(_e[9]-1)/_e[5],G=(_e[8]-1)/_e[0],ve=(Pe[8]+1)/Pe[0],ye=qe*G,Te=qe*ve,xe=Ae/(-G+ve),Ge=xe*-G;se.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Ge),V.translateZ(xe),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const ke=qe+xe,ze=$e+xe,it=ye-Ge,xt=Te+(Ae-Ge),Gt=nt*$e/ze*ke,O=Ee*$e/ze*ke;V.projectionMatrix.makePerspective(it,xt,Gt,O,ke,ze),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}function ne(V,se){se===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(se.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCameraXR=function(V){if(r===null)return V;E&&(V=E),L.near=b.near=C.near=V.near,L.far=b.far=C.far=V.far,(R!==L.near||P!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),R=L.near,P=L.far);const se=V.parent,ce=L.cameras;ne(L,se);for(let Ae=0;Ae<ce.length;Ae++)ne(ce[Ae],se);return ce.length===2?ae(L,C,b):L.projectionMatrix.copy(C.projectionMatrix),E&&I(L,se),L};function I(V,se){const ce=E;se===null?ce.matrix.copy(V.matrixWorld):(ce.matrix.copy(se.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(V.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0);const Ae=ce.children;for(let _e=0,Pe=Ae.length;_e<Pe;_e++)Ae[_e].updateMatrixWorld(!0);ce.projectionMatrix.copy(V.projectionMatrix),ce.projectionMatrixInverse.copy(V.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=kc*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(V){l=V,p!==null&&(p.fixedFoveation=V),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=V)};let z=null;function U(V,se){if(h=se.getViewerPose(u||o),v=se,h!==null){const ce=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ae=!1;ce.length!==L.cameras.length&&(L.cameras.length=0,Ae=!0);for(let _e=0;_e<ce.length;_e++){const Pe=ce[_e];let qe=null;if(m!==null)qe=m.getViewport(Pe);else{const nt=d.getViewSubImage(p,Pe);qe=nt.viewport,_e===0&&(e.setRenderTargetTextures(g,nt.colorTexture,p.ignoreDepthValues?void 0:nt.depthStencilTexture),e.setRenderTarget(g))}let $e=B[_e];$e===void 0&&($e=new rn,$e.layers.enable(_e),$e.viewport=new jt,B[_e]=$e),$e.matrix.fromArray(Pe.transform.matrix),$e.matrix.decompose($e.position,$e.quaternion,$e.scale),$e.projectionMatrix.fromArray(Pe.projectionMatrix),$e.projectionMatrixInverse.copy($e.projectionMatrix).invert(),$e.viewport.set(qe.x,qe.y,qe.width,qe.height),_e===0&&(L.matrix.copy($e.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Ae===!0&&L.cameras.push($e)}}for(let ce=0;ce<_.length;ce++){const Ae=A[ce],_e=_[ce];Ae!==null&&_e!==void 0&&_e.update(Ae,se,u||o)}z&&z(V,se),se.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:se}),v=null}const Z=new lD;Z.setAnimationLoop(U),this.setAnimationLoop=function(V){z=V},this.dispose=function(){}}}function O9(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,oD(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,_,A,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),d(x,g)):g.isMeshPhongMaterial?(s(x,g),h(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,E)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),M(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,_,A):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Bi&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Bi&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const _=e.get(g).envMap;if(_&&(x.envMap.value=_,x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const A=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*A,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,_,A){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*_,x.scale.value=A*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function h(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function d(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,_){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Bi&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=_.texture,x.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function M(x,g){const _=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(_.matrixWorld),x.nearDistance.value=_.shadow.camera.near,x.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function U9(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,A){const E=A.program;i.uniformBlockBinding(_,E)}function u(_,A){let E=r[_.id];E===void 0&&(v(_),E=h(_),r[_.id]=E,_.addEventListener("dispose",x));const C=A.program;i.updateUBOMapping(_,C);const b=e.render.frame;s[_.id]!==b&&(p(_),s[_.id]=b)}function h(_){const A=d();_.__bindingPointIndex=A;const E=t.createBuffer(),C=_.__size,b=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,C,b),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,A,E),E}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const A=r[_.id],E=_.uniforms,C=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,A);for(let b=0,B=E.length;b<B;b++){const L=E[b];if(m(L,b,C)===!0){const R=L.__offset,P=Array.isArray(L.value)?L.value:[L.value];let H=0;for(let ee=0;ee<P.length;ee++){const K=P[ee],Q=M(K);typeof K=="number"?(L.__data[0]=K,t.bufferSubData(t.UNIFORM_BUFFER,R+H,L.__data)):K.isMatrix3?(L.__data[0]=K.elements[0],L.__data[1]=K.elements[1],L.__data[2]=K.elements[2],L.__data[3]=K.elements[0],L.__data[4]=K.elements[3],L.__data[5]=K.elements[4],L.__data[6]=K.elements[5],L.__data[7]=K.elements[0],L.__data[8]=K.elements[6],L.__data[9]=K.elements[7],L.__data[10]=K.elements[8],L.__data[11]=K.elements[0]):(K.toArray(L.__data,H),H+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,R,L.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,A,E){const C=_.value;if(E[A]===void 0){if(typeof C=="number")E[A]=C;else{const b=Array.isArray(C)?C:[C],B=[];for(let L=0;L<b.length;L++)B.push(b[L].clone());E[A]=B}return!0}else if(typeof C=="number"){if(E[A]!==C)return E[A]=C,!0}else{const b=Array.isArray(E[A])?E[A]:[E[A]],B=Array.isArray(C)?C:[C];for(let L=0;L<b.length;L++){const R=b[L];if(R.equals(B[L])===!1)return R.copy(B[L]),!0}}return!1}function v(_){const A=_.uniforms;let E=0;const C=16;let b=0;for(let B=0,L=A.length;B<L;B++){const R=A[B],P={boundary:0,storage:0},H=Array.isArray(R.value)?R.value:[R.value];for(let ee=0,K=H.length;ee<K;ee++){const Q=H[ee],Y=M(Q);P.boundary+=Y.boundary,P.storage+=Y.storage}if(R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=E,B>0){b=E%C;const ee=C-b;b!==0&&ee-P.boundary<0&&(E+=C-b,R.__offset=E)}E+=P.storage}return b=E%C,b>0&&(E+=C-b),_.__size=E,_.__cache={},this}function M(_){const A={boundary:0,storage:0};return typeof _=="number"?(A.boundary=4,A.storage=4):_.isVector2?(A.boundary=8,A.storage=8):_.isVector3||_.isColor?(A.boundary=16,A.storage=12):_.isVector4?(A.boundary=16,A.storage=16):_.isMatrix3?(A.boundary=48,A.storage=48):_.isMatrix4?(A.boundary=64,A.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),A}function x(_){const A=_.target;A.removeEventListener("dispose",x);const E=o.indexOf(A.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function g(){for(const _ in r)t.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:u,dispose:g}}function H9(){const t=Yh("canvas");return t.style.display="block",t}class mM{constructor(e={}){const{canvas:n=H9(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let M=null,x=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=_t,this.useLegacyLights=!0,this.toneMapping=us,this.toneMappingExposure=1;const A=this;let E=!1,C=0,b=0,B=null,L=-1,R=null;const P=new jt,H=new jt;let ee=null;const K=new Ne(0);let Q=0,Y=n.width,ae=n.height,ne=1,I=null,z=null;const U=new jt(0,0,Y,ae),Z=new jt(0,0,Y,ae);let V=!1;const se=new uy;let ce=!1,Ae=!1,_e=null;const Pe=new lt,qe=new me,$e=new F,nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ee(){return B===null?ne:1}let G=i;function ve(N,re){for(let de=0;de<N.length;de++){const te=N[de],ge=n.getContext(te,re);if(ge!==null)return ge}return null}try{const N={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${jc}`),n.addEventListener("webglcontextlost",Re,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",Be,!1),G===null){const re=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&re.shift(),G=ve(re,N),G===null)throw ve(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let ye,Te,xe,Ge,ke,ze,it,xt,Gt,O,D,fe,Me,Se,Ie,Je,Le,pe,rt,et,tt,W,le,be;function Ke(){ye=new n5(G),Te=new $V(G,ye,e),ye.init(Te),W=new dD(G,ye,Te),xe=new D9(G,ye,Te),Ge=new s5(G),ke=new A9,ze=new F9(G,ye,xe,ke,Te,W,Ge),it=new ZV(A),xt=new t5(A),Gt=new yG(G,Te),le=new KV(G,ye,Gt,Te),O=new i5(G,Gt,Ge,le),D=new u5(G,O,Gt,Ge),rt=new l5(G,Te,ze),Je=new QV(ke),fe=new S9(A,it,xt,ye,Te,le,Je),Me=new O9(A,ke),Se=new E9,Ie=new P9(ye,Te),pe=new JV(A,it,xt,xe,D,p,l),Le=new I9(A,D,Te),be=new U9(G,Ge,Te,xe),et=new YV(G,ye,Ge,Te),tt=new r5(G,ye,Ge,Te),Ge.programs=fe.programs,A.capabilities=Te,A.extensions=ye,A.properties=ke,A.renderLists=Se,A.shadowMap=Le,A.state=xe,A.info=Ge}Ke();const X=new k9(A,G);this.xr=X,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const N=ye.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=ye.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(N){N!==void 0&&(ne=N,this.setSize(Y,ae,!1))},this.getSize=function(N){return N.set(Y,ae)},this.setSize=function(N,re,de=!0){if(X.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=N,ae=re,n.width=Math.floor(N*ne),n.height=Math.floor(re*ne),de===!0&&(n.style.width=N+"px",n.style.height=re+"px"),this.setViewport(0,0,N,re)},this.getDrawingBufferSize=function(N){return N.set(Y*ne,ae*ne).floor()},this.setDrawingBufferSize=function(N,re,de){Y=N,ae=re,ne=de,n.width=Math.floor(N*de),n.height=Math.floor(re*de),this.setViewport(0,0,N,re)},this.getCurrentViewport=function(N){return N.copy(P)},this.getViewport=function(N){return N.copy(U)},this.setViewport=function(N,re,de,te){N.isVector4?U.set(N.x,N.y,N.z,N.w):U.set(N,re,de,te),xe.viewport(P.copy(U).multiplyScalar(ne).floor())},this.getScissor=function(N){return N.copy(Z)},this.setScissor=function(N,re,de,te){N.isVector4?Z.set(N.x,N.y,N.z,N.w):Z.set(N,re,de,te),xe.scissor(H.copy(Z).multiplyScalar(ne).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(N){xe.setScissorTest(V=N)},this.setOpaqueSort=function(N){I=N},this.setTransparentSort=function(N){z=N},this.getClearColor=function(N){return N.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(N=!0,re=!0,de=!0){let te=0;if(N){let ge=!1;if(B!==null){const We=B.texture.format;ge=We===eM||We===qA||We===ZA}if(ge){const We=B.texture.type,st=We===Ns||We===fo||We===oy||We===ga||We===$A||We===QA,ut=pe.getClearColor(),ft=pe.getClearAlpha(),Ct=ut.r,ht=ut.g,dt=ut.b,Vt=ke.get(B).__webglFramebuffer;st?(m[0]=Ct,m[1]=ht,m[2]=dt,m[3]=ft,G.clearBufferuiv(G.COLOR,Vt,m)):(v[0]=Ct,v[1]=ht,v[2]=dt,v[3]=ft,G.clearBufferiv(G.COLOR,Vt,v))}else te|=G.COLOR_BUFFER_BIT}re&&(te|=G.DEPTH_BUFFER_BIT),de&&(te|=G.STENCIL_BUFFER_BIT),G.clear(te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Re,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",Be,!1),Se.dispose(),Ie.dispose(),ke.dispose(),it.dispose(),xt.dispose(),D.dispose(),le.dispose(),be.dispose(),fe.dispose(),X.dispose(),X.removeEventListener("sessionstart",zt),X.removeEventListener("sessionend",Vn),_e&&(_e.dispose(),_e=null),Zn.stop()};function Re(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const N=Ge.autoReset,re=Le.enabled,de=Le.autoUpdate,te=Le.needsUpdate,ge=Le.type;Ke(),Ge.autoReset=N,Le.enabled=re,Le.autoUpdate=de,Le.needsUpdate=te,Le.type=ge}function Be(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Fe(N){const re=N.target;re.removeEventListener("dispose",Fe),pt(re)}function pt(N){It(N),ke.remove(N)}function It(N){const re=ke.get(N).programs;re!==void 0&&(re.forEach(function(de){fe.releaseProgram(de)}),N.isShaderMaterial&&fe.releaseShaderCache(N))}this.renderBufferDirect=function(N,re,de,te,ge,We){re===null&&(re=nt);const st=ge.isMesh&&ge.matrixWorld.determinant()<0,ut=Ny(N,re,de,te,ge);xe.setMaterial(te,st);let ft=de.index,Ct=1;te.wireframe===!0&&(ft=O.getWireframeAttribute(de),Ct=2);const ht=de.drawRange,dt=de.attributes.position;let Vt=ht.start*Ct,en=(ht.start+ht.count)*Ct;We!==null&&(Vt=Math.max(Vt,We.start*Ct),en=Math.min(en,(We.start+We.count)*Ct)),ft!==null?(Vt=Math.max(Vt,0),en=Math.min(en,ft.count)):dt!=null&&(Vt=Math.max(Vt,0),en=Math.min(en,dt.count));const Qi=en-Vt;if(Qi<0||Qi===1/0)return;le.setup(ge,te,ut,de,ft);let Zi,Kt=et;if(ft!==null&&(Zi=Gt.get(ft),Kt=tt,Kt.setIndex(Zi)),ge.isMesh)te.wireframe===!0?(xe.setLineWidth(te.wireframeLinewidth*Ee()),Kt.setMode(G.LINES)):Kt.setMode(G.TRIANGLES);else if(ge.isLine){let gt=te.linewidth;gt===void 0&&(gt=1),xe.setLineWidth(gt*Ee()),ge.isLineSegments?Kt.setMode(G.LINES):ge.isLineLoop?Kt.setMode(G.LINE_LOOP):Kt.setMode(G.LINE_STRIP)}else ge.isPoints?Kt.setMode(G.POINTS):ge.isSprite&&Kt.setMode(G.TRIANGLES);if(ge.isInstancedMesh)Kt.renderInstances(Vt,Qi,ge.count);else if(de.isInstancedBufferGeometry){const gt=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,Wt=Math.min(de.instanceCount,gt);Kt.renderInstances(Vt,Qi,Wt)}else Kt.render(Vt,Qi)},this.compile=function(N,re){function de(te,ge,We){te.transparent===!0&&te.side===Ur&&te.forceSinglePass===!1?(te.side=Bi,te.needsUpdate=!0,ys(te,ge,We),te.side=Us,te.needsUpdate=!0,ys(te,ge,We),te.side=Ur):ys(te,ge,We)}x=Ie.get(N),x.init(),_.push(x),N.traverseVisible(function(te){te.isLight&&te.layers.test(re.layers)&&(x.pushLight(te),te.castShadow&&x.pushShadow(te))}),x.setupLights(A.useLegacyLights),N.traverse(function(te){const ge=te.material;if(ge)if(Array.isArray(ge))for(let We=0;We<ge.length;We++){const st=ge[We];de(st,N,te)}else de(ge,N,te)}),_.pop(),x=null};let Jt=null;function ui(N){Jt&&Jt(N)}function zt(){Zn.stop()}function Vn(){Zn.start()}const Zn=new lD;Zn.setAnimationLoop(ui),typeof self<"u"&&Zn.setContext(self),this.setAnimationLoop=function(N){Jt=N,X.setAnimationLoop(N),N===null?Zn.stop():Zn.start()},X.addEventListener("sessionstart",zt),X.addEventListener("sessionend",Vn),this.render=function(N,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),X.enabled===!0&&X.isPresenting===!0&&(re=X.updateCameraXR(re)),N.isScene===!0&&N.onBeforeRender(A,N,re,B),x=Ie.get(N,_.length),x.init(),_.push(x),Pe.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),se.setFromProjectionMatrix(Pe),Ae=this.localClippingEnabled,ce=Je.init(this.clippingPlanes,Ae),M=Se.get(N,g.length),M.init(),g.push(M),Xd(N,re,0,A.sortObjects),M.finish(),A.sortObjects===!0&&M.sort(I,z),ce===!0&&Je.beginShadows();const de=x.state.shadowsArray;if(Le.render(de,N,re),ce===!0&&Je.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,pe.render(M,N),x.setupLights(A.useLegacyLights),re.isArrayCamera){const te=re.cameras;for(let ge=0,We=te.length;ge<We;ge++){const st=te[ge];Jd(M,N,st,st.viewport)}}else Jd(M,N,re);B!==null&&(ze.updateMultisampleRenderTarget(B),ze.updateRenderTargetMipmap(B)),N.isScene===!0&&N.onAfterRender(A,N,re),le.resetDefaultState(),L=-1,R=null,_.pop(),_.length>0?x=_[_.length-1]:x=null,g.pop(),g.length>0?M=g[g.length-1]:M=null};function Xd(N,re,de,te){if(N.visible===!1)return;if(N.layers.test(re.layers)){if(N.isGroup)de=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(re);else if(N.isLight)x.pushLight(N),N.castShadow&&x.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||se.intersectsSprite(N)){te&&$e.setFromMatrixPosition(N.matrixWorld).applyMatrix4(Pe);const st=D.update(N),ut=N.material;ut.visible&&M.push(N,st,ut,de,$e.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||se.intersectsObject(N))){N.isSkinnedMesh&&N.skeleton.frame!==Ge.render.frame&&(N.skeleton.update(),N.skeleton.frame=Ge.render.frame);const st=D.update(N),ut=N.material;if(te&&(N.boundingSphere!==void 0?(N.boundingSphere===null&&N.computeBoundingSphere(),$e.copy(N.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),$e.copy(st.boundingSphere.center)),$e.applyMatrix4(N.matrixWorld).applyMatrix4(Pe)),Array.isArray(ut)){const ft=st.groups;for(let Ct=0,ht=ft.length;Ct<ht;Ct++){const dt=ft[Ct],Vt=ut[dt.materialIndex];Vt&&Vt.visible&&M.push(N,st,Vt,de,$e.z,dt)}}else ut.visible&&M.push(N,st,ut,de,$e.z,null)}}const We=N.children;for(let st=0,ut=We.length;st<ut;st++)Xd(We[st],re,de,te)}function Jd(N,re,de,te){const ge=N.opaque,We=N.transmissive,st=N.transparent;x.setupLightsView(de),ce===!0&&Je.setGlobalState(A.clippingPlanes,de),We.length>0&&Kd(ge,We,re,de),te&&xe.viewport(P.copy(te)),ge.length>0&&Bo(ge,re,de),We.length>0&&Bo(We,re,de),st.length>0&&Bo(st,re,de),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function Kd(N,re,de,te){const ge=Te.isWebGL2;_e===null&&(_e=new hs(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")?Fc:Ns,minFilter:Hs,samples:ge&&a===!0?4:0})),A.getDrawingBufferSize(qe),ge?_e.setSize(qe.x,qe.y):_e.setSize(p0(qe.x),p0(qe.y));const We=A.getRenderTarget();A.setRenderTarget(_e),A.getClearColor(K),Q=A.getClearAlpha(),Q<1&&A.setClearColor(16777215,.5),A.clear();const st=A.toneMapping;A.toneMapping=us,Bo(N,de,te),ze.updateMultisampleRenderTarget(_e),ze.updateRenderTargetMipmap(_e);let ut=!1;for(let ft=0,Ct=re.length;ft<Ct;ft++){const ht=re[ft],dt=ht.object,Vt=ht.geometry,en=ht.material,Qi=ht.group;if(en.side===Ur&&dt.layers.test(te.layers)){const Zi=en.side;en.side=Bi,en.needsUpdate=!0,Yd(dt,de,te,Vt,en,Qi),en.side=Zi,en.needsUpdate=!0,ut=!0}}ut===!0&&(ze.updateMultisampleRenderTarget(_e),ze.updateRenderTargetMipmap(_e)),A.setRenderTarget(We),A.setClearColor(K,Q),A.toneMapping=st}function Bo(N,re,de){const te=re.isScene===!0?re.overrideMaterial:null;for(let ge=0,We=N.length;ge<We;ge++){const st=N[ge],ut=st.object,ft=st.geometry,Ct=te===null?st.material:te,ht=st.group;ut.layers.test(de.layers)&&Yd(ut,re,de,ft,Ct,ht)}}function Yd(N,re,de,te,ge,We){N.onBeforeRender(A,re,de,te,ge,We),N.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),ge.onBeforeRender(A,re,de,te,N,We),ge.transparent===!0&&ge.side===Ur&&ge.forceSinglePass===!1?(ge.side=Bi,ge.needsUpdate=!0,A.renderBufferDirect(de,re,te,ge,N,We),ge.side=Us,ge.needsUpdate=!0,A.renderBufferDirect(de,re,te,ge,N,We),ge.side=Ur):A.renderBufferDirect(de,re,te,ge,N,We),N.onAfterRender(A,re,de,te,ge,We)}function ys(N,re,de){re.isScene!==!0&&(re=nt);const te=ke.get(N),ge=x.state.lights,We=x.state.shadowsArray,st=ge.state.version,ut=fe.getParameters(N,ge.state,We,re,de),ft=fe.getProgramCacheKey(ut);let Ct=te.programs;te.environment=N.isMeshStandardMaterial?re.environment:null,te.fog=re.fog,te.envMap=(N.isMeshStandardMaterial?xt:it).get(N.envMap||te.environment),Ct===void 0&&(N.addEventListener("dispose",Fe),Ct=new Map,te.programs=Ct);let ht=Ct.get(ft);if(ht!==void 0){if(te.currentProgram===ht&&te.lightsStateVersion===st)return $d(N,ut),ht}else ut.uniforms=fe.getUniforms(N),N.onBuild(de,ut,A),N.onBeforeCompile(ut,A),ht=fe.acquireProgram(ut,ft),Ct.set(ft,ht),te.uniforms=ut.uniforms;const dt=te.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(dt.clippingPlanes=Je.uniform),$d(N,ut),te.needsLights=Oy(N),te.lightsStateVersion=st,te.needsLights&&(dt.ambientLightColor.value=ge.state.ambient,dt.lightProbe.value=ge.state.probe,dt.directionalLights.value=ge.state.directional,dt.directionalLightShadows.value=ge.state.directionalShadow,dt.spotLights.value=ge.state.spot,dt.spotLightShadows.value=ge.state.spotShadow,dt.rectAreaLights.value=ge.state.rectArea,dt.ltc_1.value=ge.state.rectAreaLTC1,dt.ltc_2.value=ge.state.rectAreaLTC2,dt.pointLights.value=ge.state.point,dt.pointLightShadows.value=ge.state.pointShadow,dt.hemisphereLights.value=ge.state.hemi,dt.directionalShadowMap.value=ge.state.directionalShadowMap,dt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,dt.spotShadowMap.value=ge.state.spotShadowMap,dt.spotLightMatrix.value=ge.state.spotLightMatrix,dt.spotLightMap.value=ge.state.spotLightMap,dt.pointShadowMap.value=ge.state.pointShadowMap,dt.pointShadowMatrix.value=ge.state.pointShadowMatrix);const Vt=ht.getUniforms(),en=Tg.seqWithValue(Vt.seq,dt);return te.currentProgram=ht,te.uniformsList=en,ht}function $d(N,re){const de=ke.get(N);de.outputColorSpace=re.outputColorSpace,de.instancing=re.instancing,de.skinning=re.skinning,de.morphTargets=re.morphTargets,de.morphNormals=re.morphNormals,de.morphColors=re.morphColors,de.morphTargetsCount=re.morphTargetsCount,de.numClippingPlanes=re.numClippingPlanes,de.numIntersection=re.numClipIntersection,de.vertexAlphas=re.vertexAlphas,de.vertexTangents=re.vertexTangents,de.toneMapping=re.toneMapping}function Ny(N,re,de,te,ge){re.isScene!==!0&&(re=nt),ze.resetTextureUnits();const We=re.fog,st=te.isMeshStandardMaterial?re.environment:null,ut=B===null?A.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:fs,ft=(te.isMeshStandardMaterial?xt:it).get(te.envMap||st),Ct=te.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,ht=!!de.attributes.tangent&&(!!te.normalMap||te.anisotropy>0),dt=!!de.morphAttributes.position,Vt=!!de.morphAttributes.normal,en=!!de.morphAttributes.color,Qi=te.toneMapped?A.toneMapping:us,Zi=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,Kt=Zi!==void 0?Zi.length:0,gt=ke.get(te),Wt=x.state.lights;if(ce===!0&&(Ae===!0||N!==R)){const fi=N===R&&te.id===L;Je.setState(te,N,fi)}let mt=!1;te.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==Wt.state.version||gt.outputColorSpace!==ut||ge.isInstancedMesh&&gt.instancing===!1||!ge.isInstancedMesh&&gt.instancing===!0||ge.isSkinnedMesh&&gt.skinning===!1||!ge.isSkinnedMesh&&gt.skinning===!0||gt.envMap!==ft||te.fog===!0&&gt.fog!==We||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==Je.numPlanes||gt.numIntersection!==Je.numIntersection)||gt.vertexAlphas!==Ct||gt.vertexTangents!==ht||gt.morphTargets!==dt||gt.morphNormals!==Vt||gt.morphColors!==en||gt.toneMapping!==Qi||Te.isWebGL2===!0&&gt.morphTargetsCount!==Kt)&&(mt=!0):(mt=!0,gt.__version=te.version);let ci=gt.currentProgram;mt===!0&&(ci=ys(te,re,ge));let Nn=!1,Rn=!1,Jr=!1;const xn=ci.getUniforms(),_n=gt.uniforms;if(xe.useProgram(ci.program)&&(Nn=!0,Rn=!0,Jr=!0),te.id!==L&&(L=te.id,Rn=!0),Nn||R!==N){if(xn.setValue(G,"projectionMatrix",N.projectionMatrix),Te.logarithmicDepthBuffer&&xn.setValue(G,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),R!==N&&(R=N,Rn=!0,Jr=!0),te.isShaderMaterial||te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshStandardMaterial||te.envMap){const fi=xn.map.cameraPosition;fi!==void 0&&fi.setValue(G,$e.setFromMatrixPosition(N.matrixWorld))}(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial)&&xn.setValue(G,"isOrthographic",N.isOrthographicCamera===!0),(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial||te.isShadowMaterial||ge.isSkinnedMesh)&&xn.setValue(G,"viewMatrix",N.matrixWorldInverse)}if(ge.isSkinnedMesh){xn.setOptional(G,ge,"bindMatrix"),xn.setOptional(G,ge,"bindMatrixInverse");const fi=ge.skeleton;fi&&(Te.floatVertexTextures?(fi.boneTexture===null&&fi.computeBoneTexture(),xn.setValue(G,"boneTexture",fi.boneTexture,ze),xn.setValue(G,"boneTextureSize",fi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Lo=de.morphAttributes;if((Lo.position!==void 0||Lo.normal!==void 0||Lo.color!==void 0&&Te.isWebGL2===!0)&&rt.update(ge,de,ci),(Rn||gt.receiveShadow!==ge.receiveShadow)&&(gt.receiveShadow=ge.receiveShadow,xn.setValue(G,"receiveShadow",ge.receiveShadow)),te.isMeshGouraudMaterial&&te.envMap!==null&&(_n.envMap.value=ft,_n.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),Rn&&(xn.setValue(G,"toneMappingExposure",A.toneMappingExposure),gt.needsLights&&ky(_n,Jr),We&&te.fog===!0&&Me.refreshFogUniforms(_n,We),Me.refreshMaterialUniforms(_n,te,ne,ae,_e),Tg.upload(G,gt.uniformsList,_n,ze)),te.isShaderMaterial&&te.uniformsNeedUpdate===!0&&(Tg.upload(G,gt.uniformsList,_n,ze),te.uniformsNeedUpdate=!1),te.isSpriteMaterial&&xn.setValue(G,"center",ge.center),xn.setValue(G,"modelViewMatrix",ge.modelViewMatrix),xn.setValue(G,"normalMatrix",ge.normalMatrix),xn.setValue(G,"modelMatrix",ge.matrixWorld),te.isShaderMaterial||te.isRawShaderMaterial){const fi=te.uniformsGroups;for(let ou=0,au=fi.length;ou<au;ou++)if(Te.isWebGL2){const tf=fi[ou];be.update(tf,ci),be.bind(tf,ci)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ci}function ky(N,re){N.ambientLightColor.needsUpdate=re,N.lightProbe.needsUpdate=re,N.directionalLights.needsUpdate=re,N.directionalLightShadows.needsUpdate=re,N.pointLights.needsUpdate=re,N.pointLightShadows.needsUpdate=re,N.spotLights.needsUpdate=re,N.spotLightShadows.needsUpdate=re,N.rectAreaLights.needsUpdate=re,N.hemisphereLights.needsUpdate=re}function Oy(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(N,re,de){ke.get(N.texture).__webglTexture=re,ke.get(N.depthTexture).__webglTexture=de;const te=ke.get(N);te.__hasExternalTextures=!0,te.__hasExternalTextures&&(te.__autoAllocateDepthBuffer=de===void 0,te.__autoAllocateDepthBuffer||ye.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),te.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,re){const de=ke.get(N);de.__webglFramebuffer=re,de.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(N,re=0,de=0){B=N,C=re,b=de;let te=!0,ge=null,We=!1,st=!1;if(N){const ft=ke.get(N);ft.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(G.FRAMEBUFFER,null),te=!1):ft.__webglFramebuffer===void 0?ze.setupRenderTarget(N):ft.__hasExternalTextures&&ze.rebindTextures(N,ke.get(N.texture).__webglTexture,ke.get(N.depthTexture).__webglTexture);const Ct=N.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(st=!0);const ht=ke.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(ge=ht[re],We=!0):Te.isWebGL2&&N.samples>0&&ze.useMultisampledRTT(N)===!1?ge=ke.get(N).__webglMultisampledFramebuffer:ge=ht,P.copy(N.viewport),H.copy(N.scissor),ee=N.scissorTest}else P.copy(U).multiplyScalar(ne).floor(),H.copy(Z).multiplyScalar(ne).floor(),ee=V;if(xe.bindFramebuffer(G.FRAMEBUFFER,ge)&&Te.drawBuffers&&te&&xe.drawBuffers(N,ge),xe.viewport(P),xe.scissor(H),xe.setScissorTest(ee),We){const ft=ke.get(N.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+re,ft.__webglTexture,de)}else if(st){const ft=ke.get(N.texture),Ct=re||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,ft.__webglTexture,de||0,Ct)}L=-1},this.readRenderTargetPixels=function(N,re,de,te,ge,We,st){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=ke.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&st!==void 0&&(ut=ut[st]),ut){xe.bindFramebuffer(G.FRAMEBUFFER,ut);try{const ft=N.texture,Ct=ft.format,ht=ft.type;if(Ct!==ji&&W.convert(Ct)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const dt=ht===Fc&&(ye.has("EXT_color_buffer_half_float")||Te.isWebGL2&&ye.has("EXT_color_buffer_float"));if(ht!==Ns&&W.convert(ht)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(ht===Ls&&(Te.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float")))&&!dt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=N.width-te&&de>=0&&de<=N.height-ge&&G.readPixels(re,de,te,ge,W.convert(Ct),W.convert(ht),We)}finally{const ft=B!==null?ke.get(B).__webglFramebuffer:null;xe.bindFramebuffer(G.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(N,re,de=0){const te=Math.pow(2,-de),ge=Math.floor(re.image.width*te),We=Math.floor(re.image.height*te);ze.setTexture2D(re,0),G.copyTexSubImage2D(G.TEXTURE_2D,de,0,0,N.x,N.y,ge,We),xe.unbindTexture()},this.copyTextureToTexture=function(N,re,de,te=0){const ge=re.image.width,We=re.image.height,st=W.convert(de.format),ut=W.convert(de.type);ze.setTexture2D(de,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,de.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,de.unpackAlignment),re.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,te,N.x,N.y,ge,We,st,ut,re.image.data):re.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,te,N.x,N.y,re.mipmaps[0].width,re.mipmaps[0].height,st,re.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,te,N.x,N.y,st,ut,re.image),te===0&&de.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),xe.unbindTexture()},this.copyTextureToTexture3D=function(N,re,de,te,ge=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const We=N.max.x-N.min.x+1,st=N.max.y-N.min.y+1,ut=N.max.z-N.min.z+1,ft=W.convert(te.format),Ct=W.convert(te.type);let ht;if(te.isData3DTexture)ze.setTexture3D(te,0),ht=G.TEXTURE_3D;else if(te.isDataArrayTexture)ze.setTexture2DArray(te,0),ht=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,te.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,te.unpackAlignment);const dt=G.getParameter(G.UNPACK_ROW_LENGTH),Vt=G.getParameter(G.UNPACK_IMAGE_HEIGHT),en=G.getParameter(G.UNPACK_SKIP_PIXELS),Qi=G.getParameter(G.UNPACK_SKIP_ROWS),Zi=G.getParameter(G.UNPACK_SKIP_IMAGES),Kt=de.isCompressedTexture?de.mipmaps[0]:de.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,Kt.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Kt.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,N.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,N.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,N.min.z),de.isDataTexture||de.isData3DTexture?G.texSubImage3D(ht,ge,re.x,re.y,re.z,We,st,ut,ft,Ct,Kt.data):de.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(ht,ge,re.x,re.y,re.z,We,st,ut,ft,Kt.data)):G.texSubImage3D(ht,ge,re.x,re.y,re.z,We,st,ut,ft,Ct,Kt),G.pixelStorei(G.UNPACK_ROW_LENGTH,dt),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Vt),G.pixelStorei(G.UNPACK_SKIP_PIXELS,en),G.pixelStorei(G.UNPACK_SKIP_ROWS,Qi),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Zi),ge===0&&te.generateMipmaps&&G.generateMipmap(ht),xe.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?ze.setTextureCube(N,0):N.isData3DTexture?ze.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?ze.setTexture2DArray(N,0):ze.setTexture2D(N,0),xe.unbindTexture()},this.resetState=function(){C=0,b=0,B=null,xe.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Is}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===_t?va:iM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===va?_t:fs}}class gD extends mM{}gD.prototype.isWebGL1Renderer=!0;class fy{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ne(e),this.density=n}clone(){return new fy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class hy{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ne(e),this.near=n,this.far=i}clone(){return new hy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class m0 extends Ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class xd{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Jh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wi=new F;class ba{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)wi.fromBufferAttribute(this,n),wi.applyMatrix4(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)wi.fromBufferAttribute(this,n),wi.applyNormalMatrix(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)wi.fromBufferAttribute(this,n),wi.transformDirection(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this}setX(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Tt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=dr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=dr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=dr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=dr(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Tt(n,this.array),i=Tt(i,this.array),r=Tt(r,this.array),s=Tt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Ht(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ba(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gM extends Fn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ne(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ku;const Df=new F,Ou=new F,Uu=new F,Hu=new me,Ff=new me,yD=new lt,Tm=new F,Nf=new F,Cm=new F,fb=new me,kx=new me,hb=new me;class vD extends Ft{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ku===void 0){ku=new At;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new xd(n,5);ku.setIndex([0,1,2,0,2,3]),ku.setAttribute("position",new ba(i,3,0,!1)),ku.setAttribute("uv",new ba(i,2,3,!1))}this.geometry=ku,this.material=e!==void 0?e:new gM,this.center=new me(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ou.setFromMatrixScale(this.matrixWorld),yD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Uu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ou.multiplyScalar(-Uu.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;bm(Tm.set(-.5,-.5,0),Uu,o,Ou,r,s),bm(Nf.set(.5,-.5,0),Uu,o,Ou,r,s),bm(Cm.set(.5,.5,0),Uu,o,Ou,r,s),fb.set(0,0),kx.set(1,0),hb.set(1,1);let a=e.ray.intersectTriangle(Tm,Nf,Cm,!1,Df);if(a===null&&(bm(Nf.set(-.5,.5,0),Uu,o,Ou,r,s),kx.set(0,1),a=e.ray.intersectTriangle(Tm,Cm,Nf,!1,Df),a===null))return;const l=e.ray.origin.distanceTo(Df);l<e.near||l>e.far||n.push({distance:l,point:Df.clone(),uv:Wi.getInterpolation(Df,Tm,Nf,Cm,fb,kx,hb,new me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bm(t,e,n,i,r,s){Hu.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Ff.x=s*Hu.x-r*Hu.y,Ff.y=r*Hu.x+s*Hu.y):Ff.copy(Hu),t.copy(e),t.x+=Ff.x,t.y+=Ff.y,t.applyMatrix4(yD)}const Rm=new F,db=new F;class xD extends Ft{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Rm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Rm);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Rm.setFromMatrixPosition(e.matrixWorld),db.setFromMatrixPosition(this.matrixWorld);const i=Rm.distanceTo(db)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const pb=new F,mb=new jt,gb=new jt,z9=new F,yb=new lt,zu=new F,Ox=new jr,vb=new lt,Ux=new Zl;class yM extends Yn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ds),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)zu.fromBufferAttribute(n,i),this.applyBoneTransform(i,zu),this.boundingBox.expandByPoint(zu)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new jr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)zu.fromBufferAttribute(n,i),this.applyBoneTransform(i,zu),this.boundingSphere.expandByPoint(zu)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ox.copy(this.boundingSphere),Ox.applyMatrix4(r),e.ray.intersectsSphere(Ox)!==!1&&(vb.copy(r).invert(),Ux.copy(e.ray).applyMatrix4(vb),!(this.boundingBox!==null&&Ux.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Ux)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new jt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;mb.fromBufferAttribute(r.attributes.skinIndex,e),gb.fromBufferAttribute(r.attributes.skinWeight,e),pb.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=gb.getComponent(s);if(o!==0){const a=mb.getComponent(s);yb.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(z9.copy(pb).applyMatrix4(yb),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class dy extends Ft{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Mc extends un{constructor(e=null,n=1,i=1,r,s,o,a,l,u=En,h=En,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xb=new lt,G9=new lt;class _d{constructor(e=[],n=[]){this.uuid=gr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:G9;xb.multiplyMatrices(a,n[s]),xb.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new _d(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=nD(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Mc(n,e,e,ji,Ls);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new dy),this.bones.push(o),this.boneInverses.push(new lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jl extends Ht{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Gu=new lt,_b=new lt,Pm=[],Sb=new ds,V9=new lt,kf=new Yn,Of=new jr;class vM extends Yn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new jl(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,V9)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ds),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Gu),Sb.copy(e.boundingBox).applyMatrix4(Gu),this.boundingBox.union(Sb)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new jr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Gu),Of.copy(e.boundingSphere).applyMatrix4(Gu),this.boundingSphere.union(Of)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(kf.geometry=this.geometry,kf.material=this.material,kf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Of.copy(this.boundingSphere),Of.applyMatrix4(i),e.ray.intersectsSphere(Of)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Gu),_b.multiplyMatrices(i,Gu),kf.matrixWorld=_b,kf.raycast(e,Pm);for(let o=0,a=Pm.length;o<a;o++){const l=Pm[o];l.instanceId=s,l.object=this,n.push(l)}Pm.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new jl(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ai extends Fn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ne(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ab=new F,Mb=new F,Eb=new lt,Hx=new Zl,Bm=new jr;class Eo extends Ft{constructor(e=new At,n=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)Ab.fromBufferAttribute(n,r-1),Mb.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=Ab.distanceTo(Mb);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Bm.copy(i.boundingSphere),Bm.applyMatrix4(r),Bm.radius+=s,e.ray.intersectsSphere(Bm)===!1)return;Eb.copy(r).invert(),Hx.copy(e.ray).applyMatrix4(Eb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,h=new F,d=new F,p=new F,m=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let A=g,E=_-1;A<E;A+=m){const C=v.getX(A),b=v.getX(A+1);if(u.fromBufferAttribute(x,C),h.fromBufferAttribute(x,b),Hx.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||n.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let A=g,E=_-1;A<E;A+=m){if(u.fromBufferAttribute(x,A),h.fromBufferAttribute(x,A+1),Hx.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||n.push({distance:b,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const wb=new F,Tb=new F;class ps extends Eo{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)wb.fromBufferAttribute(n,r),Tb.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+wb.distanceTo(Tb);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xM extends Eo{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Sd extends Fn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ne(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Cb=new lt,uS=new Zl,Lm=new jr,Im=new F;let _M=class extends Ft{constructor(e=new At,n=new Sd){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lm.copy(i.boundingSphere),Lm.applyMatrix4(r),Lm.radius+=s,e.ray.intersectsSphere(Lm)===!1)return;Cb.copy(r).invert(),uS.copy(e.ray).applyMatrix4(Cb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,M=m;v<M;v++){const x=u.getX(v);Im.fromBufferAttribute(d,x),bb(Im,x,l,r,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,M=m;v<M;v++)Im.fromBufferAttribute(d,v),bb(Im,v,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function bb(t,e,n,i,r,s,o){const a=uS.distanceSqToPoint(t);if(a<n){const l=new F;uS.closestPointToPoint(t,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class W9 extends un{constructor(e,n,i,r,s,o,a,l,u){super(e,n,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dn,this.magFilter=s!==void 0?s:dn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class j9 extends un{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=En,this.minFilter=En,this.generateMipmaps=!1,this.needsUpdate=!0}}class SM extends un{constructor(e,n,i,r,s,o,a,l,u,h,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class X9 extends SM{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ti}}class J9 extends un{constructor(e,n,i,r,s,o,a,l,u){super(e,n,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ms{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new me:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new F,r=[],s=[],o=[],a=new F,l=new lt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(wn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(n===!0){let m=Math.acos(wn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class py extends ms{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new me,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*h-m*d+this.aX,u=p*d+m*h+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class _D extends py{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function AM(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,d){let p=(o-s)/u-(a-s)/(u+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const Dm=new F,zx=new AM,Gx=new AM,Vx=new AM;class SD extends ms{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new F){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=r[(a-1)%s]:(Dm.subVectors(r[0],r[1]).add(r[0]),u=Dm);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(Dm.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=Dm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),M=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(h),m);M<1e-4&&(M=1),v<1e-4&&(v=M),x<1e-4&&(x=M),zx.initNonuniformCatmullRom(u.x,d.x,p.x,h.x,v,M,x),Gx.initNonuniformCatmullRom(u.y,d.y,p.y,h.y,v,M,x),Vx.initNonuniformCatmullRom(u.z,d.z,p.z,h.z,v,M,x)}else this.curveType==="catmullrom"&&(zx.initCatmullRom(u.x,d.x,p.x,h.x,this.tension),Gx.initCatmullRom(u.y,d.y,p.y,h.y,this.tension),Vx.initCatmullRom(u.z,d.z,p.z,h.z,this.tension));return i.set(zx.calc(l),Gx.calc(l),Vx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Rb(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function K9(t,e){const n=1-t;return n*n*e}function Y9(t,e){return 2*(1-t)*t*e}function $9(t,e){return t*t*e}function yh(t,e,n,i){return K9(t,e)+Y9(t,n)+$9(t,i)}function Q9(t,e){const n=1-t;return n*n*n*e}function Z9(t,e){const n=1-t;return 3*n*n*t*e}function q9(t,e){return 3*(1-t)*t*t*e}function e8(t,e){return t*t*t*e}function vh(t,e,n,i,r){return Q9(t,e)+Z9(t,n)+q9(t,i)+e8(t,r)}class MM extends ms{constructor(e=new me,n=new me,i=new me,r=new me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new me){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(vh(e,r.x,s.x,o.x,a.x),vh(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class AD extends ms{constructor(e=new F,n=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new F){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(vh(e,r.x,s.x,o.x,a.x),vh(e,r.y,s.y,o.y,a.y),vh(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class my extends ms{constructor(e=new me,n=new me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new me){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MD extends ms{constructor(e=new F,n=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new F){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new F){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EM extends ms{constructor(e=new me,n=new me,i=new me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new me){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(yh(e,r.x,s.x,o.x),yh(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wM extends ms{constructor(e=new F,n=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new F){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(yh(e,r.x,s.x,o.x),yh(e,r.y,s.y,o.y),yh(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TM extends ms{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new me){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(Rb(a,l.x,u.x,h.x,d.x),Rb(a,l.y,u.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new me().fromArray(r))}return this}}var CM=Object.freeze({__proto__:null,ArcCurve:_D,CatmullRomCurve3:SD,CubicBezierCurve:MM,CubicBezierCurve3:AD,EllipseCurve:py,LineCurve:my,LineCurve3:MD,QuadraticBezierCurve:EM,QuadraticBezierCurve3:wM,SplineCurve:TM});class ED extends ms{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new my(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];i&&i.equals(h)||(n.push(h),i=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new CM[r.type]().fromJSON(r))}return this}}class $h extends ED{constructor(e){super(),this.type="Path",this.currentPoint=new me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new my(this.currentPoint.clone(),new me(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new EM(this.currentPoint.clone(),new me(e,n),new me(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new MM(this.currentPoint.clone(),new me(e,n),new me(i,r),new me(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new TM(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const u=new py(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Yc extends At{constructor(e=[new me(0,-.5),new me(.5,0),new me(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=wn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/n,d=new F,p=new me,m=new F,v=new F,M=new F;let x=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,M.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(M.x,M.y,M.z);break;default:x=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=M.x,m.y+=M.y,m.z+=M.z,m.normalize(),l.push(m.x,m.y,m.z),M.copy(v)}for(let _=0;_<=n;_++){const A=i+_*h*r,E=Math.sin(A),C=Math.cos(A);for(let b=0;b<=e.length-1;b++){d.x=e[b].x*E,d.y=e[b].y,d.z=e[b].x*C,o.push(d.x,d.y,d.z),p.x=_/n,p.y=b/(e.length-1),a.push(p.x,p.y);const B=l[3*b+0]*E,L=l[3*b+1],R=l[3*b+0]*C;u.push(B,L,R)}}for(let _=0;_<n;_++)for(let A=0;A<e.length-1;A++){const E=A+_*e.length,C=E,b=E+e.length,B=E+e.length+1,L=E+1;s.push(C,b,L),s.push(B,L,b)}this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2)),this.setAttribute("normal",new Xe(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yc(e.points,e.segments,e.phiStart,e.phiLength)}}class Ad extends Yc{constructor(e=1,n=1,i=4,r=8){const s=new $h;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new Ad(e.radius,e.length,e.capSegments,e.radialSegments)}}class Md extends At{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new F,h=new me;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=i+d/n*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Md(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ql extends At{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const M=[],x=i/2;let g=0;_(),o===!1&&(e>0&&A(!0),n>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function _(){const E=new F,C=new F;let b=0;const B=(n-e)/i;for(let L=0;L<=s;L++){const R=[],P=L/s,H=P*(n-e)+e;for(let ee=0;ee<=r;ee++){const K=ee/r,Q=K*l+a,Y=Math.sin(Q),ae=Math.cos(Q);C.x=H*Y,C.y=-P*i+x,C.z=H*ae,d.push(C.x,C.y,C.z),E.set(Y,B,ae).normalize(),p.push(E.x,E.y,E.z),m.push(K,1-P),R.push(v++)}M.push(R)}for(let L=0;L<r;L++)for(let R=0;R<s;R++){const P=M[R][L],H=M[R+1][L],ee=M[R+1][L+1],K=M[R][L+1];h.push(P,H,K),h.push(H,ee,K),b+=6}u.addGroup(g,b,0),g+=b}function A(E){const C=v,b=new me,B=new F;let L=0;const R=E===!0?e:n,P=E===!0?1:-1;for(let ee=1;ee<=r;ee++)d.push(0,x*P,0),p.push(0,P,0),m.push(.5,.5),v++;const H=v;for(let ee=0;ee<=r;ee++){const Q=ee/r*l+a,Y=Math.cos(Q),ae=Math.sin(Q);B.x=R*ae,B.y=x*P,B.z=R*Y,d.push(B.x,B.y,B.z),p.push(0,P,0),b.x=Y*.5+.5,b.y=ae*.5*P+.5,m.push(b.x,b.y),v++}for(let ee=0;ee<r;ee++){const K=C+ee,Q=H+ee;E===!0?h.push(Q,Q+1,K):h.push(Q+1,Q,K),L+=3}u.addGroup(g,L,E===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ed extends ql{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Ed(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Po extends At{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),u(i),h(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(s.slice(),3)),this.setAttribute("uv",new Xe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const A=new F,E=new F,C=new F;for(let b=0;b<n.length;b+=3)m(n[b+0],A),m(n[b+1],E),m(n[b+2],C),l(A,E,C,_)}function l(_,A,E,C){const b=C+1,B=[];for(let L=0;L<=b;L++){B[L]=[];const R=_.clone().lerp(E,L/b),P=A.clone().lerp(E,L/b),H=b-L;for(let ee=0;ee<=H;ee++)ee===0&&L===b?B[L][ee]=R:B[L][ee]=R.clone().lerp(P,ee/H)}for(let L=0;L<b;L++)for(let R=0;R<2*(b-L)-1;R++){const P=Math.floor(R/2);R%2===0?(p(B[L][P+1]),p(B[L+1][P]),p(B[L][P])):(p(B[L][P+1]),p(B[L+1][P+1]),p(B[L+1][P]))}}function u(_){const A=new F;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(_),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function h(){const _=new F;for(let A=0;A<s.length;A+=3){_.x=s[A+0],_.y=s[A+1],_.z=s[A+2];const E=x(_)/2/Math.PI+.5,C=g(_)/Math.PI+.5;o.push(E,1-C)}v(),d()}function d(){for(let _=0;_<o.length;_+=6){const A=o[_+0],E=o[_+2],C=o[_+4],b=Math.max(A,E,C),B=Math.min(A,E,C);b>.9&&B<.1&&(A<.2&&(o[_+0]+=1),E<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,A){const E=_*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function v(){const _=new F,A=new F,E=new F,C=new F,b=new me,B=new me,L=new me;for(let R=0,P=0;R<s.length;R+=9,P+=6){_.set(s[R+0],s[R+1],s[R+2]),A.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),b.set(o[P+0],o[P+1]),B.set(o[P+2],o[P+3]),L.set(o[P+4],o[P+5]),C.copy(_).add(A).add(E).divideScalar(3);const H=x(C);M(b,P+0,_,H),M(B,P+2,A,H),M(L,P+4,E,H)}}function M(_,A,E,C){C<0&&_.x===1&&(o[A]=_.x-1),E.x===0&&E.z===0&&(o[A]=C/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Po(e.vertices,e.indices,e.radius,e.details)}}class wd extends Po{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wd(e.radius,e.detail)}}const Fm=new F,Nm=new F,Wx=new F,km=new Wi;class wD extends At{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Fl*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:M,b:x,c:g}=km;if(M.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),km.getNormal(Wx),d[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const A=(_+1)%3,E=d[_],C=d[A],b=km[h[_]],B=km[h[A]],L=`${E}_${C}`,R=`${C}_${E}`;R in p&&p[R]?(Wx.dot(p[R].normal)<=s&&(m.push(b.x,b.y,b.z),m.push(B.x,B.y,B.z)),p[R]=null):L in p||(p[L]={index0:u[_],index1:u[A],normal:Wx.clone()})}}for(const v in p)if(p[v]){const{index0:M,index1:x}=p[v];Fm.fromBufferAttribute(a,M),Nm.fromBufferAttribute(a,x),m.push(Fm.x,Fm.y,Fm.z),m.push(Nm.x,Nm.y,Nm.z)}this.setAttribute("position",new Xe(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class kl extends $h{constructor(e){super(e),this.uuid=gr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new $h().fromJSON(r))}return this}}const t8={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=TD(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,d,p,m;if(i&&(s=o8(t,e,s,n)),t.length>80*n){a=u=t[0],l=h=t[1];for(let v=n;v<r;v+=n)d=t[v],p=t[v+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>h&&(h=p);m=Math.max(u-a,h-l),m=m!==0?32767/m:0}return Qh(s,o,n,a,l,m,0),o}};function TD(t,e,n,i,r){let s,o;if(r===y8(t,e,n,i)>0)for(s=e;s<n;s+=i)o=Pb(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=Pb(s,t[s],t[s+1],o);return o&&gy(o,o.next)&&(qh(o),o=o.next),o}function Xl(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(gy(n,n.next)||pn(n.prev,n,n.next)===0)){if(qh(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Qh(t,e,n,i,r,s,o){if(!t)return;!o&&s&&f8(t,i,r,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?i8(t,i,r,s):n8(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),qh(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=r8(Xl(t),e,n),Qh(t,e,n,i,r,s,2)):o===2&&s8(t,e,n,i,r,s):Qh(Xl(t),e,n,i,r,s,1);break}}}function n8(t){const e=t.prev,n=t,i=t.next;if(pn(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,u=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&lc(r,a,s,l,o,u,v.x,v.y)&&pn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function i8(t,e,n,i){const r=t.prev,s=t,o=t.next;if(pn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=h<d?h<p?h:p:d<p?d:p,M=a>l?a>u?a:u:l>u?l:u,x=h>d?h>p?h:p:d>p?d:p,g=cS(m,v,e,n,i),_=cS(M,x,e,n,i);let A=t.prevZ,E=t.nextZ;for(;A&&A.z>=g&&E&&E.z<=_;){if(A.x>=m&&A.x<=M&&A.y>=v&&A.y<=x&&A!==r&&A!==o&&lc(a,h,l,d,u,p,A.x,A.y)&&pn(A.prev,A,A.next)>=0||(A=A.prevZ,E.x>=m&&E.x<=M&&E.y>=v&&E.y<=x&&E!==r&&E!==o&&lc(a,h,l,d,u,p,E.x,E.y)&&pn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=M&&A.y>=v&&A.y<=x&&A!==r&&A!==o&&lc(a,h,l,d,u,p,A.x,A.y)&&pn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;E&&E.z<=_;){if(E.x>=m&&E.x<=M&&E.y>=v&&E.y<=x&&E!==r&&E!==o&&lc(a,h,l,d,u,p,E.x,E.y)&&pn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function r8(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!gy(r,s)&&CD(r,i,i.next,s)&&Zh(r,s)&&Zh(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),qh(i),qh(i.next),i=t=s),i=i.next}while(i!==t);return Xl(i)}function s8(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&p8(o,a)){let l=bD(o,a);o=Xl(o,o.next),l=Xl(l,l.next),Qh(o,e,n,i,r,s,0),Qh(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function o8(t,e,n,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,u=TD(t,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(d8(u));for(r.sort(a8),s=0;s<r.length;s++)n=l8(r[s],n);return n}function a8(t,e){return t.x-e.x}function l8(t,e){const n=u8(t,e);if(!n)return e;const i=bD(n,t);return Xl(i,i.next),Xl(n,n.next)}function u8(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let h=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&lc(o<u?s:i,o,l,u,o<u?i:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),Zh(n,t)&&(d<h||d===h&&(n.x>r.x||n.x===r.x&&c8(r,n)))&&(r=n,h=d)),n=n.next;while(n!==a);return r}function c8(t,e){return pn(t.prev,t,e.prev)<0&&pn(e.next,t,t.next)<0}function f8(t,e,n,i){let r=t;do r.z===0&&(r.z=cS(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,h8(r)}function h8(t){let e,n,i,r,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,u*=2}while(o>1);return t}function cS(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function d8(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function lc(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function p8(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!m8(t,e)&&(Zh(t,e)&&Zh(e,t)&&g8(t,e)&&(pn(t.prev,t,e.prev)||pn(t,e.prev,e))||gy(t,e)&&pn(t.prev,t,t.next)>0&&pn(e.prev,e,e.next)>0)}function pn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function gy(t,e){return t.x===e.x&&t.y===e.y}function CD(t,e,n,i){const r=Um(pn(t,e,n)),s=Um(pn(t,e,i)),o=Um(pn(n,i,t)),a=Um(pn(n,i,e));return!!(r!==s&&o!==a||r===0&&Om(t,n,e)||s===0&&Om(t,i,e)||o===0&&Om(n,t,i)||a===0&&Om(n,e,i))}function Om(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Um(t){return t>0?1:t<0?-1:0}function m8(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&CD(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Zh(t,e){return pn(t.prev,t,t.next)<0?pn(t,e,t.next)>=0&&pn(t,t.prev,e)>=0:pn(t,e,t.prev)<0||pn(t,t.next,e)<0}function g8(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function bD(t,e){const n=new fS(t.i,t.x,t.y),i=new fS(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Pb(t,e,n,i){const r=new fS(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function qh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function fS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function y8(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class ks{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ks.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];Bb(e),Lb(i,e);let o=e.length;n.forEach(Bb);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,Lb(i,n[l]);const a=t8.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Bb(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Lb(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Td extends At{constructor(e=new kl([new me(.5,.5),new me(-.5,.5),new me(-.5,-.5),new me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,M=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:v8;let A,E=!1,C,b,B,L;g&&(A=g.getSpacedPoints(h),E=!0,p=!1,C=g.computeFrenetFrames(h,!1),b=new F,B=new F,L=new F),p||(x=0,m=0,v=0,M=0);const R=a.extractPoints(u);let P=R.shape;const H=R.holes;if(!ks.isClockWise(P)){P=P.reverse();for(let G=0,ve=H.length;G<ve;G++){const ye=H[G];ks.isClockWise(ye)&&(H[G]=ye.reverse())}}const K=ks.triangulateShape(P,H),Q=P;for(let G=0,ve=H.length;G<ve;G++){const ye=H[G];P=P.concat(ye)}function Y(G,ve,ye){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(ve,ye)}const ae=P.length,ne=K.length;function I(G,ve,ye){let Te,xe,Ge;const ke=G.x-ve.x,ze=G.y-ve.y,it=ye.x-G.x,xt=ye.y-G.y,Gt=ke*ke+ze*ze,O=ke*xt-ze*it;if(Math.abs(O)>Number.EPSILON){const D=Math.sqrt(Gt),fe=Math.sqrt(it*it+xt*xt),Me=ve.x-ze/D,Se=ve.y+ke/D,Ie=ye.x-xt/fe,Je=ye.y+it/fe,Le=((Ie-Me)*xt-(Je-Se)*it)/(ke*xt-ze*it);Te=Me+ke*Le-G.x,xe=Se+ze*Le-G.y;const pe=Te*Te+xe*xe;if(pe<=2)return new me(Te,xe);Ge=Math.sqrt(pe/2)}else{let D=!1;ke>Number.EPSILON?it>Number.EPSILON&&(D=!0):ke<-Number.EPSILON?it<-Number.EPSILON&&(D=!0):Math.sign(ze)===Math.sign(xt)&&(D=!0),D?(Te=-ze,xe=ke,Ge=Math.sqrt(Gt)):(Te=ke,xe=ze,Ge=Math.sqrt(Gt/2))}return new me(Te/Ge,xe/Ge)}const z=[];for(let G=0,ve=Q.length,ye=ve-1,Te=G+1;G<ve;G++,ye++,Te++)ye===ve&&(ye=0),Te===ve&&(Te=0),z[G]=I(Q[G],Q[ye],Q[Te]);const U=[];let Z,V=z.concat();for(let G=0,ve=H.length;G<ve;G++){const ye=H[G];Z=[];for(let Te=0,xe=ye.length,Ge=xe-1,ke=Te+1;Te<xe;Te++,Ge++,ke++)Ge===xe&&(Ge=0),ke===xe&&(ke=0),Z[Te]=I(ye[Te],ye[Ge],ye[ke]);U.push(Z),V=V.concat(Z)}for(let G=0;G<x;G++){const ve=G/x,ye=m*Math.cos(ve*Math.PI/2),Te=v*Math.sin(ve*Math.PI/2)+M;for(let xe=0,Ge=Q.length;xe<Ge;xe++){const ke=Y(Q[xe],z[xe],Te);Pe(ke.x,ke.y,-ye)}for(let xe=0,Ge=H.length;xe<Ge;xe++){const ke=H[xe];Z=U[xe];for(let ze=0,it=ke.length;ze<it;ze++){const xt=Y(ke[ze],Z[ze],Te);Pe(xt.x,xt.y,-ye)}}}const se=v+M;for(let G=0;G<ae;G++){const ve=p?Y(P[G],V[G],se):P[G];E?(B.copy(C.normals[0]).multiplyScalar(ve.x),b.copy(C.binormals[0]).multiplyScalar(ve.y),L.copy(A[0]).add(B).add(b),Pe(L.x,L.y,L.z)):Pe(ve.x,ve.y,0)}for(let G=1;G<=h;G++)for(let ve=0;ve<ae;ve++){const ye=p?Y(P[ve],V[ve],se):P[ve];E?(B.copy(C.normals[G]).multiplyScalar(ye.x),b.copy(C.binormals[G]).multiplyScalar(ye.y),L.copy(A[G]).add(B).add(b),Pe(L.x,L.y,L.z)):Pe(ye.x,ye.y,d/h*G)}for(let G=x-1;G>=0;G--){const ve=G/x,ye=m*Math.cos(ve*Math.PI/2),Te=v*Math.sin(ve*Math.PI/2)+M;for(let xe=0,Ge=Q.length;xe<Ge;xe++){const ke=Y(Q[xe],z[xe],Te);Pe(ke.x,ke.y,d+ye)}for(let xe=0,Ge=H.length;xe<Ge;xe++){const ke=H[xe];Z=U[xe];for(let ze=0,it=ke.length;ze<it;ze++){const xt=Y(ke[ze],Z[ze],Te);E?Pe(xt.x,xt.y+A[h-1].y,A[h-1].x+ye):Pe(xt.x,xt.y,d+ye)}}}ce(),Ae();function ce(){const G=r.length/3;if(p){let ve=0,ye=ae*ve;for(let Te=0;Te<ne;Te++){const xe=K[Te];qe(xe[2]+ye,xe[1]+ye,xe[0]+ye)}ve=h+x*2,ye=ae*ve;for(let Te=0;Te<ne;Te++){const xe=K[Te];qe(xe[0]+ye,xe[1]+ye,xe[2]+ye)}}else{for(let ve=0;ve<ne;ve++){const ye=K[ve];qe(ye[2],ye[1],ye[0])}for(let ve=0;ve<ne;ve++){const ye=K[ve];qe(ye[0]+ae*h,ye[1]+ae*h,ye[2]+ae*h)}}i.addGroup(G,r.length/3-G,0)}function Ae(){const G=r.length/3;let ve=0;_e(Q,ve),ve+=Q.length;for(let ye=0,Te=H.length;ye<Te;ye++){const xe=H[ye];_e(xe,ve),ve+=xe.length}i.addGroup(G,r.length/3-G,1)}function _e(G,ve){let ye=G.length;for(;--ye>=0;){const Te=ye;let xe=ye-1;xe<0&&(xe=G.length-1);for(let Ge=0,ke=h+x*2;Ge<ke;Ge++){const ze=ae*Ge,it=ae*(Ge+1),xt=ve+Te+ze,Gt=ve+xe+ze,O=ve+xe+it,D=ve+Te+it;$e(xt,Gt,O,D)}}}function Pe(G,ve,ye){l.push(G),l.push(ve),l.push(ye)}function qe(G,ve,ye){nt(G),nt(ve),nt(ye);const Te=r.length/3,xe=_.generateTopUV(i,r,Te-3,Te-2,Te-1);Ee(xe[0]),Ee(xe[1]),Ee(xe[2])}function $e(G,ve,ye,Te){nt(G),nt(ve),nt(Te),nt(ve),nt(ye),nt(Te);const xe=r.length/3,Ge=_.generateSideWallUV(i,r,xe-6,xe-3,xe-2,xe-1);Ee(Ge[0]),Ee(Ge[1]),Ee(Ge[3]),Ee(Ge[1]),Ee(Ge[2]),Ee(Ge[3])}function nt(G){r.push(l[G*3+0]),r.push(l[G*3+1]),r.push(l[G*3+2])}function Ee(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return x8(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new CM[r.type]().fromJSON(r)),new Td(i,e.options)}}const v8={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new me(s,o),new me(a,l),new me(u,h)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],M=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new me(o,1-l),new me(u,1-d),new me(p,1-v),new me(M,1-g)]:[new me(a,1-l),new me(h,1-d),new me(m,1-v),new me(x,1-g)]}};function x8(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Cd extends Po{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Cd(e.radius,e.detail)}}class $c extends Po{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $c(e.radius,e.detail)}}class bd extends At{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],h=[];let d=e;const p=(n-e)/r,m=new F,v=new me;for(let M=0;M<=r;M++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,h.push(v.x,v.y)}d+=p}for(let M=0;M<r;M++){const x=M*(i+1);for(let g=0;g<i;g++){const _=g+x,A=_,E=_+i+1,C=_+i+2,b=_+1;a.push(A,E,b),a.push(E,C,b)}}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Rd extends At{constructor(e=new kl([new me(0,.5),new me(-.5,-.5),new me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(o,2));function u(h){const d=r.length/3,p=h.extractPoints(n);let m=p.shape;const v=p.holes;ks.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const _=v[x];ks.isClockWise(_)===!0&&(v[x]=_.reverse())}const M=ks.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const _=v[x];m=m.concat(_)}for(let x=0,g=m.length;x<g;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,g=M.length;x<g;x++){const _=M[x],A=_[0]+d,E=_[1]+d,C=_[2]+d;i.push(A,E,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return _8(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new Rd(i,e.curveSegments)}}function _8(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Qc extends At{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const h=[],d=new F,p=new F,m=[],v=[],M=[],x=[];for(let g=0;g<=i;g++){const _=[],A=g/i;let E=0;g===0&&o===0?E=.5/n:g===i&&l===Math.PI&&(E=-.5/n);for(let C=0;C<=n;C++){const b=C/n;d.x=-e*Math.cos(r+b*s)*Math.sin(o+A*a),d.y=e*Math.cos(o+A*a),d.z=e*Math.sin(r+b*s)*Math.sin(o+A*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),M.push(p.x,p.y,p.z),x.push(b+E,1-A),_.push(u++)}h.push(_)}for(let g=0;g<i;g++)for(let _=0;_<n;_++){const A=h[g][_+1],E=h[g][_],C=h[g+1][_],b=h[g+1][_+1];(g!==0||o>0)&&m.push(A,E,b),(g!==i-1||l<Math.PI)&&m.push(E,C,b)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(M,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pd extends Po{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class Bd extends At{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],h=new F,d=new F,p=new F;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const M=v/r*s,x=m/i*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(M),d.y=(e+n*Math.cos(x))*Math.sin(M),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),h.x=e*Math.cos(M),h.y=e*Math.sin(M),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(v/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const M=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,_=(r+1)*m+v;o.push(M,x,_),o.push(x,g,_)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ld extends At{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],h=[],d=new F,p=new F,m=new F,v=new F,M=new F,x=new F,g=new F;for(let A=0;A<=i;++A){const E=A/i*s*Math.PI*2;_(E,s,o,e,m),_(E+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),M.crossVectors(x,g),g.crossVectors(M,x),M.normalize(),g.normalize();for(let C=0;C<=r;++C){const b=C/r*Math.PI*2,B=-n*Math.cos(b),L=n*Math.sin(b);d.x=m.x+(B*g.x+L*M.x),d.y=m.y+(B*g.y+L*M.y),d.z=m.z+(B*g.z+L*M.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),h.push(A/i),h.push(C/r)}}for(let A=1;A<=i;A++)for(let E=1;E<=r;E++){const C=(r+1)*(A-1)+(E-1),b=(r+1)*A+(E-1),B=(r+1)*A+E,L=(r+1)*(A-1)+E;a.push(C,b,L),a.push(b,B,L)}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(h,2));function _(A,E,C,b,B){const L=Math.cos(A),R=Math.sin(A),P=C/E*A,H=Math.cos(P);B.x=b*(2+H)*.5*L,B.y=b*(2+H)*R*.5,B.z=b*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ld(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Id extends At{constructor(e=new wM(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new me;let h=new F;const d=[],p=[],m=[],v=[];M(),this.setIndex(v),this.setAttribute("position",new Xe(d,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function M(){for(let A=0;A<n;A++)x(A);x(s===!1?n:0),_(),g()}function x(A){h=e.getPointAt(A/n,h);const E=o.normals[A],C=o.binormals[A];for(let b=0;b<=r;b++){const B=b/r*Math.PI*2,L=Math.sin(B),R=-Math.cos(B);l.x=R*E.x+L*C.x,l.y=R*E.y+L*C.y,l.z=R*E.z+L*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=n;A++)for(let E=1;E<=r;E++){const C=(r+1)*(A-1)+(E-1),b=(r+1)*A+(E-1),B=(r+1)*A+E,L=(r+1)*(A-1)+E;v.push(C,b,L),v.push(b,B,L)}}function _(){for(let A=0;A<=n;A++)for(let E=0;E<=r;E++)u.x=A/n,u.y=E/r,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Id(new CM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class RD extends At{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const d=l[u],p=d.start,m=d.count;for(let v=p,M=p+m;v<M;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),_=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),Ib(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),Ib(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xe(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ib(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var Db=Object.freeze({__proto__:null,BoxGeometry:Na,CapsuleGeometry:Ad,CircleGeometry:Md,ConeGeometry:Ed,CylinderGeometry:ql,DodecahedronGeometry:wd,EdgesGeometry:wD,ExtrudeGeometry:Td,IcosahedronGeometry:Cd,LatheGeometry:Yc,OctahedronGeometry:$c,PlaneGeometry:Jc,PolyhedronGeometry:Po,RingGeometry:bd,ShapeGeometry:Rd,SphereGeometry:Qc,TetrahedronGeometry:Pd,TorusGeometry:Bd,TorusKnotGeometry:Ld,TubeGeometry:Id,WireframeGeometry:RD});class PD extends Fn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ne(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class BD extends zs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Dd extends Fn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ne(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xr extends Dd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ne(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ne(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ne(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class LD extends Fn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ne(16777215),this.specular=new Ne(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ID extends Fn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ne(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DD extends Fn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class FD extends Fn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ne(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=md,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ND extends Fn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ne(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fa,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kD extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fr(t,e,n){return bM(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function wl(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function bM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OD(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function hS(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function RM(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function S8(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*r;if(!(v<n||v>=i)){d.push(u.times[m]);for(let M=0;M<h;++M)p.push(u.values[m*h+M])}}d.length!==0&&(u.times=wl(d,u.times.constructor),u.values=wl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function A8(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let M;if(s<=a.times[0]){const g=h,_=d-h;M=Fr(a.values,g,_)}else if(s>=a.times[v]){const g=v*d+h,_=g+d-h;M=Fr(a.values,g,_)}else{const g=a.createInterpolant(),_=h,A=d-h;g.evaluate(s),M=Fr(g.resultBuffer,_,A)}l==="quaternion"&&new Qn().fromArray(M).normalize().conjugate().toArray(M);const x=u.times.length;for(let g=0;g<x;++g){const _=g*m+p;if(l==="quaternion")Qn.multiplyQuaternionsFlat(u.values,_,M,0,u.values,_);else{const A=m-p*2;for(let E=0;E<A;++E)u.values[_+E]-=M[E]}}}return t.blendMode=tM,t}const M8={arraySlice:Fr,convertArray:wl,isTypedArray:bM,getKeyframeOrder:OD,sortedArray:hS,flattenJSON:RM,subclip:S8,makeClipAdditive:A8};class Zc{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class UD extends Zc{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Al,endingEnd:Al}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ml:s=e,a=2*n-i;break;case Xh:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ml:o=e,l=2*i-n;break;case Xh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const u=(i-n)*.5,h=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-n)/(r-n),M=v*v,x=M*v,g=-p*x+2*p*M-p*v,_=(1+p)*x+(-1.5-2*p)*M+(-.5+p)*v+1,A=(-1-m)*x+(1.5+m)*M+.5*v,E=m*x-m*M;for(let C=0;C!==a;++C)s[C]=g*o[h+C]+_*o[u+C]+A*o[l+C]+E*o[d+C];return s}}class PM extends Zc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(i-n)/(r-n),d=1-h;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*h;return s}}class HD extends Zc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class gs{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wl(n,this.TimeBufferType),this.values=wl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:wl(e.times,Array),values:wl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new HD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new UD(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Nc:n=this.InterpolantFactoryMethodDiscrete;break;case Wl:n=this.InterpolantFactoryMethodLinear;break;case Eg:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Nc;case this.InterpolantFactoryMethodLinear:return Wl;case this.InterpolantFactoryMethodSmooth:return Eg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Fr(i,s,o),this.values=Fr(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&bM(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Fr(this.times),n=Fr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Eg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const M=n[d+v];if(M!==n[p+v]||M!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Fr(e,0,o),this.values=Fr(n,0,o*i)):(this.times=e,this.values=n),this}clone(){const e=Fr(this.times,0),n=Fr(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}gs.prototype.TimeBufferType=Float32Array;gs.prototype.ValueBufferType=Float32Array;gs.prototype.DefaultInterpolation=Wl;class eu extends gs{}eu.prototype.ValueTypeName="bool";eu.prototype.ValueBufferType=Array;eu.prototype.DefaultInterpolation=Nc;eu.prototype.InterpolantFactoryMethodLinear=void 0;eu.prototype.InterpolantFactoryMethodSmooth=void 0;class BM extends gs{}BM.prototype.ValueTypeName="color";class Jl extends gs{}Jl.prototype.ValueTypeName="number";class zD extends Zc{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let u=e*a;for(let h=u+a;u!==h;u+=4)Qn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Ra extends gs{InterpolantFactoryMethodLinear(e){return new zD(this.times,this.values,this.getValueSize(),e)}}Ra.prototype.ValueTypeName="quaternion";Ra.prototype.DefaultInterpolation=Wl;Ra.prototype.InterpolantFactoryMethodSmooth=void 0;class tu extends gs{}tu.prototype.ValueTypeName="string";tu.prototype.ValueBufferType=Array;tu.prototype.DefaultInterpolation=Nc;tu.prototype.InterpolantFactoryMethodLinear=void 0;tu.prototype.InterpolantFactoryMethodSmooth=void 0;class Kl extends gs{}Kl.prototype.ValueTypeName="vector";class Uc{constructor(e,n=-1,i,r=ay){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=gr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(w8(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(gs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=OD(l);l=hS(l,1,h),u=hS(u,1,h),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Jl(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,M){if(m.length!==0){const x=[],g=[];RM(m,x,g,v),x.length!==0&&M.push(new d(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let M=0;M<p[v].morphTargets.length;M++)m[p[v].morphTargets[M]]=-1;for(const M in m){const x=[],g=[];for(let _=0;_!==p[v].morphTargets.length;++_){const A=p[v];x.push(A.time),g.push(A.morphTarget===M?1:0)}r.push(new Jl(".morphTargetInfluence["+M+"]",x,g))}l=m.length*o}else{const m=".bones["+n[d].name+"]";i(Kl,m+".position",p,"pos",r),i(Ra,m+".quaternion",p,"rot",r),i(Kl,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function E8(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jl;case"vector":case"vector2":case"vector3":case"vector4":return Kl;case"color":return BM;case"quaternion":return Ra;case"bool":case"boolean":return eu;case"string":return tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function w8(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=E8(t.type);if(t.times===void 0){const n=[],i=[];RM(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Yl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LM{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return u.push(h,d),this},this.removeHandler=function(h){const d=u.indexOf(h);return d!==-1&&u.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const uc=new LM;class Di{constructor(e){this.manager=e!==void 0?e:uc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const to={};class T8 extends Error{constructor(e,n){super(e),this.response=n}}class vr extends Di{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Yl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(to[e]!==void 0){to[e].push({onLoad:n,onProgress:i,onError:r});return}to[e]=[],to[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=to[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let M=0;const x=new ReadableStream({start(g){_();function _(){d.read().then(({done:A,value:E})=>{if(A)g.close();else{M+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:M,total:m});for(let b=0,B=h.length;b<B;b++){const L=h[b];L.onProgress&&L.onProgress(C)}g.enqueue(E),_()}})}}});return new Response(x)}else throw new T8(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Yl.add(e,u);const h=to[e];delete to[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=to[e];if(h===void 0)throw this.manager.itemError(e),u;delete to[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class C8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Uc.parse(e[i]);n.push(r)}return n}}class b8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new SM,l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=dn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let M=0;M<p.mipmapCount;M++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+M]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=dn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class ed extends Di{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Yl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Yh("img");function l(){h(),Yl.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class R8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=new vd;s.colorSpace=_t;const o=new ed(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class P8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Mc,a=new vr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ti,o.wrapT=u.wrapT!==void 0?u.wrapT:ti,o.magFilter=u.magFilter!==void 0?u.magFilter:dn,o.minFilter=u.minFilter!==void 0?u.minFilter:dn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Hs),u.mipmapCount===1&&(o.minFilter=dn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},i,r),o}}class GD extends Di{constructor(e){super(e)}load(e,n,i,r){const s=new un,o=new ed(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class ka extends Ft{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ne(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class VD extends ka{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ne(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const jx=new lt,Fb=new F,Nb=new F;class IM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new me(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new uy,this._frameExtents=new me(1,1),this._viewportCount=1,this._viewports=[new jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Fb.setFromMatrixPosition(e.matrixWorld),n.position.copy(Fb),Nb.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Nb),n.updateMatrixWorld(),jx.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(jx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class B8 extends IM{constructor(){super(new rn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=kc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class DM extends ka{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new B8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kb=new lt,Uf=new F,Xx=new F;class L8 extends IM{constructor(){super(new rn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new me(4,2),this._viewportCount=6,this._viewports=[new jt(2,1,1,1),new jt(0,1,1,1),new jt(3,1,1,1),new jt(1,1,1,1),new jt(3,0,1,1),new jt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Uf.setFromMatrixPosition(e.matrixWorld),i.position.copy(Uf),Xx.copy(i.position),Xx.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(Xx),i.updateMatrixWorld(),r.makeTranslation(-Uf.x,-Uf.y,-Uf.z),kb.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kb)}}class FM extends ka{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new L8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class I8 extends IM{constructor(){super(new zr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NM extends ka{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.shadow=new I8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class WD extends ka{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class jD extends ka{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class XD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class yy extends ka{constructor(e=new XD,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class vy extends Di{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new vr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=vy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ne().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ne().setHex(o.value);break;case"v2":r.uniforms[s].value=new me().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new jt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new wt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new lt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new me().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:PD,SpriteMaterial:gM,RawShaderMaterial:BD,ShaderMaterial:zs,PointsMaterial:Sd,MeshPhysicalMaterial:Xr,MeshStandardMaterial:Dd,MeshPhongMaterial:LD,MeshToonMaterial:ID,MeshNormalMaterial:DD,MeshLambertMaterial:FD,MeshDepthMaterial:dM,MeshDistanceMaterial:pM,MeshBasicMaterial:pr,MeshMatcapMaterial:ND,LineDashedMaterial:kD,LineBasicMaterial:Ai,Material:Fn};return new n[e]}}class _a{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class JD extends At{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KD extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(m,v){if(n[v]!==void 0)return n[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),_=oc(x.type,g),A=new xd(_,x.stride);return A.uuid=x.uuid,n[v]=A,A}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new JD:new At,a=e.data.index;if(a!==void 0){const m=oc(a.type,a.array);o.setIndex(new Ht(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let M;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);M=new ba(x,v.itemSize,v.offset,v.normalized)}else{const x=oc(v.type,v.array),g=v.isInstancedBufferAttribute?jl:Ht;M=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(M.name=v.name),v.usage!==void 0&&M.setUsage(v.usage),v.updateRange!==void 0&&(M.updateRange.offset=v.updateRange.offset,M.updateRange.count=v.updateRange.count),o.setAttribute(m,M)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],M=[];for(let x=0,g=v.length;x<g;x++){const _=v[x];let A;if(_.isInterleavedBufferAttribute){const E=r(e.data,_.data);A=new ba(E,_.itemSize,_.offset,_.normalized)}else{const E=oc(_.type,_.array);A=new Ht(E,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),M.push(A)}o.morphAttributes[m]=M}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const M=d[m];o.addGroup(M.start,M.count,M.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new jr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class D8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?_a.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new vr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?_a.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new vr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new kl().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new _d().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new KD;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Db?a=Db[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new vy;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Uc.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(h)}else return l.data?{data:oc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new LM(n);s=new ed(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,M=p.length;v<M;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Mc(g.data,g.width,g.height)))}r[d.uuid]=new El(m)}else{const m=a(d.url);r[d.uuid]=new El(m)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:oc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new ed(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Mc(v.data,v.width,v.height)))}i[l.uuid]=new El(h)}else{const h=await s(l.url);i[l.uuid]=new El(h)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let h;Array.isArray(u)?(h=new vd,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Mc:h=new un,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,F8)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],Ob),h.wrapT=i(a.wrap[1],Ob)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,Ub)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,Ub)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,M=p.length;v<M;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new m0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ne(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new hy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new fy(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new rn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new zr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new WD(e.color,e.intensity);break;case"DirectionalLight":o=new NM(e.color,e.intensity);break;case"PointLight":o=new FM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new jD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new DM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new VD(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new yy().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new yM(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new Yn(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new vM(h,d,p),o.instanceMatrix=new jl(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new jl(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new xD;break;case"Line":o=new Eo(a(e.geometry),l(e.material));break;case"LineLoop":o=new xM(a(e.geometry),l(e.material));break;case"LineSegments":o=new ps(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new _M(a(e.geometry),l(e.material));break;case"Sprite":o=new vD(l(e.material));break;case"Group":o=new ho;break;case"Bone":o=new dy;break;default:o=new Ft}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],M=o.getObjectByProperty("uuid",v.object);M!==void 0&&o.addLevel(M,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const F8={UVMapping:ry,CubeReflectionMapping:wa,CubeRefractionMapping:Ta,EquirectangularReflectionMapping:Vh,EquirectangularRefractionMapping:Wh,CubeUVReflectionMapping:Xc},Ob={RepeatWrapping:Ca,ClampToEdgeWrapping:ti,MirroredRepeatWrapping:Dc},Ub={NearestFilter:En,NearestMipmapNearestFilter:jh,NearestMipmapLinearFilter:Sc,LinearFilter:dn,LinearMipmapNearestFilter:sy,LinearMipmapLinearFilter:Hs};class YD extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Yl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Yl.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Hm;class kM{static getContext(){return Hm===void 0&&(Hm=new(window.AudioContext||window.webkitAudioContext)),Hm}static setContext(e){Hm=e}}class N8 extends Di{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new vr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);kM.getContext().decodeAudioData(u,function(d){n(d)},a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class k8 extends yy{constructor(e,n,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ne().set(e),s=new Ne().set(n),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class O8 extends yy{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const i=new Ne().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Hb=new lt,zb=new lt,Za=new lt;class U8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Za.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Fl*n.fov*.5)/n.zoom;let a,l;zb.elements[12]=-r,Hb.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,Za.elements[0]=2*n.near/(l-a),Za.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Za),a=-o*n.aspect-s,l=o*n.aspect-s,Za.elements[0]=2*n.near/(l-a),Za.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Za)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(zb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Hb)}}class OM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Gb(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Gb();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Gb(){return(typeof performance>"u"?Date:performance).now()}const qa=new F,Vb=new Qn,H8=new F,el=new F;class z8 extends Ft{constructor(){super(),this.type="AudioListener",this.context=kM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new OM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qa,Vb,H8),el.set(0,0,-1).applyQuaternion(Vb),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(qa.x,r),n.positionY.linearRampToValueAtTime(qa.y,r),n.positionZ.linearRampToValueAtTime(qa.z,r),n.forwardX.linearRampToValueAtTime(el.x,r),n.forwardY.linearRampToValueAtTime(el.y,r),n.forwardZ.linearRampToValueAtTime(el.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(qa.x,qa.y,qa.z),n.setOrientation(el.x,el.y,el.z,i.x,i.y,i.z)}}class $D extends Ft{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const tl=new F,Wb=new Qn,G8=new F,nl=new F;class V8 extends $D{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(tl,Wb,G8),nl.set(0,0,1).applyQuaternion(Wb);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(tl.x,i),n.positionY.linearRampToValueAtTime(tl.y,i),n.positionZ.linearRampToValueAtTime(tl.z,i),n.orientationX.linearRampToValueAtTime(nl.x,i),n.orientationY.linearRampToValueAtTime(nl.y,i),n.orientationZ.linearRampToValueAtTime(nl.z,i)}else n.setPosition(tl.x,tl.y,tl.z),n.setOrientation(nl.x,nl.y,nl.z)}}class W8{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class QD{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){Qn.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;Qn.multiplyQuaternionsFlat(e,o,e,n,e,i),Qn.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const UM="\\[\\]\\.:\\/",j8=new RegExp("["+UM+"]","g"),HM="[^"+UM+"]",X8="[^"+UM.replace("\\.","")+"]",J8=/((?:WC+[\/:])*)/.source.replace("WC",HM),K8=/(WCOD+)?/.source.replace("WCOD",X8),Y8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HM),$8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HM),Q8=new RegExp("^"+J8+K8+Y8+$8+"$"),Z8=["material","materials","bones","map"];class q8{constructor(e,n,i){const r=i||Dt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Dt{constructor(e,n,i){this.path=n,this.parsedPath=i||Dt.parseTrackName(n),this.node=Dt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Dt.Composite(e,n,i):new Dt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(j8,"")}static parseTrackName(e){const n=Q8.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Z8.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Dt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Dt.Composite=q8;Dt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Dt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Dt.prototype.GetterByBindingType=[Dt.prototype._getValue_direct,Dt.prototype._getValue_array,Dt.prototype._getValue_arrayElement,Dt.prototype._getValue_toArray];Dt.prototype.SetterByBindingTypeAndVersioning=[[Dt.prototype._setValue_direct,Dt.prototype._setValue_direct_setNeedsUpdate,Dt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_array,Dt.prototype._setValue_array_setNeedsUpdate,Dt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_arrayElement,Dt.prototype._setValue_arrayElement_setNeedsUpdate,Dt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Dt.prototype._setValue_fromArray,Dt.prototype._setValue_fromArray_setNeedsUpdate,Dt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eW{constructor(){this.isAnimationObjectGroup=!0,this.uuid=gr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let M=0,x=o;M!==x;++M)s[M].push(new Dt(p,i[M],r[M]))}else if(v<u){a=e[v];const M=--u,x=e[M];n[x.uuid]=v,e[v]=x,n[m]=M,e[M]=p;for(let g=0,_=o;g!==_;++g){const A=s[g],E=A[M];let C=A[v];A[v]=E,C===void 0&&(C=new Dt(p,i[g],r[g])),A[M]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=n[u];if(h!==void 0&&h>=s){const d=s++,p=e[d];n[p.uuid]=h,e[h]=p,n[u]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const M=i[m],x=M[d],g=M[h];M[h]=x,M[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,d=n[h];if(d!==void 0)if(delete n[h],d<s){const p=--s,m=e[p],v=--o,M=e[v];n[m.uuid]=d,e[d]=m,n[M.uuid]=p,e[p]=M,e.pop();for(let x=0,g=r;x!==g;++x){const _=i[x],A=_[p],E=_[v];_[d]=A,_[p]=E,_.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,M=r;v!==M;++v){const x=i[v];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new Dt(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class ZD{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Al,endingEnd:Al};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case tM:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case ay:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===GI;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===HI){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Ml,r.endingEnd=Ml):(e?r.endingStart=this.zeroSlopeAtStart?Ml:Al:r.endingStart=Xh,n?r.endingEnd=this.zeroSlopeAtEnd?Ml:Al:r.endingEnd=Xh)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const tW=new Float32Array(1);class nW extends Gs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const M=n&&n._propertyBindings[d].binding.parsedPath;v=new QD(Dt.create(i,m,M),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new PM(new Float32Array(2),new Float32Array(2),1,tW),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?Uc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=ay),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new ZD(this,o,n,i);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?Uc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)n[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=h,n[h]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class zM{constructor(e){this.value=e}clone(){return new zM(this.value.clone===void 0?this.value:this.value.clone())}}let iW=0;class rW extends Gs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:iW++}),this.name="",this.usage=Jh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class sW extends xd{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class oW{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class qD{constructor(e,n,i=0,r=1/0){this.ray=new Zl(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Nl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return dS(e,this,i,n),i.sort(jb),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)dS(e[r],this,i,n);return i.sort(jb),i}}function jb(t,e){return t.distance-e.distance}function dS(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)dS(r[s],e,n,!0)}}class pS{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(wn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aW{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Xb=new me;class lW{constructor(e=new me(1/0,1/0),n=new me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Xb.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xb).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Jb=new F,zm=new F;class uW{constructor(e=new F,n=new F){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Jb.subVectors(e,this.start),zm.subVectors(this.end,this.start);const i=zm.dot(zm);let s=zm.dot(Jb)/i;return n&&(s=wn(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Kb=new F;class cW extends Ft{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new At,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Xe(r,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new ps(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Kb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Kb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xo=new F,Gm=new lt,Jx=new lt;class fW extends ps{constructor(e){const n=eF(e),i=new At,r=[],s=[],o=new Ne(0,0,1),a=new Ne(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Xe(r,3)),i.setAttribute("color",new Xe(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");Jx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Gm.multiplyMatrices(Jx,a.matrixWorld),Xo.setFromMatrixPosition(Gm),r.setXYZ(o,Xo.x,Xo.y,Xo.z),Gm.multiplyMatrices(Jx,a.parent.matrixWorld),Xo.setFromMatrixPosition(Gm),r.setXYZ(o+1,Xo.x,Xo.y,Xo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function eF(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,eF(t.children[n]));return e}class hW extends Yn{constructor(e,n,i){const r=new Qc(n,4,2),s=new pr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dW=new F,Yb=new Ne,$b=new Ne;class pW extends Ft{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new $c(n);r.rotateY(Math.PI*.5),this.material=new pr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ht(o,3)),this.add(new Yn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Yb.copy(this.light.color),$b.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?Yb:$b;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mW extends ps{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ne(i),r=new Ne(r);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const M=p===s?i:r;M.toArray(u,m),m+=3,M.toArray(u,m),m+=3,M.toArray(u,m),m+=3,M.toArray(u,m),m+=3}const h=new At;h.setAttribute("position",new Xe(l,3)),h.setAttribute("color",new Xe(u,3));const d=new Ai({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gW extends ps{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Ne(s),o=new Ne(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const M=d&1?s:o;l.push(M.r,M.g,M.b),l.push(M.r,M.g,M.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let M=v/r*(Math.PI*2),x=Math.sin(M)*m,g=Math.cos(M)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),M=(v+1)/r*(Math.PI*2),x=Math.sin(M)*m,g=Math.cos(M)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new At;u.setAttribute("position",new Xe(a,3)),u.setAttribute("color",new Xe(l,3));const h=new Ai({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Qb=new F,Vm=new F,Zb=new F;class yW extends Ft{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new At;r.setAttribute("position",new Xe([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new Eo(r,s),this.add(this.lightPlane),r=new At,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new Eo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qb.setFromMatrixPosition(this.light.matrixWorld),Vm.setFromMatrixPosition(this.light.target.matrixWorld),Zb.subVectors(Vm,Qb),this.lightPlane.lookAt(Vm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vm),this.targetLine.scale.z=Zb.length()}}const Wm=new F,An=new yd;class vW extends ps{constructor(e){const n=new At,i=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,M){l(v),l(M)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}n.setAttribute("position",new Xe(r,3)),n.setAttribute("color",new Xe(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ne(16755200),h=new Ne(16711680),d=new Ne(43775),p=new Ne(16777215),m=new Ne(3355443);this.setColors(u,h,d,p,m)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;An.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cn("c",n,e,An,0,0,-1),Cn("t",n,e,An,0,0,1),Cn("n1",n,e,An,-i,-r,-1),Cn("n2",n,e,An,i,-r,-1),Cn("n3",n,e,An,-i,r,-1),Cn("n4",n,e,An,i,r,-1),Cn("f1",n,e,An,-i,-r,1),Cn("f2",n,e,An,i,-r,1),Cn("f3",n,e,An,-i,r,1),Cn("f4",n,e,An,i,r,1),Cn("u1",n,e,An,i*.7,r*1.1,-1),Cn("u2",n,e,An,-i*.7,r*1.1,-1),Cn("u3",n,e,An,0,r*2,-1),Cn("cf1",n,e,An,-i,0,1),Cn("cf2",n,e,An,i,0,1),Cn("cf3",n,e,An,0,-r,1),Cn("cf4",n,e,An,0,r,1),Cn("cn1",n,e,An,-i,0,-1),Cn("cn2",n,e,An,i,0,-1),Cn("cn3",n,e,An,0,-r,-1),Cn("cn4",n,e,An,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cn(t,e,n,i,r,s,o){Wm.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Wm.x,Wm.y,Wm.z)}}const jm=new ds;class xW extends ps{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new At;s.setIndex(new Ht(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new Ai({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&jm.setFromObject(this.object),jm.isEmpty())return;const n=jm.min,i=jm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _W extends ps{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new At;s.setIndex(new Ht(i,1)),s.setAttribute("position",new Xe(r,3)),super(s,new Ai({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class SW extends Eo{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new At;o.setAttribute("position",new Xe(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new At;l.setAttribute("position",new Xe(a,3)),l.computeBoundingSphere(),this.add(new Yn(l,new pr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qb=new F;let Xm,Kx;class AW extends Ft{constructor(e=new F(0,0,1),n=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Xm===void 0&&(Xm=new At,Xm.setAttribute("position",new Xe([0,0,0,0,1,0],3)),Kx=new ql(0,.5,1,5,1),Kx.translate(0,-.5,0)),this.position.copy(n),this.line=new Eo(Xm,new Ai({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(Kx,new pr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{qb.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(qb,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class MW extends ps{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new At;r.setAttribute("position",new Xe(n,3)),r.setAttribute("color",new Xe(i,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Ne,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EW{constructor(){this.type="ShapePath",this.color=new Ne,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new $h,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let A=0,E=g.length;A<E;A++){const C=g[A],b=new kl;b.curves=C.curves,_.push(b)}return _}function i(g,_){const A=_.length;let E=!1;for(let C=A-1,b=0;b<A;C=b++){let B=_[C],L=_[b],R=L.x-B.x,P=L.y-B.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(B=_[b],R=-R,L=_[C],P=-P),g.y<B.y||g.y>L.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const H=P*(g.x-B.x)-R*(g.y-B.y);if(H===0)return!0;if(H<0)continue;E=!E}}else{if(g.y!==B.y)continue;if(L.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=L.x)return!0}}return E}const r=ks.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new kl,l.curves=a.curves,u.push(l),u;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,M;p[v]=void 0,m[v]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],M=a.getPoints(),o=r(M),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new kl,p:M},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:M[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,_=0;for(let A=0,E=p.length;A<E;A++)d[A]=[];for(let A=0,E=p.length;A<E;A++){const C=m[A];for(let b=0;b<C.length;b++){const B=C[b];let L=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(A!==R&&_++,L?(L=!1,d[R].push(B)):g=!0);L&&d[A].push(B)}}_>0&&g===!1&&(m=d)}let x;for(let g=0,_=p.length;g<_;g++){l=p[g].s,u.push(l),x=m[g];for(let A=0,E=x.length;A<E;A++)l.holes.push(x[A].h)}return u}}class wW extends Na{constructor(e,n,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,i,r,s,o)}}class TW extends Ad{constructor(e,n,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,i,r)}}class CW extends Md{constructor(e,n,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,i,r)}}class bW extends Ed{constructor(e,n,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,i,r,s,o,a)}}class RW extends ql{constructor(e,n,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,i,r,s,o,a,l)}}class PW extends wd{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class BW extends Td{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class LW extends Cd{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class IW extends Yc{constructor(e,n,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,i,r)}}class DW extends $c{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class FW extends Jc{constructor(e,n,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,i,r)}}class NW extends Po{constructor(e,n,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,i,r)}}class kW extends bd{constructor(e,n,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,i,r,s,o)}}class OW extends Rd{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class UW extends Qc{constructor(e,n,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,i,r,s,o,a)}}class HW extends Pd{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class zW extends Bd{constructor(e,n,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,i,r,s)}}class GW extends Ld{constructor(e,n,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,i,r,s,o)}}class VW extends Id{constructor(e,n,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jc);const WW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KA,AddEquation:dl,AddOperation:TI,AdditiveAnimationBlendMode:tM,AdditiveBlending:B1,AlphaFormat:II,AlwaysCompare:tD,AlwaysDepth:xI,AlwaysStencilFunc:JI,AmbientLight:WD,AmbientLightProbe:O8,AnimationAction:ZD,AnimationClip:Uc,AnimationLoader:C8,AnimationMixer:nW,AnimationObjectGroup:eW,AnimationUtils:M8,ArcCurve:_D,ArrayCamera:pD,ArrowHelper:AW,Audio:$D,AudioAnalyser:W8,AudioContext:kM,AudioListener:z8,AudioLoader:N8,AxesHelper:MW,BackSide:Bi,BasicDepthPacking:WI,BasicShadowMap:sI,Bone:dy,BooleanKeyframeTrack:eu,Box2:lW,Box3:ds,Box3Helper:_W,BoxBufferGeometry:wW,BoxGeometry:Na,BoxHelper:xW,BufferAttribute:Ht,BufferGeometry:At,BufferGeometryLoader:KD,ByteType:BI,Cache:Yl,Camera:yd,CameraHelper:vW,CanvasTexture:J9,CapsuleBufferGeometry:TW,CapsuleGeometry:Ad,CatmullRomCurve3:SD,CineonToneMapping:RI,CircleBufferGeometry:CW,CircleGeometry:Md,ClampToEdgeWrapping:ti,Clock:OM,Color:Ne,ColorKeyframeTrack:BM,ColorManagement:Ir,CompressedArrayTexture:X9,CompressedTexture:SM,CompressedTextureLoader:b8,ConeBufferGeometry:bW,ConeGeometry:Ed,CubeCamera:cM,CubeReflectionMapping:wa,CubeRefractionMapping:Ta,CubeTexture:vd,CubeTextureLoader:R8,CubeUVReflectionMapping:Xc,CubicBezierCurve:MM,CubicBezierCurve3:AD,CubicInterpolant:UD,CullFaceBack:P1,CullFaceFront:rI,CullFaceFrontBack:KH,CullFaceNone:iI,Curve:ms,CurvePath:ED,CustomBlending:oI,CustomToneMapping:PI,CylinderBufferGeometry:RW,CylinderGeometry:ql,Cylindrical:aW,Data3DTexture:aM,DataArrayTexture:ly,DataTexture:Mc,DataTextureLoader:P8,DataUtils:nG,DecrementStencilOp:iz,DecrementWrapStencilOp:sz,DefaultLoadingManager:uc,DepthFormat:ya,DepthStencilFormat:Vl,DepthTexture:mD,DirectionalLight:NM,DirectionalLightHelper:yW,DiscreteInterpolant:HD,DisplayP3ColorSpace:rM,DodecahedronBufferGeometry:PW,DodecahedronGeometry:wd,DoubleSide:Ur,DstAlphaFactor:dI,DstColorFactor:mI,DynamicCopyUsage:xz,DynamicDrawUsage:Dl,DynamicReadUsage:gz,EdgesGeometry:wD,EllipseCurve:py,EqualCompare:$I,EqualDepth:SI,EqualStencilFunc:uz,EquirectangularReflectionMapping:Vh,EquirectangularRefractionMapping:Wh,Euler:gd,EventDispatcher:Gs,ExtrudeBufferGeometry:BW,ExtrudeGeometry:Td,FileLoader:vr,Float16BufferAttribute:lG,Float32BufferAttribute:Xe,Float64BufferAttribute:uG,FloatType:Ls,Fog:hy,FogExp2:fy,FramebufferTexture:j9,FrontSide:Us,Frustum:uy,GLBufferAttribute:oW,GLSL1:Sz,GLSL3:sS,GreaterCompare:ZI,GreaterDepth:MI,GreaterEqualCompare:eD,GreaterEqualDepth:AI,GreaterEqualStencilFunc:dz,GreaterStencilFunc:fz,GridHelper:mW,Group:ho,HalfFloatType:Fc,HemisphereLight:VD,HemisphereLightHelper:pW,HemisphereLightProbe:k8,IcosahedronBufferGeometry:LW,IcosahedronGeometry:Cd,ImageBitmapLoader:YD,ImageLoader:ed,ImageUtils:oM,IncrementStencilOp:nz,IncrementWrapStencilOp:rz,InstancedBufferAttribute:jl,InstancedBufferGeometry:JD,InstancedInterleavedBuffer:sW,InstancedMesh:vM,Int16BufferAttribute:oG,Int32BufferAttribute:aG,Int8BufferAttribute:iG,IntType:YA,InterleavedBuffer:xd,InterleavedBufferAttribute:ba,Interpolant:Zc,InterpolateDiscrete:Nc,InterpolateLinear:Wl,InterpolateSmooth:Eg,InvertStencilOp:oz,KeepStencilOp:wg,KeyframeTrack:gs,LOD:xD,LatheBufferGeometry:IW,LatheGeometry:Yc,Layers:Nl,LessCompare:YI,LessDepth:_I,LessEqualCompare:QI,LessEqualDepth:f0,LessEqualStencilFunc:cz,LessStencilFunc:lz,Light:ka,LightProbe:yy,Line:Eo,Line3:uW,LineBasicMaterial:Ai,LineCurve:my,LineCurve3:MD,LineDashedMaterial:kD,LineLoop:xM,LineSegments:ps,LinearEncoding:iM,LinearFilter:dn,LinearInterpolant:PM,LinearMipMapLinearFilter:qH,LinearMipMapNearestFilter:ZH,LinearMipmapLinearFilter:Hs,LinearMipmapNearestFilter:sy,LinearSRGBColorSpace:fs,LinearToneMapping:CI,Loader:Di,LoaderUtils:_a,LoadingManager:LM,LoopOnce:HI,LoopPingPong:GI,LoopRepeat:zI,LuminanceAlphaFormat:FI,LuminanceFormat:DI,MOUSE:ll,Material:Fn,MaterialLoader:vy,MathUtils:iD,Matrix3:wt,Matrix4:lt,MaxEquation:F1,Mesh:Yn,MeshBasicMaterial:pr,MeshDepthMaterial:dM,MeshDistanceMaterial:pM,MeshLambertMaterial:FD,MeshMatcapMaterial:ND,MeshNormalMaterial:DD,MeshPhongMaterial:LD,MeshPhysicalMaterial:Xr,MeshStandardMaterial:Dd,MeshToonMaterial:ID,MinEquation:D1,MirroredRepeatWrapping:Dc,MixOperation:wI,MultiplyBlending:I1,MultiplyOperation:md,NearestFilter:En,NearestMipMapLinearFilter:QH,NearestMipMapNearestFilter:$H,NearestMipmapLinearFilter:Sc,NearestMipmapNearestFilter:jh,NeverCompare:KI,NeverDepth:vI,NeverStencilFunc:az,NoBlending:go,NoColorSpace:xa,NoToneMapping:us,NormalAnimationBlendMode:ay,NormalBlending:Il,NotEqualCompare:qI,NotEqualDepth:EI,NotEqualStencilFunc:hz,NumberKeyframeTrack:Jl,Object3D:Ft,ObjectLoader:D8,ObjectSpaceNormalMap:XI,OctahedronBufferGeometry:DW,OctahedronGeometry:$c,OneFactor:cI,OneMinusDstAlphaFactor:pI,OneMinusDstColorFactor:gI,OneMinusSrcAlphaFactor:JA,OneMinusSrcColorFactor:hI,OrthographicCamera:zr,PCFShadowMap:iy,PCFSoftShadowMap:ph,PMREMGenerator:aS,Path:$h,PerspectiveCamera:rn,Plane:oo,PlaneBufferGeometry:FW,PlaneGeometry:Jc,PlaneHelper:SW,PointLight:FM,PointLightHelper:hW,Points:_M,PointsMaterial:Sd,PolarGridHelper:gW,PolyhedronBufferGeometry:NW,PolyhedronGeometry:Po,PositionalAudio:V8,PropertyBinding:Dt,PropertyMixer:QD,QuadraticBezierCurve:EM,QuadraticBezierCurve3:wM,Quaternion:Qn,QuaternionKeyframeTrack:Ra,QuaternionLinearInterpolant:zD,RED_GREEN_RGTC2_Format:iS,RED_RGTC1_Format:UI,REVISION:jc,RGBADepthPacking:jI,RGBAFormat:ji,RGBAIntegerFormat:eM,RGBA_ASTC_10x10_Format:q1,RGBA_ASTC_10x5_Format:$1,RGBA_ASTC_10x6_Format:Q1,RGBA_ASTC_10x8_Format:Z1,RGBA_ASTC_12x10_Format:eS,RGBA_ASTC_12x12_Format:tS,RGBA_ASTC_4x4_Format:G1,RGBA_ASTC_5x4_Format:V1,RGBA_ASTC_5x5_Format:W1,RGBA_ASTC_6x5_Format:j1,RGBA_ASTC_6x6_Format:X1,RGBA_ASTC_8x5_Format:J1,RGBA_ASTC_8x6_Format:K1,RGBA_ASTC_8x8_Format:Y1,RGBA_BPTC_Format:Mg,RGBA_ETC2_EAC_Format:z1,RGBA_PVRTC_2BPPV1_Format:U1,RGBA_PVRTC_4BPPV1_Format:O1,RGBA_S3TC_DXT1_Format:_g,RGBA_S3TC_DXT3_Format:Sg,RGBA_S3TC_DXT5_Format:Ag,RGB_ETC1_Format:OI,RGB_ETC2_Format:H1,RGB_PVRTC_2BPPV1_Format:k1,RGB_PVRTC_4BPPV1_Format:N1,RGB_S3TC_DXT1_Format:xg,RGFormat:kI,RGIntegerFormat:qA,RawShaderMaterial:BD,Ray:Zl,Raycaster:qD,RectAreaLight:jD,RedFormat:NI,RedIntegerFormat:ZA,ReinhardToneMapping:bI,RepeatWrapping:Ca,ReplaceStencilOp:tz,ReverseSubtractEquation:lI,RingBufferGeometry:kW,RingGeometry:bd,SIGNED_RED_GREEN_RGTC2_Format:rS,SIGNED_RED_RGTC1_Format:nS,SRGBColorSpace:_t,Scene:m0,ShaderChunk:Et,ShaderLib:ss,ShaderMaterial:zs,ShadowMaterial:PD,Shape:kl,ShapeBufferGeometry:OW,ShapeGeometry:Rd,ShapePath:EW,ShapeUtils:ks,ShortType:LI,Skeleton:_d,SkeletonHelper:fW,SkinnedMesh:yM,Source:El,Sphere:jr,SphereBufferGeometry:UW,SphereGeometry:Qc,Spherical:pS,SphericalHarmonics3:XD,SplineCurve:TM,SpotLight:DM,SpotLightHelper:cW,Sprite:vD,SpriteMaterial:gM,SrcAlphaFactor:XA,SrcAlphaSaturateFactor:yI,SrcColorFactor:fI,StaticCopyUsage:vz,StaticDrawUsage:Jh,StaticReadUsage:mz,StereoCamera:U8,StreamCopyUsage:_z,StreamDrawUsage:pz,StreamReadUsage:yz,StringKeyframeTrack:tu,SubtractEquation:aI,SubtractiveBlending:L1,TOUCH:ul,TangentSpaceNormalMap:Fa,TetrahedronBufferGeometry:HW,TetrahedronGeometry:Pd,Texture:un,TextureLoader:GD,TorusBufferGeometry:zW,TorusGeometry:Bd,TorusKnotBufferGeometry:GW,TorusKnotGeometry:Ld,Triangle:Wi,TriangleFanDrawMode:h0,TriangleStripDrawMode:nM,TrianglesDrawMode:VI,TubeBufferGeometry:VW,TubeGeometry:Id,TwoPassDoubleSide:YH,UVMapping:ry,Uint16BufferAttribute:lM,Uint32BufferAttribute:uM,Uint8BufferAttribute:rG,Uint8ClampedBufferAttribute:sG,Uniform:zM,UniformsGroup:rW,UniformsLib:De,UniformsUtils:aD,UnsignedByteType:Ns,UnsignedInt248Type:ga,UnsignedIntType:fo,UnsignedShort4444Type:$A,UnsignedShort5551Type:QA,UnsignedShortType:oy,VSMShadowMap:ns,Vector2:me,Vector3:F,Vector4:jt,VectorKeyframeTrack:Kl,VideoTexture:W9,WebGL1Renderer:gD,WebGL3DRenderTarget:jz,WebGLArrayRenderTarget:Wz,WebGLCoordinateSystem:Is,WebGLCubeRenderTarget:fM,WebGLMultipleRenderTargets:Xz,WebGLRenderTarget:hs,WebGLRenderer:mM,WebGLUtils:dD,WebGPUCoordinateSystem:Kh,WireframeGeometry:RD,WrapAroundEnding:Xh,ZeroCurvatureEnding:Al,ZeroFactor:uI,ZeroSlopeEnding:Ml,ZeroStencilOp:ez,_SRGBAFormat:d0,sRGBEncoding:va},Symbol.toStringTag,{value:"Module"}));var tF={exports:{}},nu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */nu.ConcurrentRoot=1;nu.ContinuousEventPriority=4;nu.DefaultEventPriority=16;nu.DiscreteEventPriority=1;nu.IdleEventPriority=536870912;nu.LegacyRoot=0;tF.exports=nu;var cc=tF.exports;function jW(t){let e;const n=new Set,i=(u,h)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},r=()=>e,s=(u,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!d(p,v)){const M=p;u(p=v,M)}}return n.add(m),()=>n.delete(m)},l={setState:i,getState:r,subscribe:(u,h,d)=>h||d?s(u,h,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(i,r,l),l}const XW=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eR=XW?j.useEffect:j.useLayoutEffect;function nF(t){const e=typeof t=="function"?jW(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=j.useReducer(x=>x+1,0),o=e.getState(),a=j.useRef(o),l=j.useRef(i),u=j.useRef(r),h=j.useRef(!1),d=j.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),eR(()=>{m&&(d.current=p),a.current=o,l.current=i,u.current=r,h.current=!1});const v=j.useRef(o);eR(()=>{const x=()=>{try{const _=e.getState(),A=l.current(_);u.current(d.current,A)||(a.current=_,d.current=A,s())}catch{h.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const M=m?p:d.current;return j.useDebugValue(M),M};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var iF={exports:{}},Yx={exports:{}},$x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function JW(){return tR||(tR=1,function(t){function e(I,z){var U=I.length;I.push(z);e:for(;0<U;){var Z=U-1>>>1,V=I[Z];if(0<r(V,z))I[Z]=z,I[U]=V,U=Z;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var z=I[0],U=I.pop();if(U!==z){I[0]=U;e:for(var Z=0,V=I.length,se=V>>>1;Z<se;){var ce=2*(Z+1)-1,Ae=I[ce],_e=ce+1,Pe=I[_e];if(0>r(Ae,U))_e<V&&0>r(Pe,Ae)?(I[Z]=Pe,I[_e]=U,Z=_e):(I[Z]=Ae,I[ce]=U,Z=ce);else if(_e<V&&0>r(Pe,U))I[Z]=Pe,I[_e]=U,Z=_e;else break e}}return z}function r(I,z){var U=I.sortIndex-z.sortIndex;return U!==0?U:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,v=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=I)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function E(I){if(M=!1,A(I),!v)if(n(l)!==null)v=!0,ae(C);else{var z=n(u);z!==null&&ne(E,z.startTime-I)}}function C(I,z){v=!1,M&&(M=!1,g(L),L=-1),m=!0;var U=p;try{for(A(z),d=n(l);d!==null&&(!(d.expirationTime>z)||I&&!H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var V=Z(d.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&i(l),A(z)}else i(l);d=n(l)}if(d!==null)var se=!0;else{var ce=n(u);ce!==null&&ne(E,ce.startTime-z),se=!1}return se}finally{d=null,p=U,m=!1}}var b=!1,B=null,L=-1,R=5,P=-1;function H(){return!(t.unstable_now()-P<R)}function ee(){if(B!==null){var I=t.unstable_now();P=I;var z=!0;try{z=B(!0,I)}finally{z?K():(b=!1,B=null)}}else b=!1}var K;if(typeof _=="function")K=function(){_(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=ee,K=function(){Y.postMessage(null)}}else K=function(){x(ee,0)};function ae(I){B=I,b||(b=!0,K())}function ne(I,z){L=x(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var U=p;p=z;try{return I()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return z()}finally{p=U}},t.unstable_scheduleCallback=function(I,z,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,I={id:h++,callback:z,priorityLevel:I,startTime:U,expirationTime:V,sortIndex:-1},U>Z?(I.sortIndex=U,e(u,I),n(l)===null&&I===n(u)&&(M?(g(L),L=-1):M=!0,ne(E,U-Z))):(I.sortIndex=V,e(l,I),v||m||(v=!0,ae(C))),I},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(I){var z=p;return function(){var U=p;p=z;try{return I.apply(this,arguments)}finally{p=U}}}}($x)),$x}var nR;function KW(){return nR||(nR=1,Yx.exports=JW()),Yx.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YW=function(e){var n={},i=j,r=KW(),s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function b(c){return c===null||typeof c!="object"?null:(c=C&&c[C]||c["@@iterator"],typeof c=="function"?c:null)}function B(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case M:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return f=c.displayName||null,f!==null?f:B(c.type)||"Memo";case A:f=c._payload,c=c._init;try{return B(c(f))}catch{}}return null}function L(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function P(c){if(R(c)!==c)throw Error(o(188))}function H(c){var f=c.alternate;if(!f){if(f=R(c),f===null)throw Error(o(188));return f!==c?null:c}for(var y=c,S=f;;){var w=y.return;if(w===null)break;var T=w.alternate;if(T===null){if(S=w.return,S!==null){y=S;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===y)return P(w),c;if(T===S)return P(w),f;T=T.sibling}throw Error(o(188))}if(y.return!==S.return)y=w,S=T;else{for(var k=!1,$=w.child;$;){if($===y){k=!0,y=w,S=T;break}if($===S){k=!0,S=w,y=T;break}$=$.sibling}if(!k){for($=T.child;$;){if($===y){k=!0,y=T,S=w;break}if($===S){k=!0,S=T,y=w;break}$=$.sibling}if(!k)throw Error(o(189))}}if(y.alternate!==S)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:f}function ee(c){return c=H(c),c!==null?K(c):null}function K(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=K(c);if(f!==null)return f;c=c.sibling}return null}function Q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=Q(c);if(f!==null)return f}c=c.sibling}return null}var Y=Array.isArray,ae=e.getPublicInstance,ne=e.getRootHostContext,I=e.getChildHostContext,z=e.prepareForCommit,U=e.resetAfterCommit,Z=e.createInstance,V=e.appendInitialChild,se=e.finalizeInitialChildren,ce=e.prepareUpdate,Ae=e.shouldSetTextContent,_e=e.createTextInstance,Pe=e.scheduleTimeout,qe=e.cancelTimeout,$e=e.noTimeout,nt=e.isPrimaryRenderer,Ee=e.supportsMutation,G=e.supportsPersistence,ve=e.supportsHydration,ye=e.getInstanceFromNode,Te=e.preparePortalMount,xe=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,ke=e.supportsMicrotasks,ze=e.scheduleMicrotask,it=e.supportsTestSelectors,xt=e.findFiberRoot,Gt=e.getBoundingRect,O=e.getTextContent,D=e.isHiddenSubtree,fe=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Ie=e.appendChild,Je=e.appendChildToContainer,Le=e.commitTextUpdate,pe=e.commitMount,rt=e.commitUpdate,et=e.insertBefore,tt=e.insertInContainerBefore,W=e.removeChild,le=e.removeChildFromContainer,be=e.resetTextContent,Ke=e.hideInstance,X=e.hideTextInstance,Re=e.unhideInstance,oe=e.unhideTextInstance,Be=e.clearContainer,Fe=e.cloneInstance,pt=e.createContainerChildSet,It=e.appendChildToContainerChildSet,Jt=e.finalizeContainerChildren,ui=e.replaceContainerChildren,zt=e.cloneHiddenInstance,Vn=e.cloneHiddenTextInstance,Zn=e.canHydrateInstance,Xd=e.canHydrateTextInstance,Jd=e.canHydrateSuspenseInstance,Kd=e.isSuspenseInstancePending,Bo=e.isSuspenseInstanceFallback,Yd=e.registerSuspenseInstanceRetry,ys=e.getNextHydratableSibling,$d=e.getFirstHydratableChild,Ny=e.getFirstHydratableChildWithinContainer,ky=e.getFirstHydratableChildWithinSuspenseInstance,Oy=e.hydrateInstance,N=e.hydrateTextInstance,re=e.hydrateSuspenseInstance,de=e.getNextHydratableInstanceAfterSuspenseInstance,te=e.commitHydratedContainer,ge=e.commitHydratedSuspenseInstance,We=e.clearSuspenseBoundary,st=e.clearSuspenseBoundaryFromContainer,ut=e.shouldDeleteUnhydratedTailInstances,ft=e.didNotMatchHydratedContainerTextInstance,Ct=e.didNotMatchHydratedTextInstance,ht;function dt(c){if(ht===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);ht=f&&f[1]||""}return`
`+ht+c}var Vt=!1;function en(c,f){if(!c||Vt)return"";Vt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ce){var S=Ce}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ce){S=Ce}c.call(f.prototype)}else{try{throw Error()}catch(Ce){S=Ce}c()}}catch(Ce){if(Ce&&S&&typeof Ce.stack=="string"){for(var w=Ce.stack.split(`
`),T=S.stack.split(`
`),k=w.length-1,$=T.length-1;1<=k&&0<=$&&w[k]!==T[$];)$--;for(;1<=k&&0<=$;k--,$--)if(w[k]!==T[$]){if(k!==1||$!==1)do if(k--,$--,0>$||w[k]!==T[$]){var he=`
`+w[k].replace(" at new "," at ");return c.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",c.displayName)),he}while(1<=k&&0<=$);break}}}finally{Vt=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?dt(c):""}var Qi=Object.prototype.hasOwnProperty,Zi=[],Kt=-1;function gt(c){return{current:c}}function Wt(c){0>Kt||(c.current=Zi[Kt],Zi[Kt]=null,Kt--)}function mt(c,f){Kt++,Zi[Kt]=c.current,c.current=f}var ci={},Nn=gt(ci),Rn=gt(!1),Jr=ci;function xn(c,f){var y=c.type.contextTypes;if(!y)return ci;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var w={},T;for(T in y)w[T]=f[T];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=w),w}function _n(c){return c=c.childContextTypes,c!=null}function Lo(){Wt(Rn),Wt(Nn)}function fi(c,f,y){if(Nn.current!==ci)throw Error(o(168));mt(Nn,f),mt(Rn,y)}function ou(c,f,y){var S=c.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var w in S)if(!(w in f))throw Error(o(108,L(c)||"Unknown",w));return s({},y,S)}function au(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ci,Jr=Nn.current,mt(Nn,c),mt(Rn,Rn.current),!0}function tf(c,f,y){var S=c.stateNode;if(!S)throw Error(o(169));y?(c=ou(c,f,Jr),S.__reactInternalMemoizedMergedChildContext=c,Wt(Rn),Wt(Nn),mt(Nn,c)):Wt(Rn),mt(Rn,y)}var Kr=Math.clz32?Math.clz32:lk,ok=Math.log,ak=Math.LN2;function lk(c){return c>>>=0,c===0?32:31-(ok(c)/ak|0)|0}var Qd=64,Zd=4194304;function nf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function qd(c,f){var y=c.pendingLanes;if(y===0)return 0;var S=0,w=c.suspendedLanes,T=c.pingedLanes,k=y&268435455;if(k!==0){var $=k&~w;$!==0?S=nf($):(T&=k,T!==0&&(S=nf(T)))}else k=y&~w,k!==0?S=nf(k):T!==0&&(S=nf(T));if(S===0)return 0;if(f!==0&&f!==S&&!(f&w)&&(w=S&-S,T=f&-f,w>=T||w===16&&(T&4194240)!==0))return f;if(S&4&&(S|=y&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=S;0<f;)y=31-Kr(f),w=1<<y,S|=c[y],f&=~w;return S}function uk(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ck(c,f){for(var y=c.suspendedLanes,S=c.pingedLanes,w=c.expirationTimes,T=c.pendingLanes;0<T;){var k=31-Kr(T),$=1<<k,he=w[k];he===-1?(!($&y)||$&S)&&(w[k]=uk($,f)):he<=f&&(c.expiredLanes|=$),T&=~$}}function Uy(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Hy(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function rf(c,f,y){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Kr(f),c[f]=y}function fk(c,f){var y=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<y;){var w=31-Kr(y),T=1<<w;f[w]=0,S[w]=-1,c[w]=-1,y&=~T}}function zy(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var S=31-Kr(y),w=1<<S;w&f|c[S]&f&&(c[S]|=f),y&=~w}}var kt=0;function NE(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Gy=r.unstable_scheduleCallback,kE=r.unstable_cancelCallback,hk=r.unstable_shouldYield,dk=r.unstable_requestPaint,Wn=r.unstable_now,Vy=r.unstable_ImmediatePriority,pk=r.unstable_UserBlockingPriority,Wy=r.unstable_NormalPriority,mk=r.unstable_IdlePriority,ep=null,vs=null;function gk(c){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(ep,c,void 0,(c.current.flags&128)===128)}catch{}}function yk(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var xs=typeof Object.is=="function"?Object.is:yk,Vs=null,tp=!1,jy=!1;function OE(c){Vs===null?Vs=[c]:Vs.push(c)}function vk(c){tp=!0,OE(c)}function _s(){if(!jy&&Vs!==null){jy=!0;var c=0,f=kt;try{var y=Vs;for(kt=1;c<y.length;c++){var S=y[c];do S=S(!0);while(S!==null)}Vs=null,tp=!1}catch(w){throw Vs!==null&&(Vs=Vs.slice(c+1)),Gy(Vy,_s),w}finally{kt=f,jy=!1}}return null}var xk=a.ReactCurrentBatchConfig;function np(c,f){if(xs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var w=y[S];if(!Qi.call(f,w)||!xs(c[w],f[w]))return!1}return!0}function _k(c){switch(c.tag){case 5:return dt(c.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return c=en(c.type,!1),c;case 11:return c=en(c.type.render,!1),c;case 1:return c=en(c.type,!0),c;default:return""}}function Yr(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var y in c)f[y]===void 0&&(f[y]=c[y]);return f}return f}var ip=gt(null),rp=null,lu=null,Xy=null;function Jy(){Xy=lu=rp=null}function UE(c,f,y){nt?(mt(ip,f._currentValue),f._currentValue=y):(mt(ip,f._currentValue2),f._currentValue2=y)}function Ky(c){var f=ip.current;Wt(ip),nt?c._currentValue=f:c._currentValue2=f}function Yy(c,f,y){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===y)break;c=c.return}}function uu(c,f){rp=c,Xy=lu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(tr=!0),c.firstContext=null)}function Ar(c){var f=nt?c._currentValue:c._currentValue2;if(Xy!==c)if(c={context:c,memoizedValue:f,next:null},lu===null){if(rp===null)throw Error(o(308));lu=c,rp.dependencies={lanes:0,firstContext:c}}else lu=lu.next=c;return f}var Ss=null,Io=!1;function $y(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ws(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Do(c,f){var y=c.updateQueue;y!==null&&(y=y.shared,Pn!==null&&c.mode&1&&!(bt&2)?(c=y.interleaved,c===null?(f.next=f,Ss===null?Ss=[y]:Ss.push(y)):(f.next=c.next,c.next=f),y.interleaved=f):(c=y.pending,c===null?f.next=f:(f.next=c.next,c.next=f),y.pending=f))}function sp(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var S=f.lanes;S&=c.pendingLanes,y|=S,f.lanes=y,zy(c,y)}}function zE(c,f){var y=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var w=null,T=null;if(y=y.firstBaseUpdate,y!==null){do{var k={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};T===null?w=T=k:T=T.next=k,y=y.next}while(y!==null);T===null?w=T=f:T=T.next=f}else w=T=f;y={baseState:S.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:S.shared,effects:S.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function op(c,f,y,S){var w=c.updateQueue;Io=!1;var T=w.firstBaseUpdate,k=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var he=$,Ce=he.next;he.next=null,k===null?T=Ce:k.next=Ce,k=he;var je=c.alternate;je!==null&&(je=je.updateQueue,$=je.lastBaseUpdate,$!==k&&($===null?je.firstBaseUpdate=Ce:$.next=Ce,je.lastBaseUpdate=he))}if(T!==null){var yt=w.baseState;k=0,je=Ce=he=null,$=T;do{var ot=$.lane,Yt=$.eventTime;if((S&ot)===ot){je!==null&&(je=je.next={eventTime:Yt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ze=c,mi=$;switch(ot=f,Yt=y,mi.tag){case 1:if(Ze=mi.payload,typeof Ze=="function"){yt=Ze.call(Yt,yt,ot);break e}yt=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=mi.payload,ot=typeof Ze=="function"?Ze.call(Yt,yt,ot):Ze,ot==null)break e;yt=s({},yt,ot);break e;case 2:Io=!0}}$.callback!==null&&$.lane!==0&&(c.flags|=64,ot=w.effects,ot===null?w.effects=[$]:ot.push($))}else Yt={eventTime:Yt,lane:ot,tag:$.tag,payload:$.payload,callback:$.callback,next:null},je===null?(Ce=je=Yt,he=yt):je=je.next=Yt,k|=ot;if($=$.next,$===null){if($=w.shared.pending,$===null)break;ot=$,$=ot.next,ot.next=null,w.lastBaseUpdate=ot,w.shared.pending=null}}while(1);if(je===null&&(he=yt),w.baseState=he,w.firstBaseUpdate=Ce,w.lastBaseUpdate=je,f=w.shared.interleaved,f!==null){w=f;do k|=w.lane,w=w.next;while(w!==f)}else T===null&&(w.shared.lanes=0);vu|=k,c.lanes=k,c.memoizedState=yt}}function GE(c,f,y){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var S=c[f],w=S.callback;if(w!==null){if(S.callback=null,S=y,typeof w!="function")throw Error(o(191,w));w.call(S)}}}var VE=new i.Component().refs;function Qy(c,f,y,S){f=c.memoizedState,y=y(S,f),y=y==null?f:s({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var ap={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var S=Ei(),w=ko(c),T=Ws(S,w);T.payload=f,y!=null&&(T.callback=y),Do(c,T),f=Cr(c,w,S),f!==null&&sp(f,c,w)},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var S=Ei(),w=ko(c),T=Ws(S,w);T.tag=1,T.payload=f,y!=null&&(T.callback=y),Do(c,T),f=Cr(c,w,S),f!==null&&sp(f,c,w)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=Ei(),S=ko(c),w=Ws(y,S);w.tag=2,f!=null&&(w.callback=f),Do(c,w),f=Cr(c,S,y),f!==null&&sp(f,c,S)}};function WE(c,f,y,S,w,T,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,T,k):f.prototype&&f.prototype.isPureReactComponent?!np(y,S)||!np(w,T):!0}function jE(c,f,y){var S=!1,w=ci,T=f.contextType;return typeof T=="object"&&T!==null?T=Ar(T):(w=_n(f)?Jr:Nn.current,S=f.contextTypes,T=(S=S!=null)?xn(c,w):ci),f=new f(y,T),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ap,c.stateNode=f,f._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=w,c.__reactInternalMemoizedMaskedChildContext=T),f}function XE(c,f,y,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==c&&ap.enqueueReplaceState(f,f.state,null)}function Zy(c,f,y,S){var w=c.stateNode;w.props=y,w.state=c.memoizedState,w.refs=VE,$y(c);var T=f.contextType;typeof T=="object"&&T!==null?w.context=Ar(T):(T=_n(f)?Jr:Nn.current,w.context=xn(c,T)),w.state=c.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(Qy(c,f,T,y),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(f=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),f!==w.state&&ap.enqueueReplaceState(w,w.state,null),op(c,y,w,S),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308)}var cu=[],fu=0,lp=null,up=0,Mr=[],Er=0,Ua=null,js=1,Xs="";function Ha(c,f){cu[fu++]=up,cu[fu++]=lp,lp=c,up=f}function JE(c,f,y){Mr[Er++]=js,Mr[Er++]=Xs,Mr[Er++]=Ua,Ua=c;var S=js;c=Xs;var w=32-Kr(S)-1;S&=~(1<<w),y+=1;var T=32-Kr(f)+w;if(30<T){var k=w-w%5;T=(S&(1<<k)-1).toString(32),S>>=k,w-=k,js=1<<32-Kr(f)+w|y<<w|S,Xs=T+c}else js=1<<T|y<<w|S,Xs=c}function qy(c){c.return!==null&&(Ha(c,1),JE(c,1,0))}function ev(c){for(;c===lp;)lp=cu[--fu],cu[fu]=null,up=cu[--fu],cu[fu]=null;for(;c===Ua;)Ua=Mr[--Er],Mr[Er]=null,Xs=Mr[--Er],Mr[Er]=null,js=Mr[--Er],Mr[Er]=null}var qi=null,er=null,on=!1,sf=!1,$r=null;function KE(c,f){var y=br(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=c,f=c.deletions,f===null?(c.deletions=[y],c.flags|=16):f.push(y)}function YE(c,f){switch(c.tag){case 5:return f=Zn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,qi=c,er=$d(f),!0):!1;case 6:return f=Xd(f,c.pendingProps),f!==null?(c.stateNode=f,qi=c,er=null,!0):!1;case 13:if(f=Jd(f),f!==null){var y=Ua!==null?{id:js,overflow:Xs}:null;return c.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=br(18,null,null,0),y.stateNode=f,y.return=c,c.child=y,qi=c,er=null,!0}return!1;default:return!1}}function tv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function nv(c){if(on){var f=er;if(f){var y=f;if(!YE(c,f)){if(tv(c))throw Error(o(418));f=ys(y);var S=qi;f&&YE(c,f)?KE(S,y):(c.flags=c.flags&-4097|2,on=!1,qi=c)}}else{if(tv(c))throw Error(o(418));c.flags=c.flags&-4097|2,on=!1,qi=c}}}function $E(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;qi=c}function of(c){if(!ve||c!==qi)return!1;if(!on)return $E(c),on=!0,!1;if(c.tag!==3&&(c.tag!==5||ut(c.type)&&!Ae(c.type,c.memoizedProps))){var f=er;if(f){if(tv(c)){for(c=er;c;)c=ys(c);throw Error(o(418))}for(;f;)KE(c,f),f=ys(f)}}if($E(c),c.tag===13){if(!ve)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));er=de(c)}else er=qi?ys(c.stateNode):null;return!0}function hu(){ve&&(er=qi=null,sf=on=!1)}function iv(c){$r===null?$r=[c]:$r.push(c)}function af(c,f,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var S=y.stateNode}if(!S)throw Error(o(147,c));var w=S,T=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(k){var $=w.refs;$===VE&&($=w.refs={}),k===null?delete $[T]:$[T]=k},f._stringRef=T,f)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function cp(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function QE(c){var f=c._init;return f(c._payload)}function ZE(c){function f(ie,q){if(c){var ue=ie.deletions;ue===null?(ie.deletions=[q],ie.flags|=16):ue.push(q)}}function y(ie,q){if(!c)return null;for(;q!==null;)f(ie,q),q=q.sibling;return null}function S(ie,q){for(ie=new Map;q!==null;)q.key!==null?ie.set(q.key,q):ie.set(q.index,q),q=q.sibling;return ie}function w(ie,q){return ie=Uo(ie,q),ie.index=0,ie.sibling=null,ie}function T(ie,q,ue){return ie.index=ue,c?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<q?(ie.flags|=2,q):ue):(ie.flags|=2,q)):(ie.flags|=1048576,q)}function k(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function $(ie,q,ue,He){return q===null||q.tag!==6?(q=Hv(ue,ie.mode,He),q.return=ie,q):(q=w(q,ue),q.return=ie,q)}function he(ie,q,ue,He){var Qe=ue.type;return Qe===h?je(ie,q,ue.props.children,He,ue.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&QE(Qe)===q.type)?(He=w(q,ue.props),He.ref=af(ie,q,ue),He.return=ie,He):(He=zp(ue.type,ue.key,ue.props,null,ie.mode,He),He.ref=af(ie,q,ue),He.return=ie,He)}function Ce(ie,q,ue,He){return q===null||q.tag!==4||q.stateNode.containerInfo!==ue.containerInfo||q.stateNode.implementation!==ue.implementation?(q=zv(ue,ie.mode,He),q.return=ie,q):(q=w(q,ue.children||[]),q.return=ie,q)}function je(ie,q,ue,He,Qe){return q===null||q.tag!==7?(q=Ja(ue,ie.mode,He,Qe),q.return=ie,q):(q=w(q,ue),q.return=ie,q)}function yt(ie,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Hv(""+q,ie.mode,ue),q.return=ie,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return ue=zp(q.type,q.key,q.props,null,ie.mode,ue),ue.ref=af(ie,null,q),ue.return=ie,ue;case u:return q=zv(q,ie.mode,ue),q.return=ie,q;case A:var He=q._init;return yt(ie,He(q._payload),ue)}if(Y(q)||b(q))return q=Ja(q,ie.mode,ue,null),q.return=ie,q;cp(ie,q)}return null}function ot(ie,q,ue,He){var Qe=q!==null?q.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Qe!==null?null:$(ie,q,""+ue,He);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Qe?he(ie,q,ue,He):null;case u:return ue.key===Qe?Ce(ie,q,ue,He):null;case A:return Qe=ue._init,ot(ie,q,Qe(ue._payload),He)}if(Y(ue)||b(ue))return Qe!==null?null:je(ie,q,ue,He,null);cp(ie,ue)}return null}function Yt(ie,q,ue,He,Qe){if(typeof He=="string"&&He!==""||typeof He=="number")return ie=ie.get(ue)||null,$(q,ie,""+He,Qe);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case l:return ie=ie.get(He.key===null?ue:He.key)||null,he(q,ie,He,Qe);case u:return ie=ie.get(He.key===null?ue:He.key)||null,Ce(q,ie,He,Qe);case A:var Mt=He._init;return Yt(ie,q,ue,Mt(He._payload),Qe)}if(Y(He)||b(He))return ie=ie.get(ue)||null,je(q,ie,He,Qe,null);cp(q,He)}return null}function Ze(ie,q,ue,He){for(var Qe=null,Mt=null,vt=q,Ot=q=0,Xn=null;vt!==null&&Ot<ue.length;Ot++){vt.index>Ot?(Xn=vt,vt=null):Xn=vt.sibling;var Ut=ot(ie,vt,ue[Ot],He);if(Ut===null){vt===null&&(vt=Xn);break}c&&vt&&Ut.alternate===null&&f(ie,vt),q=T(Ut,q,Ot),Mt===null?Qe=Ut:Mt.sibling=Ut,Mt=Ut,vt=Xn}if(Ot===ue.length)return y(ie,vt),on&&Ha(ie,Ot),Qe;if(vt===null){for(;Ot<ue.length;Ot++)vt=yt(ie,ue[Ot],He),vt!==null&&(q=T(vt,q,Ot),Mt===null?Qe=vt:Mt.sibling=vt,Mt=vt);return on&&Ha(ie,Ot),Qe}for(vt=S(ie,vt);Ot<ue.length;Ot++)Xn=Yt(vt,ie,Ot,ue[Ot],He),Xn!==null&&(c&&Xn.alternate!==null&&vt.delete(Xn.key===null?Ot:Xn.key),q=T(Xn,q,Ot),Mt===null?Qe=Xn:Mt.sibling=Xn,Mt=Xn);return c&&vt.forEach(function(Ho){return f(ie,Ho)}),on&&Ha(ie,Ot),Qe}function mi(ie,q,ue,He){var Qe=b(ue);if(typeof Qe!="function")throw Error(o(150));if(ue=Qe.call(ue),ue==null)throw Error(o(151));for(var Mt=Qe=null,vt=q,Ot=q=0,Xn=null,Ut=ue.next();vt!==null&&!Ut.done;Ot++,Ut=ue.next()){vt.index>Ot?(Xn=vt,vt=null):Xn=vt.sibling;var Ho=ot(ie,vt,Ut.value,He);if(Ho===null){vt===null&&(vt=Xn);break}c&&vt&&Ho.alternate===null&&f(ie,vt),q=T(Ho,q,Ot),Mt===null?Qe=Ho:Mt.sibling=Ho,Mt=Ho,vt=Xn}if(Ut.done)return y(ie,vt),on&&Ha(ie,Ot),Qe;if(vt===null){for(;!Ut.done;Ot++,Ut=ue.next())Ut=yt(ie,Ut.value,He),Ut!==null&&(q=T(Ut,q,Ot),Mt===null?Qe=Ut:Mt.sibling=Ut,Mt=Ut);return on&&Ha(ie,Ot),Qe}for(vt=S(ie,vt);!Ut.done;Ot++,Ut=ue.next())Ut=Yt(vt,ie,Ot,Ut.value,He),Ut!==null&&(c&&Ut.alternate!==null&&vt.delete(Ut.key===null?Ot:Ut.key),q=T(Ut,q,Ot),Mt===null?Qe=Ut:Mt.sibling=Ut,Mt=Ut);return c&&vt.forEach(function($k){return f(ie,$k)}),on&&Ha(ie,Ot),Qe}function Rr(ie,q,ue,He){if(typeof ue=="object"&&ue!==null&&ue.type===h&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Qe=ue.key,Mt=q;Mt!==null;){if(Mt.key===Qe){if(Qe=ue.type,Qe===h){if(Mt.tag===7){y(ie,Mt.sibling),q=w(Mt,ue.props.children),q.return=ie,ie=q;break e}}else if(Mt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===A&&QE(Qe)===Mt.type){y(ie,Mt.sibling),q=w(Mt,ue.props),q.ref=af(ie,Mt,ue),q.return=ie,ie=q;break e}y(ie,Mt);break}else f(ie,Mt);Mt=Mt.sibling}ue.type===h?(q=Ja(ue.props.children,ie.mode,He,ue.key),q.return=ie,ie=q):(He=zp(ue.type,ue.key,ue.props,null,ie.mode,He),He.ref=af(ie,q,ue),He.return=ie,ie=He)}return k(ie);case u:e:{for(Mt=ue.key;q!==null;){if(q.key===Mt)if(q.tag===4&&q.stateNode.containerInfo===ue.containerInfo&&q.stateNode.implementation===ue.implementation){y(ie,q.sibling),q=w(q,ue.children||[]),q.return=ie,ie=q;break e}else{y(ie,q);break}else f(ie,q);q=q.sibling}q=zv(ue,ie.mode,He),q.return=ie,ie=q}return k(ie);case A:return Mt=ue._init,Rr(ie,q,Mt(ue._payload),He)}if(Y(ue))return Ze(ie,q,ue,He);if(b(ue))return mi(ie,q,ue,He);cp(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,q!==null&&q.tag===6?(y(ie,q.sibling),q=w(q,ue),q.return=ie,ie=q):(y(ie,q),q=Hv(ue,ie.mode,He),q.return=ie,ie=q),k(ie)):y(ie,q)}return Rr}var du=ZE(!0),qE=ZE(!1),lf={},wr=gt(lf),uf=gt(lf),pu=gt(lf);function As(c){if(c===lf)throw Error(o(174));return c}function rv(c,f){mt(pu,f),mt(uf,c),mt(wr,lf),c=ne(f),Wt(wr),mt(wr,c)}function mu(){Wt(wr),Wt(uf),Wt(pu)}function ew(c){var f=As(pu.current),y=As(wr.current);f=I(y,c.type,f),y!==f&&(mt(uf,c),mt(wr,f))}function sv(c){uf.current===c&&(Wt(wr),Wt(uf))}var cn=gt(0);function fp(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Kd(y)||Bo(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ov=[];function av(){for(var c=0;c<ov.length;c++){var f=ov[c];nt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}ov.length=0}var hp=a.ReactCurrentDispatcher,Tr=a.ReactCurrentBatchConfig,gu=0,Sn=null,hi=null,jn=null,dp=!1,cf=!1,ff=0,Sk=0;function di(){throw Error(o(321))}function lv(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!xs(c[y],f[y]))return!1;return!0}function uv(c,f,y,S,w,T){if(gu=T,Sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,hp.current=c===null||c.memoizedState===null?wk:Tk,c=y(S,w),cf){T=0;do{if(cf=!1,ff=0,25<=T)throw Error(o(301));T+=1,jn=hi=null,f.updateQueue=null,hp.current=Ck,c=y(S,w)}while(cf)}if(hp.current=vp,f=hi!==null&&hi.next!==null,gu=0,jn=hi=Sn=null,dp=!1,f)throw Error(o(300));return c}function cv(){var c=ff!==0;return ff=0,c}function Js(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Sn.memoizedState=jn=c:jn=jn.next=c,jn}function Ms(){if(hi===null){var c=Sn.alternate;c=c!==null?c.memoizedState:null}else c=hi.next;var f=jn===null?Sn.memoizedState:jn.next;if(f!==null)jn=f,hi=c;else{if(c===null)throw Error(o(310));hi=c,c={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},jn===null?Sn.memoizedState=jn=c:jn=jn.next=c}return jn}function za(c,f){return typeof f=="function"?f(c):f}function pp(c){var f=Ms(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var S=hi,w=S.baseQueue,T=y.pending;if(T!==null){if(w!==null){var k=w.next;w.next=T.next,T.next=k}S.baseQueue=w=T,y.pending=null}if(w!==null){T=w.next,S=S.baseState;var $=k=null,he=null,Ce=T;do{var je=Ce.lane;if((gu&je)===je)he!==null&&(he=he.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),S=Ce.hasEagerState?Ce.eagerState:c(S,Ce.action);else{var yt={lane:je,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};he===null?($=he=yt,k=S):he=he.next=yt,Sn.lanes|=je,vu|=je}Ce=Ce.next}while(Ce!==null&&Ce!==T);he===null?k=S:he.next=$,xs(S,f.memoizedState)||(tr=!0),f.memoizedState=S,f.baseState=k,f.baseQueue=he,y.lastRenderedState=S}if(c=y.interleaved,c!==null){w=c;do T=w.lane,Sn.lanes|=T,vu|=T,w=w.next;while(w!==c)}else w===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function mp(c){var f=Ms(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var S=y.dispatch,w=y.pending,T=f.memoizedState;if(w!==null){y.pending=null;var k=w=w.next;do T=c(T,k.action),k=k.next;while(k!==w);xs(T,f.memoizedState)||(tr=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),y.lastRenderedState=T}return[T,S]}function tw(){}function nw(c,f){var y=Sn,S=Ms(),w=f(),T=!xs(S.memoizedState,w);if(T&&(S.memoizedState=w,tr=!0),S=S.queue,df(sw.bind(null,y,S,c),[c]),S.getSnapshot!==f||T||jn!==null&&jn.memoizedState.tag&1){if(y.flags|=2048,hf(9,rw.bind(null,y,S,w,f),void 0,null),Pn===null)throw Error(o(349));gu&30||iw(y,f,w)}return w}function iw(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=Sn.updateQueue,f===null?(f={lastEffect:null,stores:null},Sn.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function rw(c,f,y,S){f.value=y,f.getSnapshot=S,ow(f)&&Cr(c,1,-1)}function sw(c,f,y){return y(function(){ow(f)&&Cr(c,1,-1)})}function ow(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!xs(c,y)}catch{return!0}}function fv(c){var f=Js();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:c},f.queue=c,c=c.dispatch=Ek.bind(null,Sn,c),[f.memoizedState,c]}function hf(c,f,y,S){return c={tag:c,create:f,destroy:y,deps:S,next:null},f=Sn.updateQueue,f===null?(f={lastEffect:null,stores:null},Sn.updateQueue=f,f.lastEffect=c.next=c):(y=f.lastEffect,y===null?f.lastEffect=c.next=c:(S=y.next,y.next=c,c.next=S,f.lastEffect=c)),c}function aw(){return Ms().memoizedState}function gp(c,f,y,S){var w=Js();Sn.flags|=c,w.memoizedState=hf(1|f,y,void 0,S===void 0?null:S)}function yp(c,f,y,S){var w=Ms();S=S===void 0?null:S;var T=void 0;if(hi!==null){var k=hi.memoizedState;if(T=k.destroy,S!==null&&lv(S,k.deps)){w.memoizedState=hf(f,y,T,S);return}}Sn.flags|=c,w.memoizedState=hf(1|f,y,T,S)}function hv(c,f){return gp(8390656,8,c,f)}function df(c,f){return yp(2048,8,c,f)}function lw(c,f){return yp(4,2,c,f)}function uw(c,f){return yp(4,4,c,f)}function cw(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function fw(c,f,y){return y=y!=null?y.concat([c]):null,yp(4,4,cw.bind(null,f,c),y)}function dv(){}function hw(c,f){var y=Ms();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&lv(f,S[1])?S[0]:(y.memoizedState=[c,f],c)}function dw(c,f){var y=Ms();f=f===void 0?null:f;var S=y.memoizedState;return S!==null&&f!==null&&lv(f,S[1])?S[0]:(c=c(),y.memoizedState=[c,f],c)}function Ak(c,f){var y=kt;kt=y!==0&&4>y?y:4,c(!0);var S=Tr.transition;Tr.transition={};try{c(!1),f()}finally{kt=y,Tr.transition=S}}function pw(){return Ms().memoizedState}function Mk(c,f,y){var S=ko(c);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},mw(c)?gw(f,y):(yw(c,f,y),y=Ei(),c=Cr(c,S,y),c!==null&&vw(c,f,S))}function Ek(c,f,y){var S=ko(c),w={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(mw(c))gw(f,w);else{yw(c,f,w);var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var k=f.lastRenderedState,$=T(k,y);if(w.hasEagerState=!0,w.eagerState=$,xs($,k))return}catch{}finally{}y=Ei(),c=Cr(c,S,y),c!==null&&vw(c,f,S)}}function mw(c){var f=c.alternate;return c===Sn||f!==null&&f===Sn}function gw(c,f){cf=dp=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function yw(c,f,y){Pn!==null&&c.mode&1&&!(bt&2)?(c=f.interleaved,c===null?(y.next=y,Ss===null?Ss=[f]:Ss.push(f)):(y.next=c.next,c.next=y),f.interleaved=y):(c=f.pending,c===null?y.next=y:(y.next=c.next,c.next=y),f.pending=y)}function vw(c,f,y){if(y&4194240){var S=f.lanes;S&=c.pendingLanes,y|=S,f.lanes=y,zy(c,y)}}var vp={readContext:Ar,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},wk={readContext:Ar,useCallback:function(c,f){return Js().memoizedState=[c,f===void 0?null:f],c},useContext:Ar,useEffect:hv,useImperativeHandle:function(c,f,y){return y=y!=null?y.concat([c]):null,gp(4194308,4,cw.bind(null,f,c),y)},useLayoutEffect:function(c,f){return gp(4194308,4,c,f)},useInsertionEffect:function(c,f){return gp(4,2,c,f)},useMemo:function(c,f){var y=Js();return f=f===void 0?null:f,c=c(),y.memoizedState=[c,f],c},useReducer:function(c,f,y){var S=Js();return f=y!==void 0?y(f):f,S.memoizedState=S.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},S.queue=c,c=c.dispatch=Mk.bind(null,Sn,c),[S.memoizedState,c]},useRef:function(c){var f=Js();return c={current:c},f.memoizedState=c},useState:fv,useDebugValue:dv,useDeferredValue:function(c){var f=fv(c),y=f[0],S=f[1];return hv(function(){var w=Tr.transition;Tr.transition={};try{S(c)}finally{Tr.transition=w}},[c]),y},useTransition:function(){var c=fv(!1),f=c[0];return c=Ak.bind(null,c[1]),Js().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,y){var S=Sn,w=Js();if(on){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Pn===null)throw Error(o(349));gu&30||iw(S,f,y)}w.memoizedState=y;var T={value:y,getSnapshot:f};return w.queue=T,hv(sw.bind(null,S,T,c),[c]),S.flags|=2048,hf(9,rw.bind(null,S,T,y,f),void 0,null),y},useId:function(){var c=Js(),f=Pn.identifierPrefix;if(on){var y=Xs,S=js;y=(S&~(1<<32-Kr(S)-1)).toString(32)+y,f=":"+f+"R"+y,y=ff++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=Sk++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},Tk={readContext:Ar,useCallback:hw,useContext:Ar,useEffect:df,useImperativeHandle:fw,useInsertionEffect:lw,useLayoutEffect:uw,useMemo:dw,useReducer:pp,useRef:aw,useState:function(){return pp(za)},useDebugValue:dv,useDeferredValue:function(c){var f=pp(za),y=f[0],S=f[1];return df(function(){var w=Tr.transition;Tr.transition={};try{S(c)}finally{Tr.transition=w}},[c]),y},useTransition:function(){var c=pp(za)[0],f=Ms().memoizedState;return[c,f]},useMutableSource:tw,useSyncExternalStore:nw,useId:pw,unstable_isNewReconciler:!1},Ck={readContext:Ar,useCallback:hw,useContext:Ar,useEffect:df,useImperativeHandle:fw,useInsertionEffect:lw,useLayoutEffect:uw,useMemo:dw,useReducer:mp,useRef:aw,useState:function(){return mp(za)},useDebugValue:dv,useDeferredValue:function(c){var f=mp(za),y=f[0],S=f[1];return df(function(){var w=Tr.transition;Tr.transition={};try{S(c)}finally{Tr.transition=w}},[c]),y},useTransition:function(){var c=mp(za)[0],f=Ms().memoizedState;return[c,f]},useMutableSource:tw,useSyncExternalStore:nw,useId:pw,unstable_isNewReconciler:!1};function pv(c,f){try{var y="",S=f;do y+=_k(S),S=S.return;while(S);var w=y}catch(T){w=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:f,stack:w}}function mv(c,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function xw(c,f,y){y=Ws(-1,y),y.tag=3,y.payload={element:null};var S=f.value;return y.callback=function(){Dp||(Dp=!0,Iv=S),mv(c,f)},y}function _w(c,f,y){y=Ws(-1,y),y.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var w=f.value;y.payload=function(){return S(w)},y.callback=function(){mv(c,f)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(y.callback=function(){mv(c,f),typeof S!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})}),y}function Sw(c,f,y){var S=c.pingCache;if(S===null){S=c.pingCache=new bk;var w=new Set;S.set(f,w)}else w=S.get(f),w===void 0&&(w=new Set,S.set(f,w));w.has(y)||(w.add(y),c=Gk.bind(null,c,f,y),f.then(c,c))}function Aw(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function Mw(c,f,y,S,w){return c.mode&1?(c.flags|=65536,c.lanes=w,c):(c===f?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Ws(-1,1),f.tag=2,Do(y,f))),y.lanes|=1),c)}function Es(c){c.flags|=4}function Ew(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var pf,mf,xp,_p;if(Ee)pf=function(c,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)V(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},mf=function(){},xp=function(c,f,y,S,w){if(c=c.memoizedProps,c!==S){var T=f.stateNode,k=As(wr.current);y=ce(T,y,c,S,w,k),(f.updateQueue=y)&&Es(f)}},_p=function(c,f,y,S){y!==S&&Es(f)};else if(G){pf=function(c,f,y,S){for(var w=f.child;w!==null;){if(w.tag===5){var T=w.stateNode;y&&S&&(T=zt(T,w.type,w.memoizedProps,w)),V(c,T)}else if(w.tag===6)T=w.stateNode,y&&S&&(T=Vn(T,w.memoizedProps,w)),V(c,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),pf(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var ww=function(c,f,y,S){for(var w=f.child;w!==null;){if(w.tag===5){var T=w.stateNode;y&&S&&(T=zt(T,w.type,w.memoizedProps,w)),It(c,T)}else if(w.tag===6)T=w.stateNode,y&&S&&(T=Vn(T,w.memoizedProps,w)),It(c,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),ww(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};mf=function(c,f){var y=f.stateNode;if(!Ew(c,f)){c=y.containerInfo;var S=pt(c);ww(S,f,!1,!1),y.pendingChildren=S,Es(f),Jt(c,S)}},xp=function(c,f,y,S,w){var T=c.stateNode,k=c.memoizedProps;if((c=Ew(c,f))&&k===S)f.stateNode=T;else{var $=f.stateNode,he=As(wr.current),Ce=null;k!==S&&(Ce=ce($,y,k,S,w,he)),c&&Ce===null?f.stateNode=T:(T=Fe(T,Ce,y,k,S,f,c,$),se(T,y,S,w,he)&&Es(f),f.stateNode=T,c?Es(f):pf(T,f,!1,!1))}},_p=function(c,f,y,S){y!==S?(c=As(pu.current),y=As(wr.current),f.stateNode=_e(S,c,y,f),Es(f)):f.stateNode=c.stateNode}}else mf=function(){},xp=function(){},_p=function(){};function gf(c,f){if(!on)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function pi(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,S=0;if(f)for(var w=c.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags&14680064,S|=w.flags&14680064,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)y|=w.lanes|w.childLanes,S|=w.subtreeFlags,S|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=S,c.childLanes=y,f}function Rk(c,f,y){var S=f.pendingProps;switch(ev(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(f),null;case 1:return _n(f.type)&&Lo(),pi(f),null;case 3:return S=f.stateNode,mu(),Wt(Rn),Wt(Nn),av(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(of(f)?Es(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,$r!==null&&(Nv($r),$r=null))),mf(c,f),pi(f),null;case 5:sv(f),y=As(pu.current);var w=f.type;if(c!==null&&f.stateNode!=null)xp(c,f,w,S,y),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return pi(f),null}if(c=As(wr.current),of(f)){if(!ve)throw Error(o(175));c=Oy(f.stateNode,f.type,f.memoizedProps,y,c,f,!sf),f.updateQueue=c,c!==null&&Es(f)}else{var T=Z(w,S,y,c,f);pf(T,f,!1,!1),f.stateNode=T,se(T,w,S,y,c)&&Es(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return pi(f),null;case 6:if(c&&f.stateNode!=null)_p(c,f,c.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(c=As(pu.current),y=As(wr.current),of(f)){if(!ve)throw Error(o(176));if(c=f.stateNode,S=f.memoizedProps,(y=N(c,S,f,!sf))&&(w=qi,w!==null))switch(T=(w.mode&1)!==0,w.tag){case 3:ft(w.stateNode.containerInfo,c,S,T);break;case 5:Ct(w.type,w.memoizedProps,w.stateNode,c,S,T)}y&&Es(f)}else f.stateNode=_e(S,c,y,f)}return pi(f),null;case 13:if(Wt(cn),S=f.memoizedState,on&&er!==null&&f.mode&1&&!(f.flags&128)){for(c=er;c;)c=ys(c);return hu(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=of(f),c===null){if(!S)throw Error(o(318));if(!ve)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));re(c,f)}else hu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return pi(f),null}return $r!==null&&(Nv($r),$r=null),f.flags&128?(f.lanes=y,f):(S=S!==null,y=!1,c===null?of(f):y=c.memoizedState!==null,S&&!y&&(f.child.flags|=8192,f.mode&1&&(c===null||cn.current&1?kn===0&&(kn=3):Ov())),f.updateQueue!==null&&(f.flags|=4),pi(f),null);case 4:return mu(),mf(c,f),c===null&&Te(f.stateNode.containerInfo),pi(f),null;case 10:return Ky(f.type._context),pi(f),null;case 17:return _n(f.type)&&Lo(),pi(f),null;case 19:if(Wt(cn),w=f.memoizedState,w===null)return pi(f),null;if(S=(f.flags&128)!==0,T=w.rendering,T===null)if(S)gf(w,!1);else{if(kn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(T=fp(c),T!==null){for(f.flags|=128,gf(w,!1),c=T.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=y,S=f.child;S!==null;)y=S,w=c,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,w=T.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),S=S.sibling;return mt(cn,cn.current&1|2),f.child}c=c.sibling}w.tail!==null&&Wn()>Lv&&(f.flags|=128,S=!0,gf(w,!1),f.lanes=4194304)}else{if(!S)if(c=fp(T),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),gf(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!on)return pi(f),null}else 2*Wn()-w.renderingStartTime>Lv&&y!==1073741824&&(f.flags|=128,S=!0,gf(w,!1),f.lanes=4194304);w.isBackwards?(T.sibling=f.child,f.child=T):(c=w.last,c!==null?c.sibling=T:f.child=T,w.last=T)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=Wn(),f.sibling=null,c=cn.current,mt(cn,S?c&1|2:c&1),f):(pi(f),null);case 22:case 23:return kv(),S=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?nr&1073741824&&(pi(f),Ee&&f.subtreeFlags&6&&(f.flags|=8192)):pi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var Pk=a.ReactCurrentOwner,tr=!1;function Mi(c,f,y,S){f.child=c===null?qE(f,null,y,S):du(f,c.child,y,S)}function Tw(c,f,y,S,w){y=y.render;var T=f.ref;return uu(f,w),S=uv(c,f,y,S,T,w),y=cv(),c!==null&&!tr?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~w,Ks(c,f,w)):(on&&y&&qy(f),f.flags|=1,Mi(c,f,S,w),f.child)}function Cw(c,f,y,S,w){if(c===null){var T=y.type;return typeof T=="function"&&!Uv(T)&&T.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=T,bw(c,f,T,S,w)):(c=zp(y.type,null,S,f,f.mode,w),c.ref=f.ref,c.return=f,f.child=c)}if(T=c.child,!(c.lanes&w)){var k=T.memoizedProps;if(y=y.compare,y=y!==null?y:np,y(k,S)&&c.ref===f.ref)return Ks(c,f,w)}return f.flags|=1,c=Uo(T,S),c.ref=f.ref,c.return=f,f.child=c}function bw(c,f,y,S,w){if(c!==null&&np(c.memoizedProps,S)&&c.ref===f.ref)if(tr=!1,(c.lanes&w)!==0)c.flags&131072&&(tr=!0);else return f.lanes=c.lanes,Ks(c,f,w);return gv(c,f,y,S,w)}function Rw(c,f,y){var S=f.pendingProps,w=S.children,T=c!==null?c.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},mt(yu,nr),nr|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=T!==null?T.baseLanes:y,mt(yu,nr),nr|=S;else return c=T!==null?T.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,mt(yu,nr),nr|=c,null;else T!==null?(S=T.baseLanes|y,f.memoizedState=null):S=y,mt(yu,nr),nr|=S;return Mi(c,f,w,y),f.child}function Pw(c,f){var y=f.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function gv(c,f,y,S,w){var T=_n(y)?Jr:Nn.current;return T=xn(f,T),uu(f,w),y=uv(c,f,y,S,T,w),S=cv(),c!==null&&!tr?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~w,Ks(c,f,w)):(on&&S&&qy(f),f.flags|=1,Mi(c,f,y,w),f.child)}function Bw(c,f,y,S,w){if(_n(y)){var T=!0;au(f)}else T=!1;if(uu(f,w),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),jE(f,y,S),Zy(f,y,S,w),S=!0;else if(c===null){var k=f.stateNode,$=f.memoizedProps;k.props=$;var he=k.context,Ce=y.contextType;typeof Ce=="object"&&Ce!==null?Ce=Ar(Ce):(Ce=_n(y)?Jr:Nn.current,Ce=xn(f,Ce));var je=y.getDerivedStateFromProps,yt=typeof je=="function"||typeof k.getSnapshotBeforeUpdate=="function";yt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==S||he!==Ce)&&XE(f,k,S,Ce),Io=!1;var ot=f.memoizedState;k.state=ot,op(f,S,k,w),he=f.memoizedState,$!==S||ot!==he||Rn.current||Io?(typeof je=="function"&&(Qy(f,y,je,S),he=f.memoizedState),($=Io||WE(f,y,$,S,ot,he,Ce))?(yt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=he),k.props=S,k.state=he,k.context=Ce,S=$):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{k=f.stateNode,HE(c,f),$=f.memoizedProps,Ce=f.type===f.elementType?$:Yr(f.type,$),k.props=Ce,yt=f.pendingProps,ot=k.context,he=y.contextType,typeof he=="object"&&he!==null?he=Ar(he):(he=_n(y)?Jr:Nn.current,he=xn(f,he));var Yt=y.getDerivedStateFromProps;(je=typeof Yt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==yt||ot!==he)&&XE(f,k,S,he),Io=!1,ot=f.memoizedState,k.state=ot,op(f,S,k,w);var Ze=f.memoizedState;$!==yt||ot!==Ze||Rn.current||Io?(typeof Yt=="function"&&(Qy(f,y,Yt,S),Ze=f.memoizedState),(Ce=Io||WE(f,y,Ce,S,ot,Ze,he)||!1)?(je||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(S,Ze,he),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(S,Ze,he)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===c.memoizedProps&&ot===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&ot===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=Ze),k.props=S,k.state=Ze,k.context=he,S=Ce):(typeof k.componentDidUpdate!="function"||$===c.memoizedProps&&ot===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&ot===c.memoizedState||(f.flags|=1024),S=!1)}return yv(c,f,y,S,T,w)}function yv(c,f,y,S,w,T){Pw(c,f);var k=(f.flags&128)!==0;if(!S&&!k)return w&&tf(f,y,!1),Ks(c,f,T);S=f.stateNode,Pk.current=f;var $=k&&typeof y.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,c!==null&&k?(f.child=du(f,c.child,null,T),f.child=du(f,null,$,T)):Mi(c,f,$,T),f.memoizedState=S.state,w&&tf(f,y,!0),f.child}function Lw(c){var f=c.stateNode;f.pendingContext?fi(c,f.pendingContext,f.pendingContext!==f.context):f.context&&fi(c,f.context,!1),rv(c,f.containerInfo)}function Iw(c,f,y,S,w){return hu(),iv(w),f.flags|=256,Mi(c,f,y,S),f.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Ap(c){return{baseLanes:c,cachePool:null}}function Dw(c,f,y){var S=f.pendingProps,w=cn.current,T=!1,k=(f.flags&128)!==0,$;if(($=k)||($=c!==null&&c.memoizedState===null?!1:(w&2)!==0),$?(T=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(w|=1),mt(cn,w&1),c===null)return nv(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?Bo(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(w=S.children,c=S.fallback,T?(S=f.mode,T=f.child,w={mode:"hidden",children:w},!(S&1)&&T!==null?(T.childLanes=0,T.pendingProps=w):T=Gp(w,S,0,null),c=Ja(c,S,y,null),T.return=f,c.return=f,T.sibling=c,f.child=T,f.child.memoizedState=Ap(y),f.memoizedState=Sp,c):vv(f,w));if(w=c.memoizedState,w!==null){if($=w.dehydrated,$!==null){if(k)return f.flags&256?(f.flags&=-257,Mp(c,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(T=S.fallback,w=f.mode,S=Gp({mode:"visible",children:S.children},w,0,null),T=Ja(T,w,y,null),T.flags|=2,S.return=f,T.return=f,S.sibling=T,f.child=S,f.mode&1&&du(f,c.child,null,y),f.child.memoizedState=Ap(y),f.memoizedState=Sp,T);if(!(f.mode&1))f=Mp(c,f,y,null);else if(Bo($))f=Mp(c,f,y,Error(o(419)));else if(S=(y&c.childLanes)!==0,tr||S){if(S=Pn,S!==null){switch(y&-y){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}S=T&(S.suspendedLanes|y)?0:T,S!==0&&S!==w.retryLane&&(w.retryLane=S,Cr(c,S,-1))}Ov(),f=Mp(c,f,y,Error(o(421)))}else Kd($)?(f.flags|=128,f.child=c.child,f=Vk.bind(null,c),Yd($,f),f=null):(y=w.treeContext,ve&&(er=ky($),qi=f,on=!0,$r=null,sf=!1,y!==null&&(Mr[Er++]=js,Mr[Er++]=Xs,Mr[Er++]=Ua,js=y.id,Xs=y.overflow,Ua=f)),f=vv(f,f.pendingProps.children),f.flags|=4096);return f}return T?(S=Nw(c,f,S.children,S.fallback,y),T=f.child,w=c.child.memoizedState,T.memoizedState=w===null?Ap(y):{baseLanes:w.baseLanes|y,cachePool:null},T.childLanes=c.childLanes&~y,f.memoizedState=Sp,S):(y=Fw(c,f,S.children,y),f.memoizedState=null,y)}return T?(S=Nw(c,f,S.children,S.fallback,y),T=f.child,w=c.child.memoizedState,T.memoizedState=w===null?Ap(y):{baseLanes:w.baseLanes|y,cachePool:null},T.childLanes=c.childLanes&~y,f.memoizedState=Sp,S):(y=Fw(c,f,S.children,y),f.memoizedState=null,y)}function vv(c,f){return f=Gp({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Fw(c,f,y,S){var w=c.child;return c=w.sibling,y=Uo(w,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=S),y.return=f,y.sibling=null,c!==null&&(S=f.deletions,S===null?(f.deletions=[c],f.flags|=16):S.push(c)),f.child=y}function Nw(c,f,y,S,w){var T=f.mode;c=c.child;var k=c.sibling,$={mode:"hidden",children:y};return!(T&1)&&f.child!==c?(y=f.child,y.childLanes=0,y.pendingProps=$,f.deletions=null):(y=Uo(c,$),y.subtreeFlags=c.subtreeFlags&14680064),k!==null?S=Uo(k,S):(S=Ja(S,T,w,null),S.flags|=2),S.return=f,y.return=f,y.sibling=S,f.child=y,S}function Mp(c,f,y,S){return S!==null&&iv(S),du(f,c.child,null,y),c=vv(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function kw(c,f,y){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),Yy(c.return,f,y)}function xv(c,f,y,S,w){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:w}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=S,T.tail=y,T.tailMode=w)}function Ow(c,f,y){var S=f.pendingProps,w=S.revealOrder,T=S.tail;if(Mi(c,f,S.children,y),S=cn.current,S&2)S=S&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&kw(c,y,f);else if(c.tag===19)kw(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(mt(cn,S),!(f.mode&1))f.memoizedState=null;else switch(w){case"forwards":for(y=f.child,w=null;y!==null;)c=y.alternate,c!==null&&fp(c)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),xv(f,!1,w,y,T);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(c=w.alternate,c!==null&&fp(c)===null){f.child=w;break}c=w.sibling,w.sibling=y,y=w,w=c}xv(f,!0,y,null,T);break;case"together":xv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ks(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),vu|=f.lanes,!(y&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,y=Uo(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=Uo(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Bk(c,f,y){switch(f.tag){case 3:Lw(f),hu();break;case 5:ew(f);break;case 1:_n(f.type)&&au(f);break;case 4:rv(f,f.stateNode.containerInfo);break;case 10:UE(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(mt(cn,cn.current&1),f.flags|=128,null):y&f.child.childLanes?Dw(c,f,y):(mt(cn,cn.current&1),c=Ks(c,f,y),c!==null?c.sibling:null);mt(cn,cn.current&1);break;case 19:if(S=(y&f.childLanes)!==0,c.flags&128){if(S)return Ow(c,f,y);f.flags|=128}var w=f.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(cn,cn.current),S)break;return null;case 22:case 23:return f.lanes=0,Rw(c,f,y)}return Ks(c,f,y)}function Lk(c,f){switch(ev(f),f.tag){case 1:return _n(f.type)&&Lo(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return mu(),Wt(Rn),Wt(Nn),av(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return sv(f),null;case 13:if(Wt(cn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));hu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Wt(cn),null;case 4:return mu(),null;case 10:return Ky(f.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var Ep=!1,Ga=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function wp(c,f){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Ui(c,f,S)}else y.current=null}function _v(c,f,y){try{y()}catch(S){Ui(c,f,S)}}var Uw=!1;function Dk(c,f){for(z(c.containerInfo),Oe=f;Oe!==null;)if(c=Oe,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,w=y.memoizedState,T=c.stateNode,k=T.getSnapshotBeforeUpdate(c.elementType===c.type?S:Yr(c.type,S),w);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:Ee&&Be(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($){Ui(c,c.return,$)}if(f=c.sibling,f!==null){f.return=c.return,Oe=f;break}Oe=c.return}return y=Uw,Uw=!1,y}function Va(c,f,y){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var w=S=S.next;do{if((w.tag&c)===c){var T=w.destroy;w.destroy=void 0,T!==void 0&&_v(f,y,T)}w=w.next}while(w!==S)}}function yf(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&c)===c){var S=y.create;y.destroy=S()}y=y.next}while(y!==f)}}function Sv(c){var f=c.ref;if(f!==null){var y=c.stateNode;switch(c.tag){case 5:c=ae(y);break;default:c=y}typeof f=="function"?f(c):f.current=c}}function Hw(c,f,y){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(ep,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var S=c=c.next;do{var w=S,T=w.destroy;w=w.tag,T!==void 0&&(w&2||w&4)&&_v(f,y,T),S=S.next}while(S!==c)}break;case 1:if(wp(f,y),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(k){Ui(f,y,k)}break;case 5:wp(f,y);break;case 4:Ee?Xw(c,f,y):G&&G&&(f=f.stateNode.containerInfo,y=pt(f),ui(f,y))}}function zw(c,f,y){for(var S=f;;)if(Hw(c,S,y),S.child===null||Ee&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function Gw(c){var f=c.alternate;f!==null&&(c.alternate=null,Gw(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Ge(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Vw(c){return c.tag===5||c.tag===3||c.tag===4}function Ww(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Vw(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function jw(c){if(Ee){e:{for(var f=c.return;f!==null;){if(Vw(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(be(f),y.flags&=-33),y=Ww(c),Mv(c,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=Ww(c),Av(c,y,f);break;default:throw Error(o(161))}}}function Av(c,f,y){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?tt(y,c,f):Je(y,c);else if(S!==4&&(c=c.child,c!==null))for(Av(c,f,y),c=c.sibling;c!==null;)Av(c,f,y),c=c.sibling}function Mv(c,f,y){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?et(y,c,f):Ie(y,c);else if(S!==4&&(c=c.child,c!==null))for(Mv(c,f,y),c=c.sibling;c!==null;)Mv(c,f,y),c=c.sibling}function Xw(c,f,y){for(var S=f,w=!1,T,k;;){if(!w){w=S.return;e:for(;;){if(w===null)throw Error(o(160));switch(T=w.stateNode,w.tag){case 5:k=!1;break e;case 3:T=T.containerInfo,k=!0;break e;case 4:T=T.containerInfo,k=!0;break e}w=w.return}w=!0}if(S.tag===5||S.tag===6)zw(c,S,y),k?le(T,S.stateNode):W(T,S.stateNode);else if(S.tag===18)k?st(T,S.stateNode):We(T,S.stateNode);else if(S.tag===4){if(S.child!==null){T=S.stateNode.containerInfo,k=!0,S.child.return=S,S=S.child;continue}}else if(Hw(c,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(w=!1)}S.sibling.return=S.return,S=S.sibling}}function Ev(c,f){if(Ee){switch(f.tag){case 0:case 11:case 14:case 15:Va(3,f,f.return),yf(3,f),Va(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var S=f.memoizedProps;c=c!==null?c.memoizedProps:S;var w=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&rt(y,T,w,c,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,Le(f.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:ve&&c!==null&&c.memoizedState.isDehydrated&&te(f.stateNode.containerInfo);return;case 12:return;case 13:Tp(f);return;case 19:Tp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Va(3,f,f.return),yf(3,f),Va(5,f,f.return);return;case 12:return;case 13:Tp(f);return;case 19:Tp(f);return;case 3:ve&&c!==null&&c.memoizedState.isDehydrated&&te(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(G){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,ui(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Tp(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new Ik),f.forEach(function(S){var w=Wk.bind(null,c,S);y.has(S)||(y.add(S),S.then(w,w))})}}function Fk(c,f){for(Oe=f;Oe!==null;){f=Oe;var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var w=y[S];try{var T=c;Ee?Xw(T,w,f):zw(T,w,f);var k=w.alternate;k!==null&&(k.return=null),w.return=null}catch(Qe){Ui(w,f,Qe)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,Oe=y;else for(;Oe!==null;){f=Oe;try{var $=f.flags;if($&32&&Ee&&be(f.stateNode),$&512){var he=f.alternate;if(he!==null){var Ce=he.ref;Ce!==null&&(typeof Ce=="function"?Ce(null):Ce.current=null)}}if($&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var je=f.alternate;(je===null||je.memoizedState===null)&&(Bv=Wn())}break;case 22:var yt=f.memoizedState!==null,ot=f.alternate,Yt=ot!==null&&ot.memoizedState!==null;if(y=f,Ee){e:if(S=y,w=yt,T=null,Ee)for(var Ze=S;;){if(Ze.tag===5){if(T===null){T=Ze;var mi=Ze.stateNode;w?Ke(mi):Re(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(T===null){var Rr=Ze.stateNode;w?X(Rr):oe(Rr,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===S)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===S)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===S)break e;T===Ze&&(T=null),Ze=Ze.return}T===Ze&&(T=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(yt&&!Yt&&y.mode&1){Oe=y;for(var ie=y.child;ie!==null;){for(y=Oe=ie;Oe!==null;){S=Oe;var q=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Va(4,S,S.return);break;case 1:wp(S,S.return);var ue=S.stateNode;if(typeof ue.componentWillUnmount=="function"){var He=S.return;try{ue.props=S.memoizedProps,ue.state=S.memoizedState,ue.componentWillUnmount()}catch(Qe){Ui(S,He,Qe)}}break;case 5:wp(S,S.return);break;case 22:if(S.memoizedState!==null){Yw(y);continue}}q!==null?(q.return=S,Oe=q):Yw(y)}ie=ie.sibling}}}switch($&4102){case 2:jw(f),f.flags&=-3;break;case 6:jw(f),f.flags&=-3,Ev(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Ev(f.alternate,f);break;case 4:Ev(f.alternate,f)}}catch(Qe){Ui(f,f.return,Qe)}if(y=f.sibling,y!==null){y.return=f.return,Oe=y;break}Oe=f.return}}}function Nk(c,f,y){Oe=c,Jw(c)}function Jw(c,f,y){for(var S=(c.mode&1)!==0;Oe!==null;){var w=Oe,T=w.child;if(w.tag===22&&S){var k=w.memoizedState!==null||Ep;if(!k){var $=w.alternate,he=$!==null&&$.memoizedState!==null||Ga;$=Ep;var Ce=Ga;if(Ep=k,(Ga=he)&&!Ce)for(Oe=w;Oe!==null;)k=Oe,he=k.child,k.tag===22&&k.memoizedState!==null?$w(w):he!==null?(he.return=k,Oe=he):$w(w);for(;T!==null;)Oe=T,Jw(T),T=T.sibling;Oe=w,Ep=$,Ga=Ce}Kw(c)}else w.subtreeFlags&8772&&T!==null?(T.return=w,Oe=T):Kw(c)}}function Kw(c){for(;Oe!==null;){var f=Oe;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ga||yf(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Ga)if(y===null)S.componentDidMount();else{var w=f.elementType===f.type?y.memoizedProps:Yr(f.type,y.memoizedProps);S.componentDidUpdate(w,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&GE(f,T,S);break;case 3:var k=f.updateQueue;if(k!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ae(f.child.stateNode);break;case 1:y=f.child.stateNode}GE(f,k,y)}break;case 5:var $=f.stateNode;y===null&&f.flags&4&&pe($,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&f.memoizedState===null){var he=f.alternate;if(he!==null){var Ce=he.memoizedState;if(Ce!==null){var je=Ce.dehydrated;je!==null&&ge(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ga||f.flags&512&&Sv(f)}catch(yt){Ui(f,f.return,yt)}}if(f===c){Oe=null;break}if(y=f.sibling,y!==null){y.return=f.return,Oe=y;break}Oe=f.return}}function Yw(c){for(;Oe!==null;){var f=Oe;if(f===c){Oe=null;break}var y=f.sibling;if(y!==null){y.return=f.return,Oe=y;break}Oe=f.return}}function $w(c){for(;Oe!==null;){var f=Oe;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{yf(4,f)}catch(he){Ui(f,y,he)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var w=f.return;try{S.componentDidMount()}catch(he){Ui(f,w,he)}}var T=f.return;try{Sv(f)}catch(he){Ui(f,T,he)}break;case 5:var k=f.return;try{Sv(f)}catch(he){Ui(f,k,he)}}}catch(he){Ui(f,f.return,he)}if(f===c){Oe=null;break}var $=f.sibling;if($!==null){$.return=f.return,Oe=$;break}Oe=f.return}}var Cp=0,bp=1,Rp=2,Pp=3,Bp=4;if(typeof Symbol=="function"&&Symbol.for){var vf=Symbol.for;Cp=vf("selector.component"),bp=vf("selector.has_pseudo_class"),Rp=vf("selector.role"),Pp=vf("selector.test_id"),Bp=vf("selector.text")}function wv(c){var f=ye(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=xt(c),c===null)throw Error(o(362));return c.stateNode.current}function Tv(c,f){switch(f.$$typeof){case Cp:if(c.type===f.value)return!0;break;case bp:e:{f=f.value,c=[c,0];for(var y=0;y<c.length;){var S=c[y++],w=c[y++],T=f[w];if(S.tag!==5||!D(S)){for(;T!=null&&Tv(S,T);)w++,T=f[w];if(w===f.length){f=!0;break e}else for(S=S.child;S!==null;)c.push(S,w),S=S.sibling}}f=!1}return f;case Rp:if(c.tag===5&&fe(c.stateNode,f.value))return!0;break;case Bp:if((c.tag===5||c.tag===6)&&(c=O(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Pp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Cv(c){switch(c.$$typeof){case Cp:return"<"+(B(c.value)||"Unknown")+">";case bp:return":has("+(Cv(c)||"")+")";case Rp:return'[role="'+c.value+'"]';case Bp:return'"'+c.value+'"';case Pp:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function Qw(c,f){var y=[];c=[c,0];for(var S=0;S<c.length;){var w=c[S++],T=c[S++],k=f[T];if(w.tag!==5||!D(w)){for(;k!=null&&Tv(w,k);)T++,k=f[T];if(T===f.length)y.push(w);else for(w=w.child;w!==null;)c.push(w,T),w=w.sibling}}return y}function bv(c,f){if(!it)throw Error(o(363));c=wv(c),c=Qw(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var S=c[y++];if(S.tag===5)D(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return f}var kk=Math.ceil,Lp=a.ReactCurrentDispatcher,Rv=a.ReactCurrentOwner,Tn=a.ReactCurrentBatchConfig,bt=0,Pn=null,Bn=null,qn=0,nr=0,yu=gt(0),kn=0,xf=null,vu=0,Ip=0,Pv=0,_f=null,ki=null,Bv=0,Lv=1/0;function xu(){Lv=Wn()+500}var Dp=!1,Iv=null,Fo=null,Fp=!1,No=null,Np=0,Sf=0,Dv=null,kp=-1,Op=0;function Ei(){return bt&6?Wn():kp!==-1?kp:kp=Wn()}function ko(c){return c.mode&1?bt&2&&qn!==0?qn&-qn:xk.transition!==null?(Op===0&&(c=Qd,Qd<<=1,!(Qd&4194240)&&(Qd=64),Op=c),Op):(c=kt,c!==0?c:xe()):1}function Cr(c,f,y){if(50<Sf)throw Sf=0,Dv=null,Error(o(185));var S=Up(c,f);return S===null?null:(rf(S,f,y),(!(bt&2)||S!==Pn)&&(S===Pn&&(!(bt&2)&&(Ip|=f),kn===4&&Oo(S,qn)),Oi(S,y),f===1&&bt===0&&!(c.mode&1)&&(xu(),tp&&_s())),S)}function Up(c,f){c.lanes|=f;var y=c.alternate;for(y!==null&&(y.lanes|=f),y=c,c=c.return;c!==null;)c.childLanes|=f,y=c.alternate,y!==null&&(y.childLanes|=f),y=c,c=c.return;return y.tag===3?y.stateNode:null}function Oi(c,f){var y=c.callbackNode;ck(c,f);var S=qd(c,c===Pn?qn:0);if(S===0)y!==null&&kE(y),c.callbackNode=null,c.callbackPriority=0;else if(f=S&-S,c.callbackPriority!==f){if(y!=null&&kE(y),f===1)c.tag===0?vk(qw.bind(null,c)):OE(qw.bind(null,c)),ke?ze(function(){bt===0&&_s()}):Gy(Vy,_s),y=null;else{switch(NE(S)){case 1:y=Vy;break;case 4:y=pk;break;case 16:y=Wy;break;case 536870912:y=mk;break;default:y=Wy}y=lT(y,Zw.bind(null,c))}c.callbackPriority=f,c.callbackNode=y}}function Zw(c,f){if(kp=-1,Op=0,bt&6)throw Error(o(327));var y=c.callbackNode;if(Xa()&&c.callbackNode!==y)return null;var S=qd(c,c===Pn?qn:0);if(S===0)return null;if(S&30||S&c.expiredLanes||f)f=Hp(c,S);else{f=S;var w=bt;bt|=2;var T=nT();(Pn!==c||qn!==f)&&(xu(),Wa(c,f));do try{Hk();break}catch($){tT(c,$)}while(1);Jy(),Lp.current=T,bt=w,Bn!==null?f=0:(Pn=null,qn=0,f=kn)}if(f!==0){if(f===2&&(w=Uy(c),w!==0&&(S=w,f=Fv(c,w))),f===1)throw y=xf,Wa(c,0),Oo(c,S),Oi(c,Wn()),y;if(f===6)Oo(c,S);else{if(w=c.current.alternate,!(S&30)&&!Ok(w)&&(f=Hp(c,S),f===2&&(T=Uy(c),T!==0&&(S=T,f=Fv(c,T))),f===1))throw y=xf,Wa(c,0),Oo(c,S),Oi(c,Wn()),y;switch(c.finishedWork=w,c.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:ja(c,ki);break;case 3:if(Oo(c,S),(S&130023424)===S&&(f=Bv+500-Wn(),10<f)){if(qd(c,0)!==0)break;if(w=c.suspendedLanes,(w&S)!==S){Ei(),c.pingedLanes|=c.suspendedLanes&w;break}c.timeoutHandle=Pe(ja.bind(null,c,ki),f);break}ja(c,ki);break;case 4:if(Oo(c,S),(S&4194240)===S)break;for(f=c.eventTimes,w=-1;0<S;){var k=31-Kr(S);T=1<<k,k=f[k],k>w&&(w=k),S&=~T}if(S=w,S=Wn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*kk(S/1960))-S,10<S){c.timeoutHandle=Pe(ja.bind(null,c,ki),S);break}ja(c,ki);break;case 5:ja(c,ki);break;default:throw Error(o(329))}}}return Oi(c,Wn()),c.callbackNode===y?Zw.bind(null,c):null}function Fv(c,f){var y=_f;return c.current.memoizedState.isDehydrated&&(Wa(c,f).flags|=256),c=Hp(c,f),c!==2&&(f=ki,ki=y,f!==null&&Nv(f)),c}function Nv(c){ki===null?ki=c:ki.push.apply(ki,c)}function Ok(c){for(var f=c;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var w=y[S],T=w.getSnapshot;w=w.value;try{if(!xs(T(),w))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Oo(c,f){for(f&=~Pv,f&=~Ip,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var y=31-Kr(f),S=1<<y;c[y]=-1,f&=~S}}function qw(c){if(bt&6)throw Error(o(327));Xa();var f=qd(c,0);if(!(f&1))return Oi(c,Wn()),null;var y=Hp(c,f);if(c.tag!==0&&y===2){var S=Uy(c);S!==0&&(f=S,y=Fv(c,S))}if(y===1)throw y=xf,Wa(c,0),Oo(c,f),Oi(c,Wn()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,ja(c,ki),Oi(c,Wn()),null}function eT(c){No!==null&&No.tag===0&&!(bt&6)&&Xa();var f=bt;bt|=1;var y=Tn.transition,S=kt;try{if(Tn.transition=null,kt=1,c)return c()}finally{kt=S,Tn.transition=y,bt=f,!(bt&6)&&_s()}}function kv(){nr=yu.current,Wt(yu)}function Wa(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==$e&&(c.timeoutHandle=$e,qe(y)),Bn!==null)for(y=Bn.return;y!==null;){var S=y;switch(ev(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Lo();break;case 3:mu(),Wt(Rn),Wt(Nn),av();break;case 5:sv(S);break;case 4:mu();break;case 13:Wt(cn);break;case 19:Wt(cn);break;case 10:Ky(S.type._context);break;case 22:case 23:kv()}y=y.return}if(Pn=c,Bn=c=Uo(c.current,null),qn=nr=f,kn=0,xf=null,Pv=Ip=vu=0,ki=_f=null,Ss!==null){for(f=0;f<Ss.length;f++)if(y=Ss[f],S=y.interleaved,S!==null){y.interleaved=null;var w=S.next,T=y.pending;if(T!==null){var k=T.next;T.next=w,S.next=k}y.pending=S}Ss=null}return c}function tT(c,f){do{var y=Bn;try{if(Jy(),hp.current=vp,dp){for(var S=Sn.memoizedState;S!==null;){var w=S.queue;w!==null&&(w.pending=null),S=S.next}dp=!1}if(gu=0,jn=hi=Sn=null,cf=!1,ff=0,Rv.current=null,y===null||y.return===null){kn=1,xf=f,Bn=null;break}e:{var T=c,k=y.return,$=y,he=f;if(f=qn,$.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ce=he,je=$,yt=je.tag;if(!(je.mode&1)&&(yt===0||yt===11||yt===15)){var ot=je.alternate;ot?(je.updateQueue=ot.updateQueue,je.memoizedState=ot.memoizedState,je.lanes=ot.lanes):(je.updateQueue=null,je.memoizedState=null)}var Yt=Aw(k);if(Yt!==null){Yt.flags&=-257,Mw(Yt,k,$,T,f),Yt.mode&1&&Sw(T,Ce,f),f=Yt,he=Ce;var Ze=f.updateQueue;if(Ze===null){var mi=new Set;mi.add(he),f.updateQueue=mi}else Ze.add(he);break e}else{if(!(f&1)){Sw(T,Ce,f),Ov();break e}he=Error(o(426))}}else if(on&&$.mode&1){var Rr=Aw(k);if(Rr!==null){!(Rr.flags&65536)&&(Rr.flags|=256),Mw(Rr,k,$,T,f),iv(he);break e}}T=he,kn!==4&&(kn=2),_f===null?_f=[T]:_f.push(T),he=pv(he,$),$=k;do{switch($.tag){case 3:$.flags|=65536,f&=-f,$.lanes|=f;var ie=xw($,he,f);zE($,ie);break e;case 1:T=he;var q=$.type,ue=$.stateNode;if(!($.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Fo===null||!Fo.has(ue)))){$.flags|=65536,f&=-f,$.lanes|=f;var He=_w($,T,f);zE($,He);break e}}$=$.return}while($!==null)}rT(y)}catch(Qe){f=Qe,Bn===y&&y!==null&&(Bn=y=y.return);continue}break}while(1)}function nT(){var c=Lp.current;return Lp.current=vp,c===null?vp:c}function Ov(){(kn===0||kn===3||kn===2)&&(kn=4),Pn===null||!(vu&268435455)&&!(Ip&268435455)||Oo(Pn,qn)}function Hp(c,f){var y=bt;bt|=2;var S=nT();Pn===c&&qn===f||Wa(c,f);do try{Uk();break}catch(w){tT(c,w)}while(1);if(Jy(),bt=y,Lp.current=S,Bn!==null)throw Error(o(261));return Pn=null,qn=0,kn}function Uk(){for(;Bn!==null;)iT(Bn)}function Hk(){for(;Bn!==null&&!hk();)iT(Bn)}function iT(c){var f=aT(c.alternate,c,nr);c.memoizedProps=c.pendingProps,f===null?rT(c):Bn=f,Rv.current=null}function rT(c){var f=c;do{var y=f.alternate;if(c=f.return,f.flags&32768){if(y=Lk(y,f),y!==null){y.flags&=32767,Bn=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{kn=6,Bn=null;return}}else if(y=Rk(y,f,nr),y!==null){Bn=y;return}if(f=f.sibling,f!==null){Bn=f;return}Bn=f=c}while(f!==null);kn===0&&(kn=5)}function ja(c,f){var y=kt,S=Tn.transition;try{Tn.transition=null,kt=1,zk(c,f,y)}finally{Tn.transition=S,kt=y}return null}function zk(c,f,y){do Xa();while(No!==null);if(bt&6)throw Error(o(327));var S=c.finishedWork,w=c.finishedLanes;if(S===null)return null;if(c.finishedWork=null,c.finishedLanes=0,S===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var T=S.lanes|S.childLanes;if(fk(c,T),c===Pn&&(Bn=Pn=null,qn=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||Fp||(Fp=!0,lT(Wy,function(){return Xa(),null})),T=(S.flags&15990)!==0,S.subtreeFlags&15990||T){T=Tn.transition,Tn.transition=null;var k=kt;kt=1;var $=bt;bt|=4,Rv.current=null,Dk(c,S),Fk(c,S),U(c.containerInfo),c.current=S,Nk(S),dk(),bt=$,kt=k,Tn.transition=T}else c.current=S;if(Fp&&(Fp=!1,No=c,Np=w),T=c.pendingLanes,T===0&&(Fo=null),gk(S.stateNode),Oi(c,Wn()),f!==null)for(y=c.onRecoverableError,S=0;S<f.length;S++)y(f[S]);if(Dp)throw Dp=!1,c=Iv,Iv=null,c;return Np&1&&c.tag!==0&&Xa(),T=c.pendingLanes,T&1?c===Dv?Sf++:(Sf=0,Dv=c):Sf=0,_s(),null}function Xa(){if(No!==null){var c=NE(Np),f=Tn.transition,y=kt;try{if(Tn.transition=null,kt=16>c?16:c,No===null)var S=!1;else{if(c=No,No=null,Np=0,bt&6)throw Error(o(331));var w=bt;for(bt|=4,Oe=c.current;Oe!==null;){var T=Oe,k=T.child;if(Oe.flags&16){var $=T.deletions;if($!==null){for(var he=0;he<$.length;he++){var Ce=$[he];for(Oe=Ce;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:Va(8,je,T)}var yt=je.child;if(yt!==null)yt.return=je,Oe=yt;else for(;Oe!==null;){je=Oe;var ot=je.sibling,Yt=je.return;if(Gw(je),je===Ce){Oe=null;break}if(ot!==null){ot.return=Yt,Oe=ot;break}Oe=Yt}}}var Ze=T.alternate;if(Ze!==null){var mi=Ze.child;if(mi!==null){Ze.child=null;do{var Rr=mi.sibling;mi.sibling=null,mi=Rr}while(mi!==null)}}Oe=T}}if(T.subtreeFlags&2064&&k!==null)k.return=T,Oe=k;else e:for(;Oe!==null;){if(T=Oe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Va(9,T,T.return)}var ie=T.sibling;if(ie!==null){ie.return=T.return,Oe=ie;break e}Oe=T.return}}var q=c.current;for(Oe=q;Oe!==null;){k=Oe;var ue=k.child;if(k.subtreeFlags&2064&&ue!==null)ue.return=k,Oe=ue;else e:for(k=q;Oe!==null;){if($=Oe,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:yf(9,$)}}catch(Qe){Ui($,$.return,Qe)}if($===k){Oe=null;break e}var He=$.sibling;if(He!==null){He.return=$.return,Oe=He;break e}Oe=$.return}}if(bt=w,_s(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(ep,c)}catch{}S=!0}return S}finally{kt=y,Tn.transition=f}}return!1}function sT(c,f,y){f=pv(y,f),f=xw(c,f,1),Do(c,f),f=Ei(),c=Up(c,1),c!==null&&(rf(c,1,f),Oi(c,f))}function Ui(c,f,y){if(c.tag===3)sT(c,c,y);else for(;f!==null;){if(f.tag===3){sT(f,c,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Fo===null||!Fo.has(S))){c=pv(y,c),c=_w(f,c,1),Do(f,c),c=Ei(),f=Up(f,1),f!==null&&(rf(f,1,c),Oi(f,c));break}}f=f.return}}function Gk(c,f,y){var S=c.pingCache;S!==null&&S.delete(f),f=Ei(),c.pingedLanes|=c.suspendedLanes&y,Pn===c&&(qn&y)===y&&(kn===4||kn===3&&(qn&130023424)===qn&&500>Wn()-Bv?Wa(c,0):Pv|=y),Oi(c,f)}function oT(c,f){f===0&&(c.mode&1?(f=Zd,Zd<<=1,!(Zd&130023424)&&(Zd=4194304)):f=1);var y=Ei();c=Up(c,f),c!==null&&(rf(c,f,y),Oi(c,y))}function Vk(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),oT(c,y)}function Wk(c,f){var y=0;switch(c.tag){case 13:var S=c.stateNode,w=c.memoizedState;w!==null&&(y=w.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),oT(c,y)}var aT;aT=function(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps||Rn.current)tr=!0;else{if(!(c.lanes&y)&&!(f.flags&128))return tr=!1,Bk(c,f,y);tr=!!(c.flags&131072)}else tr=!1,on&&f.flags&1048576&&JE(f,up,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var w=xn(f,Nn.current);uu(f,y),w=uv(null,f,S,c,w,y);var T=cv();return f.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,_n(S)?(T=!0,au(f)):T=!1,f.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,$y(f),w.updater=ap,f.stateNode=w,w._reactInternals=f,Zy(f,S,c,y),f=yv(null,f,S,!0,T,y)):(f.tag=0,on&&T&&qy(f),Mi(null,f,w,y),f=f.child),f;case 16:S=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,w=S._init,S=w(S._payload),f.type=S,w=f.tag=Xk(S),c=Yr(S,c),w){case 0:f=gv(null,f,S,c,y);break e;case 1:f=Bw(null,f,S,c,y);break e;case 11:f=Tw(null,f,S,c,y);break e;case 14:f=Cw(null,f,S,Yr(S.type,c),y);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Yr(S,w),gv(c,f,S,w,y);case 1:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Yr(S,w),Bw(c,f,S,w,y);case 3:e:{if(Lw(f),c===null)throw Error(o(387));S=f.pendingProps,T=f.memoizedState,w=T.element,HE(c,f),op(f,S,null,y);var k=f.memoizedState;if(S=k.element,ve&&T.isDehydrated)if(T={element:S,isDehydrated:!1,cache:k.cache,transitions:k.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){w=Error(o(423)),f=Iw(c,f,S,y,w);break e}else if(S!==w){w=Error(o(424)),f=Iw(c,f,S,y,w);break e}else for(ve&&(er=Ny(f.stateNode.containerInfo),qi=f,on=!0,$r=null,sf=!1),y=qE(f,null,S,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(hu(),S===w){f=Ks(c,f,y);break e}Mi(c,f,S,y)}f=f.child}return f;case 5:return ew(f),c===null&&nv(f),S=f.type,w=f.pendingProps,T=c!==null?c.memoizedProps:null,k=w.children,Ae(S,w)?k=null:T!==null&&Ae(S,T)&&(f.flags|=32),Pw(c,f),Mi(c,f,k,y),f.child;case 6:return c===null&&nv(f),null;case 13:return Dw(c,f,y);case 4:return rv(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=du(f,null,S,y):Mi(c,f,S,y),f.child;case 11:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Yr(S,w),Tw(c,f,S,w,y);case 7:return Mi(c,f,f.pendingProps,y),f.child;case 8:return Mi(c,f,f.pendingProps.children,y),f.child;case 12:return Mi(c,f,f.pendingProps.children,y),f.child;case 10:e:{if(S=f.type._context,w=f.pendingProps,T=f.memoizedProps,k=w.value,UE(f,S,k),T!==null)if(xs(T.value,k)){if(T.children===w.children&&!Rn.current){f=Ks(c,f,y);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var $=T.dependencies;if($!==null){k=T.child;for(var he=$.firstContext;he!==null;){if(he.context===S){if(T.tag===1){he=Ws(-1,y&-y),he.tag=2;var Ce=T.updateQueue;if(Ce!==null){Ce=Ce.shared;var je=Ce.pending;je===null?he.next=he:(he.next=je.next,je.next=he),Ce.pending=he}}T.lanes|=y,he=T.alternate,he!==null&&(he.lanes|=y),Yy(T.return,y,f),$.lanes|=y;break}he=he.next}}else if(T.tag===10)k=T.type===f.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(o(341));k.lanes|=y,$=k.alternate,$!==null&&($.lanes|=y),Yy(k,y,f),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===f){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}Mi(c,f,w.children,y),f=f.child}return f;case 9:return w=f.type,S=f.pendingProps.children,uu(f,y),w=Ar(w),S=S(w),f.flags|=1,Mi(c,f,S,y),f.child;case 14:return S=f.type,w=Yr(S,f.pendingProps),w=Yr(S.type,w),Cw(c,f,S,w,y);case 15:return bw(c,f,f.type,f.pendingProps,y);case 17:return S=f.type,w=f.pendingProps,w=f.elementType===S?w:Yr(S,w),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,_n(S)?(c=!0,au(f)):c=!1,uu(f,y),jE(f,S,w),Zy(f,S,w,y),yv(null,f,S,!0,c,y);case 19:return Ow(c,f,y);case 22:return Rw(c,f,y)}throw Error(o(156,f.tag))};function lT(c,f){return Gy(c,f)}function jk(c,f,y,S){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(c,f,y,S){return new jk(c,f,y,S)}function Uv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Xk(c){if(typeof c=="function")return Uv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===M)return 11;if(c===_)return 14}return 2}function Uo(c,f){var y=c.alternate;return y===null?(y=br(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function zp(c,f,y,S,w,T){var k=2;if(S=c,typeof c=="function")Uv(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case h:return Ja(y.children,w,T,f);case d:k=8,w|=8;break;case p:return c=br(12,y,f,w|2),c.elementType=p,c.lanes=T,c;case x:return c=br(13,y,f,w),c.elementType=x,c.lanes=T,c;case g:return c=br(19,y,f,w),c.elementType=g,c.lanes=T,c;case E:return Gp(y,w,T,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:k=10;break e;case v:k=9;break e;case M:k=11;break e;case _:k=14;break e;case A:k=16,S=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=br(k,y,f,w),f.elementType=c,f.type=S,f.lanes=T,f}function Ja(c,f,y,S){return c=br(7,c,S,f),c.lanes=y,c}function Gp(c,f,y,S){return c=br(22,c,S,f),c.elementType=E,c.lanes=y,c.stateNode={},c}function Hv(c,f,y){return c=br(6,c,null,f),c.lanes=y,c}function zv(c,f,y){return f=br(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function Jk(c,f,y,S,w){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hy(0),this.expirationTimes=Hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hy(0),this.identifierPrefix=S,this.onRecoverableError=w,ve&&(this.mutableSourceEagerHydrationData=null)}function uT(c,f,y,S,w,T,k,$,he){return c=new Jk(c,f,y,$,he),f===1?(f=1,T===!0&&(f|=8)):f=0,T=br(3,null,null,f),c.current=T,T.stateNode=c,T.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},$y(T),c}function cT(c){if(!c)return ci;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(_n(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(_n(y))return ou(c,y,f)}return f}function fT(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=ee(f),c===null?null:c.stateNode}function hT(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Gv(c,f){hT(c,f),(c=c.alternate)&&hT(c,f)}function Kk(c){return c=ee(c),c===null?null:c.stateNode}function Yk(){return null}return n.attemptContinuousHydration=function(c){if(c.tag===13){var f=Ei();Cr(c,134217728,f),Gv(c,134217728)}},n.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Ei(),y=ko(c);Cr(c,y,f),Gv(c,y)}},n.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var y=nf(f.pendingLanes);y!==0&&(zy(f,y|1),Oi(f,Wn()),!(bt&6)&&(xu(),_s()))}break;case 13:var S=Ei();eT(function(){return Cr(c,1,S)}),Gv(c,1)}},n.batchedUpdates=function(c,f){var y=bt;bt|=1;try{return c(f)}finally{bt=y,bt===0&&(xu(),tp&&_s())}},n.createComponentSelector=function(c){return{$$typeof:Cp,value:c}},n.createContainer=function(c,f,y,S,w,T,k){return uT(c,f,!1,null,y,S,w,T,k)},n.createHasPseudoClassSelector=function(c){return{$$typeof:bp,value:c}},n.createHydrationContainer=function(c,f,y,S,w,T,k,$,he){return c=uT(y,S,!0,c,w,T,k,$,he),c.context=cT(null),y=c.current,S=Ei(),w=ko(y),T=Ws(S,w),T.callback=f??null,Do(y,T),c.current.lanes=w,rf(c,w,S),Oi(c,S),c},n.createPortal=function(c,f,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:c,containerInfo:f,implementation:y}},n.createRoleSelector=function(c){return{$$typeof:Rp,value:c}},n.createTestNameSelector=function(c){return{$$typeof:Pp,value:c}},n.createTextSelector=function(c){return{$$typeof:Bp,value:c}},n.deferredUpdates=function(c){var f=kt,y=Tn.transition;try{return Tn.transition=null,kt=16,c()}finally{kt=f,Tn.transition=y}},n.discreteUpdates=function(c,f,y,S,w){var T=kt,k=Tn.transition;try{return Tn.transition=null,kt=1,c(f,y,S,w)}finally{kt=T,Tn.transition=k,bt===0&&xu()}},n.findAllNodes=bv,n.findBoundingRects=function(c,f){if(!it)throw Error(o(363));f=bv(c,f),c=[];for(var y=0;y<f.length;y++)c.push(Gt(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var S=y.x,w=S+y.width,T=y.y,k=T+y.height,$=f-1;0<=$;$--)if(f!==$){var he=c[$],Ce=he.x,je=Ce+he.width,yt=he.y,ot=yt+he.height;if(S>=Ce&&T>=yt&&w<=je&&k<=ot){c.splice(f,1);break}else if(S!==Ce||y.width!==he.width||ot<T||yt>k){if(!(T!==yt||y.height!==he.height||je<S||Ce>w)){Ce>S&&(he.width+=Ce-S,he.x=S),je<w&&(he.width=w-Ce),c.splice(f,1);break}}else{yt>T&&(he.height+=yt-T,he.y=T),ot<k&&(he.height=k-yt),c.splice(f,1);break}}}return c},n.findHostInstance=fT,n.findHostInstanceWithNoPortals=function(c){return c=H(c),c=c!==null?Q(c):null,c===null?null:c.stateNode},n.findHostInstanceWithWarning=function(c){return fT(c)},n.flushControlled=function(c){var f=bt;bt|=1;var y=Tn.transition,S=kt;try{Tn.transition=null,kt=1,c()}finally{kt=S,Tn.transition=y,bt=f,bt===0&&(xu(),_s())}},n.flushPassiveEffects=Xa,n.flushSync=eT,n.focusWithin=function(c,f){if(!it)throw Error(o(363));for(c=wv(c),f=Qw(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++];if(!D(y)){if(y.tag===5&&Me(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},n.getCurrentUpdatePriority=function(){return kt},n.getFindAllNodesFailureDescription=function(c,f){if(!it)throw Error(o(363));var y=0,S=[];c=[wv(c),0];for(var w=0;w<c.length;){var T=c[w++],k=c[w++],$=f[k];if((T.tag!==5||!D(T))&&(Tv(T,$)&&(S.push(Cv($)),k++,k>y&&(y=k)),k<f.length))for(T=T.child;T!==null;)c.push(T,k),T=T.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(Cv(f[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},n.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ae(c.child.stateNode);default:return c.child.stateNode}},n.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Kk,findFiberByHostInstance:c.findFiberByHostInstance||Yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{ep=f.inject(c),vs=f}catch{}c=!!f.checkDCE}}return c},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(c,f,y,S){if(!it)throw Error(o(363));c=bv(c,f);var w=Se(c,y,S).disconnect;return{disconnect:function(){w()}}},n.registerMutableSourceForHydration=function(c,f){var y=f._getVersion;y=y(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,y]:c.mutableSourceEagerHydrationData.push(f,y)},n.runWithPriority=function(c,f){var y=kt;try{return kt=c,f()}finally{kt=y}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(c,f,y,S){var w=f.current,T=Ei(),k=ko(w);return y=cT(y),f.context===null?f.context=y:f.pendingContext=y,f=Ws(T,k),f.payload={element:c},S=S===void 0?null:S,S!==null&&(f.callback=S),Do(w,f),c=Cr(w,k,T),c!==null&&sp(c,w,k),k},n};iF.exports=YW;var $W=iF.exports;const QW=YS($W);var rF={exports:{}},sF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,z){var U=I.length;I.push(z);e:for(;0<U;){var Z=U-1>>>1,V=I[Z];if(0<r(V,z))I[Z]=z,I[U]=V,U=Z;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var z=I[0],U=I.pop();if(U!==z){I[0]=U;e:for(var Z=0,V=I.length,se=V>>>1;Z<se;){var ce=2*(Z+1)-1,Ae=I[ce],_e=ce+1,Pe=I[_e];if(0>r(Ae,U))_e<V&&0>r(Pe,Ae)?(I[Z]=Pe,I[_e]=U,Z=_e):(I[Z]=Ae,I[ce]=U,Z=ce);else if(_e<V&&0>r(Pe,U))I[Z]=Pe,I[_e]=U,Z=_e;else break e}}return z}function r(I,z){var U=I.sortIndex-z.sortIndex;return U!==0?U:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,v=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(I){for(var z=n(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=I)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function E(I){if(M=!1,A(I),!v)if(n(l)!==null)v=!0,ae(C);else{var z=n(u);z!==null&&ne(E,z.startTime-I)}}function C(I,z){v=!1,M&&(M=!1,g(L),L=-1),m=!0;var U=p;try{for(A(z),d=n(l);d!==null&&(!(d.expirationTime>z)||I&&!H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var V=Z(d.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&i(l),A(z)}else i(l);d=n(l)}if(d!==null)var se=!0;else{var ce=n(u);ce!==null&&ne(E,ce.startTime-z),se=!1}return se}finally{d=null,p=U,m=!1}}var b=!1,B=null,L=-1,R=5,P=-1;function H(){return!(t.unstable_now()-P<R)}function ee(){if(B!==null){var I=t.unstable_now();P=I;var z=!0;try{z=B(!0,I)}finally{z?K():(b=!1,B=null)}}else b=!1}var K;if(typeof _=="function")K=function(){_(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=ee,K=function(){Y.postMessage(null)}}else K=function(){x(ee,0)};function ae(I){B=I,b||(b=!0,K())}function ne(I,z){L=x(function(){I(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var U=p;p=z;try{return I()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return z()}finally{p=U}},t.unstable_scheduleCallback=function(I,z,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,I={id:h++,callback:z,priorityLevel:I,startTime:U,expirationTime:V,sortIndex:-1},U>Z?(I.sortIndex=U,e(u,I),n(l)===null&&I===n(u)&&(M?(g(L),L=-1):M=!0,ne(E,U-Z))):(I.sortIndex=V,e(l,I),v||m||(v=!0,ae(C))),I},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(I){var z=p;return function(){var U=p;p=z;try{return I.apply(this,arguments)}finally{p=U}}}})(sF);rF.exports=sF;var iR=rF.exports;const ZW=t=>typeof t=="object"&&typeof t.then=="function",Tl=[];function oF(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function aF(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Tl)if(oF(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Tl.indexOf(r);s!==-1&&Tl.splice(s,1)},promise:(ZW(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Tl.push(r),!n)throw r.promise}const qW=(t,e,n)=>aF(t,e,!1,n),e6=(t,e,n)=>void aF(t,e,!0,n),t6=t=>{if(t===void 0||t.length===0)Tl.splice(0,Tl.length);else{const e=Tl.find(n=>oF(t,n.keys,n.equal));e&&e.remove()}},GM={},n6=t=>void Object.assign(GM,t);function i6(t,e){function n(h,{args:d=[],attach:p,...m},v){let M=`${h[0].toUpperCase()}${h.slice(1)}`,x;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=ju(g,{type:h,root:v,attach:p,primitive:!0})}else{const g=GM[M];if(!g)throw new Error(`R3F: ${M} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=ju(new g(...d),{type:h,root:v,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof At?x.__r3f.attach="geometry":x instanceof Fn&&(x.__r3f.attach="material")),M!=="inject"&&qx(x,m),x}function i(h,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?Zx(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||ju(d,{}),d.__r3f.parent=h,gS(d),Xu(d)}}function r(h,d,p){let m=!1;if(d){var v,M;if((v=d.__r3f)!=null&&v.attach)Zx(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:d});const x=h.children.filter(_=>_!==d),g=x.indexOf(p);h.children=[...x.slice(0,g),d,...x.slice(g)],m=!0}m||(M=h.__r3f)==null||M.objects.push(d),d.__r3f||ju(d,{}),d.__r3f.parent=h,gS(d),Xu(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,v,M;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)lR(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var x;h.remove(d),(x=d.__r3f)!=null&&x.root&&h6(Cg(d),d)}const _=(M=d.__r3f)==null?void 0:M.primitive,A=!_&&(p===void 0?d.dispose!==null:p);if(!_){var g;s((g=d.__r3f)==null?void 0:g.objects,d,A),s(d.children,d,A)}if(delete d.__r3f,A&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?iR.unstable_scheduleCallback(iR.unstable_IdlePriority,E):E()}Xu(h)}}function a(h,d,p,m){var v;const M=(v=h.__r3f)==null?void 0:v.parent;if(!M)return;const x=n(d,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&i(x,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>i(x,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(M,h),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(M,x),x.raycast&&x.__r3f.eventCount&&Cg(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:QW({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:x=[],children:g,..._}=m,{args:A=[],children:E,...C}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((B,L)=>B!==A[L]))return[!0];const b=pF(h,_,C,!0);return b.changes.length?[!1,b]:null}},commitUpdate(h,[d,p],m,v,M,x){d?a(h,m,M,x):qx(h,p)},commitMount(h,d,p,m){var v;const M=(v=h.__r3f)!=null?v:{};h.raycast&&M.handlers&&M.eventCount&&Cg(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>ju(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&lR(m,h,p),h.isObject3D&&(h.visible=!1),Xu(h)},unhideInstance(h,d){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&Zx(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),Xu(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():cc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&$t.fun(performance.now)?performance.now:$t.fun(Date.now)?Date.now:()=>0,scheduleTimeout:$t.fun(setTimeout)?setTimeout:void 0,cancelTimeout:$t.fun(clearTimeout)?clearTimeout:void 0}),applyProps:qx}}var rR,sR;const Qx=t=>"colorSpace"in t||"outputColorSpace"in t,lF=()=>{var t;return(t=GM.ColorManagement)!=null?t:null},uF=t=>t&&t.isOrthographicCamera,r6=t=>t&&t.hasOwnProperty("current"),Fd=typeof window<"u"&&((rR=window.document)!=null&&rR.createElement||((sR=window.navigator)==null?void 0:sR.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function cF(t){const e=j.useRef(t);return Fd(()=>void(e.current=t),[t]),e}function s6({set:t}){return Fd(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class fF extends j.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fF.getDerivedStateFromError=()=>({error:!0});const hF="__default",oR=new Map,o6=t=>t&&!!t.memoized&&!!t.changes;function dF(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Hf=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Cg(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const $t={obj:t=>t===Object(t)&&!$t.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if($t.str(t)||$t.num(t)||$t.boo(t))return t===e;const s=$t.obj(t);if(s&&i==="reference")return t===e;const o=$t.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!$t.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if($t.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function a6(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function l6(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function ju(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function mS(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const aR=/-\d+$/;function Zx(t,e,n){if($t.str(n)){if(aR.test(n)){const s=n.replace(aR,""),{target:o,key:a}=mS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=mS(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function lR(t,e,n){var i,r;if($t.str(n)){const{target:s,key:o}=mS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function pF(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){const h=t.__r3f,d=Object.entries(r),p=[];if(u){const v=Object.keys(l);for(let M=0;M<v.length;M++)r.hasOwnProperty(v[M])||d.unshift([v[M],hF+"remove"])}d.forEach(([v,M])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&v==="object"||$t.equ(M,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,M,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,M,!1,g]);for(const _ in r){const A=r[_];_.startsWith(`${v}-`)&&p.push([_,A,!1,_.split("-")])}});const m={...r};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}const u6=typeof process<"u"&&!1;function qx(t,e){var n;const i=t.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=o6(e)?e:pF(t,e),l=i==null?void 0:i.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[d,p,m,v]=a[h];if(Qx(t)){const _="srgb",A="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?_:A):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?_:A)}let M=t,x=M[d];if(v.length&&(x=v.reduce((g,_)=>g[_],t),!(x&&x.set))){const[g,..._]=v.reverse();M=_.reverse().reduce((A,E)=>A[E],t),d=g}if(p===hF+"remove")if(M.constructor){let g=oR.get(M.constructor);g||(g=new M.constructor,oR.set(M.constructor,g)),p=g[d]}else p=0;if(m&&i)p?i.handlers[d]=p:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Nl)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&(u6?x.constructor.name===p.constructor.name:x.constructor===p.constructor))x.copy(p);else if(p!==void 0){const g=x instanceof Ne;!g&&x.setScalar?x.setScalar(p):x instanceof Nl&&p instanceof Nl?x.mask=p.mask:x.set(p),!lF()&&s&&!s.linear&&g&&x.convertSRGBToLinear()}}else if(M[d]=p,M[d]instanceof un&&M[d].format===ji&&M[d].type===Ns&&s){const g=M[d];Qx(g)&&Qx(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}Xu(t)}if(i&&i.parent&&t.raycast&&l!==i.eventCount){const h=Cg(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),i.eventCount&&h.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&gS(t),t}function Xu(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function gS(t){t.onUpdate==null||t.onUpdate(t)}function c6(t,e){t.manual||(uF(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Jm(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function f6(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return cc.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cc.ContinuousEventPriority;default:return cc.DefaultEventPriority}}function mF(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function h6(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{mF(n.capturedMap,e,i,r)})}function d6(t){function e(l){const{internal:u}=t.getState(),h=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,u){const h=t.getState(),d=new Set,p=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const _=Hf(m[g]);_&&(_.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const _=Hf(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var A;_.events.compute==null||_.events.compute(l,_,(A=_.previousRoot)==null?void 0:A.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let M=m.flatMap(v).sort((g,_)=>{const A=Hf(g.object),E=Hf(_.object);return!A||!E?g.distance-_.distance:E.events.priority-A.events.priority||g.distance-_.distance}).filter(g=>{const _=Jm(g);return d.has(_)?!1:(d.add(_),!0)});h.events.filter&&(M=h.events.filter(M,h));for(const g of M){let _=g.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(Jm(g.intersection))||p.push(g.intersection);return p}function r(l,u,h,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const M=Hf(v.object)||p,{raycaster:x,pointer:g,camera:_,internal:A}=M,E=new F(g.x,g.y,0).unproject(_),C=P=>{var H,ee;return(H=(ee=A.capturedMap.get(P))==null?void 0:ee.has(v.eventObject))!=null?H:!1},b=P=>{const H={intersection:v,target:u.target};A.capturedMap.has(P)?A.capturedMap.get(P).set(v.eventObject,H):A.capturedMap.set(P,new Map([[v.eventObject,H]])),u.target.setPointerCapture(P)},B=P=>{const H=A.capturedMap.get(P);H&&mF(A.capturedMap,v.eventObject,H,P)};let L={};for(let P in u){let H=u[P];typeof H!="function"&&(L[P]=H)}let R={...v,...L,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:E,ray:x.ray,camera:_,stopPropagation(){const P="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!P||P.has(v.eventObject))&&(R.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(H=>H.eventObject===v.eventObject))){const H=l.slice(0,l.indexOf(v));s([...H,v])}},target:{hasPointerCapture:C,setPointerCapture:b,releasePointerCapture:B},currentTarget:{hasPointerCapture:C,setPointerCapture:b,releasePointerCapture:B},nativeEvent:u};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Jm(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let h=0;h<u.length;h++){const d=u[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(h,m?n:void 0),g=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=x.map(A=>A.eventObject)),v&&!x.length&&g<=2&&(o(h,p.interaction),d&&d(h)),m&&s(x);function _(A){const E=A.eventObject,C=E.__r3f,b=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const B=Jm(A),L=p.hovered.get(B);L?L.stopped&&A.stopPropagation():(p.hovered.set(B,A),b.onPointerOver==null||b.onPointerOver(A),b.onPointerEnter==null||b.onPointerEnter(A))}b.onPointerMove==null||b.onPointerMove(A)}else{const B=b[l];B?(!v||p.initialHits.includes(E))&&(o(h,p.interaction.filter(L=>!p.initialHits.includes(L))),B(A)):v&&p.initialHits.includes(E)&&o(h,p.interaction.filter(L=>!p.initialHits.includes(L)))}}r(x,h,g,_)}}return{handlePointer:a}}const gF=t=>!!(t!=null&&t.render),yF=j.createContext(null),p6=(t,e)=>{const n=nF((a,l)=>{const u=new F,h=new F,d=new F;function p(g=l().camera,_=h,A=l().size){const{width:E,height:C,top:b,left:B}=A,L=E/C;_ instanceof F?d.copy(_):d.set(..._);const R=g.getWorldPosition(u).distanceTo(d);if(uF(g))return{width:E/g.zoom,height:C/g.zoom,top:b,left:B,factor:1,distance:R,aspect:L};{const P=g.fov*Math.PI/180,H=2*Math.tan(P/2)*R,ee=H*(E/C);return{width:ee,height:H,top:b,left:B,factor:E/ee,distance:R,aspect:L}}}let m;const v=g=>a(_=>({performance:{..._.performance,current:g}})),M=new me;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new OM,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,A,E,C)=>{const b=l().camera,B={width:g,height:_,top:E||0,left:C||0,updateStyle:A};a(L=>({size:B,viewport:{...L.viewport,...p(b,h,B)}}))},setDpr:g=>a(_=>{const A=dF(g);return{viewport:{..._.viewport,dpr:A,initialDpr:_.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:j.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,A)=>{const E=l().internal;return E.priority=E.priority+(_>0?1:0),E.subscribers.push({ref:g,priority:_,store:A}),E.subscribers=E.subscribers.sort((C,b)=>C.priority-b.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(b=>b.ref!==g))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:d}=n.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){var p;r=l,s=u.dpr,c6(a,l),h.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Km,m6=new Set,g6=new Set,y6=new Set;function e_(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function zf(t,e){switch(t){case"before":return e_(m6,e);case"after":return e_(g6,e);case"tail":return e_(y6,e)}}let t_,n_;function i_(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),t_=e.internal.subscribers,Km=0;Km<t_.length;Km++)n_=t_[Km],n_.ref.current(n_.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function v6(t){let e=!1,n=!1,i,r,s;function o(u){r=requestAnimationFrame(o),e=!0,i=0,zf("before",u),n=!0;for(const d of t.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(i+=i_(u,s))}if(n=!1,zf("after",u),i===0)return zf("tail",u),e=!1,cancelAnimationFrame(r)}function a(u,h=1){var d;if(!u)return t.forEach(p=>a(p.store.getState(),h));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,h=!0,d,p){if(h&&zf("before",u),d)i_(u,d,p);else for(const m of t.values())i_(u,m.store.getState());h&&zf("after",u)}return{loop:o,invalidate:a,advance:l}}function vF(){const t=j.useContext(yF);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Nr(t=n=>n,e){return vF()(t,e)}function Nd(t,e=0){const n=vF(),i=n.getState().internal.subscribe,r=cF(t);return Fd(()=>i(r,e,n),[e,i,n]),null}const uR=new WeakMap;function xF(t,e){return function(n,...i){let r=uR.get(n);return r||(r=new n,uR.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,a6(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function kd(t,e,n,i){const r=Array.isArray(e)?e:[e],s=qW(xF(n,i),[t,...r],{equal:$t.equ});return Array.isArray(e)?s:s[0]}kd.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return e6(xF(n),[t,...i])};kd.clear=function(t,e){const n=Array.isArray(e)?e:[e];return t6([t,...n])};const Hc=new Map,{invalidate:cR,advance:fR}=v6(Hc),{reconciler:g0,applyProps:Vu}=i6(Hc,f6),Wu={objects:"shallow",strict:!1},x6=(t,e)=>{const n=typeof t=="function"?t(e):t;return gF(n)?n:new mM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function _6(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function S6(t){const e=Hc.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||p6(cR,fR),o=n||g0.createContainer(s,cc.ConcurrentRoot,null,!1,null,"",r,null);e||Hc.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:M,shadows:x=!1,linear:g=!1,flat:_=!1,legacy:A=!1,orthographic:E=!1,frameloop:C="always",dpr:b=[1,2],performance:B,raycaster:L,camera:R,onPointerMissed:P}=h,H=s.getState(),ee=H.gl;H.gl||H.set({gl:ee=x6(d,t)});let K=H.raycaster;K||H.set({raycaster:K=new qD});const{params:Q,...Y}=L||{};if($t.equ(Y,K,Wu)||Vu(K,{...Y}),$t.equ(Q,K.params,Wu)||Vu(K,{params:{...K.params,...Q}}),!H.camera||H.camera===u&&!$t.equ(u,R,Wu)){u=R;const U=R instanceof yd,Z=U?R:E?new zr(0,0,0,0,.1,1e3):new rn(75,0,.1,1e3);U||(Z.position.z=5,R&&(Vu(Z,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(Z.manual=!0,Z.updateProjectionMatrix())),!H.camera&&!(R!=null&&R.rotation)&&Z.lookAt(0,0,0)),H.set({camera:Z}),K.camera=Z}if(!H.scene){let U;m instanceof m0?U=m:(U=new m0,m&&Vu(U,m)),H.set({scene:ju(U)})}if(!H.xr){var ae;const U=(se,ce)=>{const Ae=s.getState();Ae.frameloop!=="never"&&fR(se,!0,Ae,ce)},Z=()=>{const se=s.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?U:null),se.gl.xr.isPresenting||cR(se)},V={connect(){const se=s.getState().gl;se.xr.addEventListener("sessionstart",Z),se.xr.addEventListener("sessionend",Z)},disconnect(){const se=s.getState().gl;se.xr.removeEventListener("sessionstart",Z),se.xr.removeEventListener("sessionend",Z)}};typeof((ae=ee.xr)==null?void 0:ae.addEventListener)=="function"&&V.connect(),H.set({xr:V})}if(ee.shadowMap){const U=ee.shadowMap.enabled,Z=ee.shadowMap.type;if(ee.shadowMap.enabled=!!x,$t.boo(x))ee.shadowMap.type=ph;else if($t.str(x)){var ne;const V={basic:sI,percentage:iy,soft:ph,variance:ns};ee.shadowMap.type=(ne=V[x])!=null?ne:ph}else $t.obj(x)&&Object.assign(ee.shadowMap,x);(U!==ee.shadowMap.enabled||Z!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}const I=lF();I&&("enabled"in I?I.enabled=!A:"legacyMode"in I&&(I.legacyMode=A)),l||Vu(ee,{outputEncoding:g?3e3:3001,toneMapping:_?us:KA}),H.legacy!==A&&H.set(()=>({legacy:A})),H.linear!==g&&H.set(()=>({linear:g})),H.flat!==_&&H.set(()=>({flat:_})),d&&!$t.fun(d)&&!gF(d)&&!$t.equ(d,ee,Wu)&&Vu(ee,d),v&&!H.events.handlers&&H.set({events:v(s)});const z=_6(t,p);return $t.equ(z,H.size,Wu)||H.setSize(z.width,z.height,z.updateStyle,z.top,z.left),b&&H.viewport.dpr!==dF(b)&&H.setDpr(b),H.frameloop!==C&&H.setFrameloop(C),H.onPointerMissed||H.set({onPointerMissed:P}),B&&!$t.equ(B,H.performance,Wu)&&H.set(U=>({performance:{...U.performance,...B}})),a=M,l=!0,this},render(h){return l||this.configure(),g0.updateContainer(J.jsx(A6,{store:s,children:h,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){_F(t)}}}function A6({store:t,children:e,onCreated:n,rootElement:i}){return Fd(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),J.jsx(yF.Provider,{value:t,children:e})}function _F(t,e){const n=Hc.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),g0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),l6(r),Hc.delete(t),e&&e(t)}catch{}},500)})}}g0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:j.version});function yS(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,n||(a=t.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var h=n&&!i;return i||(i=setTimeout(l,e)),h&&(a=t.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}yS.debounce=yS;var M6=yS;const hR=YS(M6);function E6(t){let{debounce:e,scroll:n,polyfill:i,offsetSize:r}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=j.useRef(!1);j.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=j.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:A,top:E,width:C,height:b,bottom:B,right:L,x:R,y:P}=l.current.element.getBoundingClientRect(),H={left:A,top:E,width:C,height:b,bottom:B,right:L,x:R,y:P};l.current.element instanceof HTMLElement&&r&&(H.height=l.current.element.offsetHeight,H.width=l.current.element.offsetWidth),Object.freeze(H),d.current&&!b6(l.current.lastBounds,H)&&a(l.current.lastBounds=H)};return[_,h?hR(_,h):_,u?hR(_,u):_]},[a,r,u,h]);function M(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=_=>{!_||_===l.current.element||(M(),l.current.element=_,l.current.scrollContainers=SF(_),x())};return T6(v,!!n),w6(m),j.useEffect(()=>{M(),x()},[n,v,m]),j.useEffect(()=>M,[]),[g,o,p]}function w6(t){j.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function T6(t,e){j.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function SF(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...SF(t.parentElement)]}const C6=["x","y","top","bottom","left","right","width","height"],b6=(t,e)=>C6.every(n=>t[n]===e[n]);var R6=Object.defineProperty,P6=Object.defineProperties,B6=Object.getOwnPropertyDescriptors,dR=Object.getOwnPropertySymbols,L6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,pR=(t,e,n)=>e in t?R6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mR=(t,e)=>{for(var n in e||(e={}))L6.call(e,n)&&pR(t,n,e[n]);if(dR)for(var n of dR(e))I6.call(e,n)&&pR(t,n,e[n]);return t},D6=(t,e)=>P6(t,B6(e));function AF(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=AF(i,e,n);if(r)return r;i=e?null:i.sibling}}function MF(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const VM=MF(j.createContext(null));class EF extends j.Component{render(){return j.createElement(VM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:gR,ReactCurrentDispatcher:yR}=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function F6(){const t=j.useContext(VM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=j.useId();return j.useMemo(()=>{for(const i of[gR==null?void 0:gR.current,t,t==null?void 0:t.alternate]){if(!i)continue;const r=AF(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function N6(){var t,e;const n=F6(),[i]=j.useState(()=>new Map);i.clear();let r=n;for(;r;){const s=(t=r.type)==null?void 0:t._context;s&&s!==VM&&!i.has(s)&&i.set(s,(e=yR==null?void 0:yR.current)==null?void 0:e.readContext(MF(s))),r=r.return}return i}function k6(){const t=N6();return j.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>j.createElement(e,null,j.createElement(n.Provider,D6(mR({},i),{value:t.get(n)}))),e=>j.createElement(EF,mR({},e))),[t])}const r_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O6(t){const{handlePointer:e}=d6(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(r_).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=r_[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=r_[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const U6=j.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=O6,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:M,performance:x,raycaster:g,camera:_,scene:A,onPointerMissed:E,onCreated:C,...b},B){j.useMemo(()=>n6(WW),[]);const L=k6(),[R,P]=E6({scroll:!0,debounce:{scroll:50,resize:0},...i}),H=j.useRef(null),ee=j.useRef(null);j.useImperativeHandle(B,()=>H.current);const K=cF(E),[Q,Y]=j.useState(!1),[ae,ne]=j.useState(!1);if(Q)throw Q;if(ae)throw ae;const I=j.useRef(null);Fd(()=>{const U=H.current;P.width>0&&P.height>0&&U&&(I.current||(I.current=S6(U)),I.current.configure({gl:s,events:o,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:M,performance:x,raycaster:g,camera:_,scene:A,size:P,onPointerMissed:(...Z)=>K.current==null?void 0:K.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?r6(a)?a.current:a:ee.current),l&&Z.setEvents({compute:(V,se)=>{const ce=V[l+"X"],Ae=V[l+"Y"];se.pointer.set(ce/se.size.width*2-1,-(Ae/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),C==null||C(Z)}}),I.current.render(J.jsx(L,{children:J.jsx(fF,{set:ne,children:J.jsx(j.Suspense,{fallback:J.jsx(s6,{set:Y}),children:e})})})))}),j.useEffect(()=>{const U=H.current;if(U)return()=>_F(U)},[]);const z=a?"none":"auto";return J.jsx("div",{ref:ee,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...r},...b,children:J.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:J.jsx("canvas",{ref:H,style:{display:"block"},children:n})})})}),WM=j.forwardRef(function(e,n){return J.jsx(EF,{children:J.jsx(U6,{...e,ref:n})})});function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wo.apply(this,arguments)}const Od=new F,jM=new F,H6=new F,vR=new me;function z6(t,e,n){const i=Od.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,s=n.height/2;return[i.x*r+r,-(i.y*s)+s]}function G6(t,e){const n=Od.setFromMatrixPosition(t.matrixWorld),i=jM.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),s=e.getWorldDirection(H6);return r.angleTo(s)>Math.PI/2}function V6(t,e,n,i){const r=Od.setFromMatrixPosition(t.matrixWorld),s=r.clone();s.project(e),vR.set(s.x,s.y),n.setFromCamera(vR,e);const o=n.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(n.ray.origin)<a}return!0}function W6(t,e){if(e instanceof zr)return e.zoom;if(e instanceof rn){const n=Od.setFromMatrixPosition(t.matrixWorld),i=jM.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=n.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function j6(t,e,n){if(e instanceof rn||e instanceof zr){const i=Od.setFromMatrixPosition(t.matrixWorld),r=jM.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const vS=t=>Math.abs(t)<1e-10?0:t;function wF(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=vS(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const X6=(t=>e=>wF(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),J6=(t=>(e,n)=>wF(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function K6(t){return t&&typeof t=="object"&&"current"in t}const Y6=j.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:M,geometry:x,zIndexRange:g=[16777271,0],calculatePosition:_=z6,as:A="div",wrapperClass:E,pointerEvents:C="auto",...b},B)=>{const{gl:L,camera:R,scene:P,size:H,raycaster:ee,events:K,viewport:Q}=Nr(),[Y]=j.useState(()=>document.createElement(A)),ae=j.useRef(),ne=j.useRef(null),I=j.useRef(0),z=j.useRef([0,0]),U=j.useRef(null),Z=j.useRef(null),V=(a==null?void 0:a.current)||K.connected||L.domElement.parentNode,se=j.useRef(null),ce=j.useRef(!1),Ae=j.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&K6(d[0]),[d]);j.useLayoutEffect(()=>{const nt=L.domElement;d&&d==="blending"?(nt.style.zIndex=`${Math.floor(g[0]/2)}`,nt.style.position="absolute",nt.style.pointerEvents="none"):(nt.style.zIndex=null,nt.style.position=null,nt.style.pointerEvents=null)},[d]),j.useLayoutEffect(()=>{if(ne.current){const nt=ae.current=KL(Y);if(P.updateMatrixWorld(),h)Y.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ee=_(ne.current,R,H);Y.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ee[0]}px,${Ee[1]}px,0);transform-origin:0 0;`}return V&&(r?V.prepend(Y):V.appendChild(Y)),()=>{V&&V.removeChild(Y),nt.unmount()}}},[V,h]),j.useLayoutEffect(()=>{E&&(Y.className=E)},[E]);const _e=j.useMemo(()=>h?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...n},[n,s,o,H,h]),Pe=j.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);j.useLayoutEffect(()=>{if(ce.current=!1,h){var nt;(nt=ae.current)==null||nt.render(j.createElement("div",{ref:U,style:_e},j.createElement("div",{ref:Z,style:Pe},j.createElement("div",{ref:B,className:i,style:n,children:t}))))}else{var Ee;(Ee=ae.current)==null||Ee.render(j.createElement("div",{ref:B,style:_e,className:i,children:t}))}});const qe=j.useRef(!0);Nd(nt=>{if(ne.current){R.updateMatrixWorld(),ne.current.updateWorldMatrix(!0,!1);const Ee=h?z.current:_(ne.current,R,H);if(h||Math.abs(I.current-R.zoom)>e||Math.abs(z.current[0]-Ee[0])>e||Math.abs(z.current[1]-Ee[1])>e){const G=G6(ne.current,R);let ve=!1;Ae&&(Array.isArray(d)?ve=d.map(Ge=>Ge.current):d!=="blending"&&(ve=[P]));const ye=qe.current;if(ve){const Ge=V6(ne.current,R,ee,ve);qe.current=Ge&&!G}else qe.current=!G;ye!==qe.current&&(p?p(!qe.current):Y.style.display=qe.current?"block":"none");const Te=Math.floor(g[0]/2),xe=d?Ae?[g[0],Te]:[Te-1,0]:g;if(Y.style.zIndex=`${j6(ne.current,R,xe)}`,h){const[Ge,ke]=[H.width/2,H.height/2],ze=R.projectionMatrix.elements[5]*ke,{isOrthographicCamera:it,top:xt,left:Gt,bottom:O,right:D}=R,fe=X6(R.matrixWorldInverse),Me=it?`scale(${ze})translate(${vS(-(D+Gt)/2)}px,${vS((xt+O)/2)}px)`:`translateZ(${ze}px)`;let Se=ne.current.matrixWorld;u&&(Se=R.matrixWorldInverse.clone().transpose().copyPosition(Se).scale(ne.current.scale),Se.elements[3]=Se.elements[7]=Se.elements[11]=0,Se.elements[15]=1),Y.style.width=H.width+"px",Y.style.height=H.height+"px",Y.style.perspective=it?"":`${ze}px`,U.current&&Z.current&&(U.current.style.transform=`${Me}${fe}translate(${Ge}px,${ke}px)`,Z.current.style.transform=J6(Se,1/((l||10)/400)))}else{const Ge=l===void 0?1:W6(ne.current,R)*l;Y.style.transform=`translate3d(${Ee[0]}px,${Ee[1]}px,0) scale(${Ge})`}z.current=Ee,I.current=R.zoom}}if(!Ae&&se.current&&!ce.current)if(h){if(U.current){const Ee=U.current.children[0];if(Ee!=null&&Ee.clientWidth&&Ee!=null&&Ee.clientHeight){const{isOrthographicCamera:G}=R;if(G||x)b.scale&&(Array.isArray(b.scale)?b.scale instanceof F?se.current.scale.copy(b.scale.clone().divideScalar(1)):se.current.scale.set(1/b.scale[0],1/b.scale[1],1/b.scale[2]):se.current.scale.setScalar(1/b.scale));else{const ve=(l||10)/400,ye=Ee.clientWidth*ve,Te=Ee.clientHeight*ve;se.current.scale.set(ye,Te,1)}ce.current=!0}}}else{const Ee=Y.children[0];if(Ee!=null&&Ee.clientWidth&&Ee!=null&&Ee.clientHeight){const G=1/Q.factor,ve=Ee.clientWidth*G,ye=Ee.clientHeight*G;se.current.scale.set(ve,ye,1),ce.current=!0}se.current.lookAt(nt.camera.position)}});const $e=j.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return j.createElement("group",wo({},b,{ref:ne}),d&&!Ae&&j.createElement("mesh",{castShadow:m,receiveShadow:v,ref:se},x||j.createElement("planeGeometry",null),M||j.createElement("shaderMaterial",{side:Ur,vertexShader:$e.vertexShader,fragmentShader:$e.fragmentShader})))});let Gf=0;const $6=nF(t=>(uc.onStart=(e,n,i)=>{t({active:!0,item:e,loaded:n,total:i,progress:(n-Gf)/(i-Gf)*100})},uc.onLoad=()=>{t({active:!1})},uc.onError=e=>t(n=>({errors:[...n.errors,e]})),uc.onProgress=(e,n,i)=>{n===i&&(Gf=i),t({active:!0,item:e,loaded:n,total:i,progress:(n-Gf)/(i-Gf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function xR(t,e){if(e===VI)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===h0||e===nM){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===h0)for(let o=1;o<=i;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const Q6=parseInt(jc.replace(/\D+/g,""));var Z6=Object.defineProperty,q6=(t,e,n)=>e in t?Z6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ct=(t,e,n)=>(q6(t,typeof e!="symbol"?e+"":e,n),n);const Ym=new Zl,_R=new oo,ej=Math.cos(70*(Math.PI/180)),SR=(t,e)=>(t%e+e)%e;let tj=class extends Gs{constructor(e,n){super(),ct(this,"object"),ct(this,"domElement"),ct(this,"enabled",!0),ct(this,"target",new F),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"zoomToCursor",!1),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"reverseHorizontalOrbit",!1),ct(this,"reverseVerticalOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:ll.ROTATE,MIDDLE:ll.DOLLY,RIGHT:ll.PAN}),ct(this,"touches",{ONE:ul.ROTATE,TWO:ul.DOLLY_PAN}),ct(this,"target0"),ct(this,"position0"),ct(this,"zoom0"),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle"),ct(this,"getAzimuthalAngle"),ct(this,"setPolarAngle"),ct(this,"setAzimuthalAngle"),ct(this,"getDistance"),ct(this,"listenToKeyEvents"),ct(this,"stopListenToKeyEvents"),ct(this,"saveState"),ct(this,"reset"),ct(this,"update"),ct(this,"connect"),ct(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=W=>{let le=SR(W,2*Math.PI),be=h.phi;be<0&&(be+=2*Math.PI),le<0&&(le+=2*Math.PI);let Ke=Math.abs(le-be);2*Math.PI-Ke<Ke&&(le<be?le+=2*Math.PI:be+=2*Math.PI),d.phi=le-be,i.update()},this.setAzimuthalAngle=W=>{let le=SR(W,2*Math.PI),be=h.theta;be<0&&(be+=2*Math.PI),le<0&&(le+=2*Math.PI);let Ke=Math.abs(le-be);2*Math.PI-Ke<Ke&&(le<be?le+=2*Math.PI:be+=2*Math.PI),d.theta=le-be,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=W=>{W.addEventListener("keydown",Se),this._domElementKeyEvents=W},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Se),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const W=new F,le=new F(0,1,0),be=new Qn().setFromUnitVectors(e.up,le),Ke=be.clone().invert(),X=new F,Re=new Qn,oe=2*Math.PI;return function(){const Fe=i.object.position;be.setFromUnitVectors(e.up,le),Ke.copy(be).invert(),W.copy(Fe).sub(i.target),W.applyQuaternion(be),h.setFromVector3(W),i.autoRotate&&l===a.NONE&&Q(ee()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let pt=i.minAzimuthAngle,It=i.maxAzimuthAngle;isFinite(pt)&&isFinite(It)&&(pt<-Math.PI?pt+=oe:pt>Math.PI&&(pt-=oe),It<-Math.PI?It+=oe:It>Math.PI&&(It-=oe),pt<=It?h.theta=Math.max(pt,Math.min(It,h.theta)):h.theta=h.theta>(pt+It)/2?Math.max(pt,h.theta):Math.min(It,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?h.radius=V(h.radius):h.radius=V(h.radius*p),W.setFromSpherical(h),W.applyQuaternion(Ke),Fe.copy(i.target).add(W),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let Jt=!1;if(i.zoomToCursor&&R){let ui=null;if(i.object instanceof rn&&i.object.isPerspectiveCamera){const zt=W.length();ui=V(zt*p);const Vn=zt-ui;i.object.position.addScaledVector(B,Vn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const zt=new F(L.x,L.y,0);zt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Jt=!0;const Vn=new F(L.x,L.y,0);Vn.unproject(i.object),i.object.position.sub(Vn).add(zt),i.object.updateMatrixWorld(),ui=W.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;ui!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(ui).add(i.object.position):(Ym.origin.copy(i.object.position),Ym.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Ym.direction))<ej?e.lookAt(i.target):(_R.setFromNormalAndCoplanarPoint(i.object.up,i.target),Ym.intersectPlane(_R,i.target))))}else i.object instanceof zr&&i.object.isOrthographicCamera&&(Jt=p!==1,Jt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Jt||X.distanceToSquared(i.object.position)>u||8*(1-Re.dot(i.object.quaternion))>u?(i.dispatchEvent(r),X.copy(i.object.position),Re.copy(i.object.quaternion),Jt=!1,!0):!1}})(),this.connect=W=>{W===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=W,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Le),i.domElement.addEventListener("pointerdown",xt),i.domElement.addEventListener("pointercancel",O),i.domElement.addEventListener("wheel",Me)},this.dispose=()=>{var W,le,be,Ke,X,Re;i.domElement&&(i.domElement.style.touchAction="auto"),(W=i.domElement)==null||W.removeEventListener("contextmenu",Le),(le=i.domElement)==null||le.removeEventListener("pointerdown",xt),(be=i.domElement)==null||be.removeEventListener("pointercancel",O),(Ke=i.domElement)==null||Ke.removeEventListener("wheel",Me),(X=i.domElement)==null||X.ownerDocument.removeEventListener("pointermove",Gt),(Re=i.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",O),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Se)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new pS,d=new pS;let p=1;const m=new F,v=new me,M=new me,x=new me,g=new me,_=new me,A=new me,E=new me,C=new me,b=new me,B=new F,L=new me;let R=!1;const P=[],H={};function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}function K(){return Math.pow(.95,i.zoomSpeed)}function Q(W){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=W:d.theta-=W}function Y(W){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=W:d.phi-=W}const ae=(()=>{const W=new F;return function(be,Ke){W.setFromMatrixColumn(Ke,0),W.multiplyScalar(-be),m.add(W)}})(),ne=(()=>{const W=new F;return function(be,Ke){i.screenSpacePanning===!0?W.setFromMatrixColumn(Ke,1):(W.setFromMatrixColumn(Ke,0),W.crossVectors(i.object.up,W)),W.multiplyScalar(be),m.add(W)}})(),I=(()=>{const W=new F;return function(be,Ke){const X=i.domElement;if(X&&i.object instanceof rn&&i.object.isPerspectiveCamera){const Re=i.object.position;W.copy(Re).sub(i.target);let oe=W.length();oe*=Math.tan(i.object.fov/2*Math.PI/180),ae(2*be*oe/X.clientHeight,i.object.matrix),ne(2*Ke*oe/X.clientHeight,i.object.matrix)}else X&&i.object instanceof zr&&i.object.isOrthographicCamera?(ae(be*(i.object.right-i.object.left)/i.object.zoom/X.clientWidth,i.object.matrix),ne(Ke*(i.object.top-i.object.bottom)/i.object.zoom/X.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function z(W){i.object instanceof rn&&i.object.isPerspectiveCamera||i.object instanceof zr&&i.object.isOrthographicCamera?p/=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function U(W){i.object instanceof rn&&i.object.isPerspectiveCamera||i.object instanceof zr&&i.object.isOrthographicCamera?p*=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Z(W){if(!i.zoomToCursor||!i.domElement)return;R=!0;const le=i.domElement.getBoundingClientRect(),be=W.clientX-le.left,Ke=W.clientY-le.top,X=le.width,Re=le.height;L.x=be/X*2-1,L.y=-(Ke/Re)*2+1,B.set(L.x,L.y,1).unproject(i.object).sub(i.object.position).normalize()}function V(W){return Math.max(i.minDistance,Math.min(i.maxDistance,W))}function se(W){v.set(W.clientX,W.clientY)}function ce(W){Z(W),E.set(W.clientX,W.clientY)}function Ae(W){g.set(W.clientX,W.clientY)}function _e(W){M.set(W.clientX,W.clientY),x.subVectors(M,v).multiplyScalar(i.rotateSpeed);const le=i.domElement;le&&(Q(2*Math.PI*x.x/le.clientHeight),Y(2*Math.PI*x.y/le.clientHeight)),v.copy(M),i.update()}function Pe(W){C.set(W.clientX,W.clientY),b.subVectors(C,E),b.y>0?z(K()):b.y<0&&U(K()),E.copy(C),i.update()}function qe(W){_.set(W.clientX,W.clientY),A.subVectors(_,g).multiplyScalar(i.panSpeed),I(A.x,A.y),g.copy(_),i.update()}function $e(W){Z(W),W.deltaY<0?U(K()):W.deltaY>0&&z(K()),i.update()}function nt(W){let le=!1;switch(W.code){case i.keys.UP:I(0,i.keyPanSpeed),le=!0;break;case i.keys.BOTTOM:I(0,-i.keyPanSpeed),le=!0;break;case i.keys.LEFT:I(i.keyPanSpeed,0),le=!0;break;case i.keys.RIGHT:I(-i.keyPanSpeed,0),le=!0;break}le&&(W.preventDefault(),i.update())}function Ee(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const W=.5*(P[0].pageX+P[1].pageX),le=.5*(P[0].pageY+P[1].pageY);v.set(W,le)}}function G(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const W=.5*(P[0].pageX+P[1].pageX),le=.5*(P[0].pageY+P[1].pageY);g.set(W,le)}}function ve(){const W=P[0].pageX-P[1].pageX,le=P[0].pageY-P[1].pageY,be=Math.sqrt(W*W+le*le);E.set(0,be)}function ye(){i.enableZoom&&ve(),i.enablePan&&G()}function Te(){i.enableZoom&&ve(),i.enableRotate&&Ee()}function xe(W){if(P.length==1)M.set(W.pageX,W.pageY);else{const be=tt(W),Ke=.5*(W.pageX+be.x),X=.5*(W.pageY+be.y);M.set(Ke,X)}x.subVectors(M,v).multiplyScalar(i.rotateSpeed);const le=i.domElement;le&&(Q(2*Math.PI*x.x/le.clientHeight),Y(2*Math.PI*x.y/le.clientHeight)),v.copy(M)}function Ge(W){if(P.length==1)_.set(W.pageX,W.pageY);else{const le=tt(W),be=.5*(W.pageX+le.x),Ke=.5*(W.pageY+le.y);_.set(be,Ke)}A.subVectors(_,g).multiplyScalar(i.panSpeed),I(A.x,A.y),g.copy(_)}function ke(W){const le=tt(W),be=W.pageX-le.x,Ke=W.pageY-le.y,X=Math.sqrt(be*be+Ke*Ke);C.set(0,X),b.set(0,Math.pow(C.y/E.y,i.zoomSpeed)),z(b.y),E.copy(C)}function ze(W){i.enableZoom&&ke(W),i.enablePan&&Ge(W)}function it(W){i.enableZoom&&ke(W),i.enableRotate&&xe(W)}function xt(W){var le,be;i.enabled!==!1&&(P.length===0&&((le=i.domElement)==null||le.ownerDocument.addEventListener("pointermove",Gt),(be=i.domElement)==null||be.ownerDocument.addEventListener("pointerup",O)),pe(W),W.pointerType==="touch"?Ie(W):D(W))}function Gt(W){i.enabled!==!1&&(W.pointerType==="touch"?Je(W):fe(W))}function O(W){var le,be,Ke;rt(W),P.length===0&&((le=i.domElement)==null||le.releasePointerCapture(W.pointerId),(be=i.domElement)==null||be.ownerDocument.removeEventListener("pointermove",Gt),(Ke=i.domElement)==null||Ke.ownerDocument.removeEventListener("pointerup",O)),i.dispatchEvent(o),l=a.NONE}function D(W){let le;switch(W.button){case 0:le=i.mouseButtons.LEFT;break;case 1:le=i.mouseButtons.MIDDLE;break;case 2:le=i.mouseButtons.RIGHT;break;default:le=-1}switch(le){case ll.DOLLY:if(i.enableZoom===!1)return;ce(W),l=a.DOLLY;break;case ll.ROTATE:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enablePan===!1)return;Ae(W),l=a.PAN}else{if(i.enableRotate===!1)return;se(W),l=a.ROTATE}break;case ll.PAN:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enableRotate===!1)return;se(W),l=a.ROTATE}else{if(i.enablePan===!1)return;Ae(W),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function fe(W){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;_e(W);break;case a.DOLLY:if(i.enableZoom===!1)return;Pe(W);break;case a.PAN:if(i.enablePan===!1)return;qe(W);break}}function Me(W){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(W.preventDefault(),i.dispatchEvent(s),$e(W),i.dispatchEvent(o))}function Se(W){i.enabled===!1||i.enablePan===!1||nt(W)}function Ie(W){switch(et(W),P.length){case 1:switch(i.touches.ONE){case ul.ROTATE:if(i.enableRotate===!1)return;Ee(),l=a.TOUCH_ROTATE;break;case ul.PAN:if(i.enablePan===!1)return;G(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case ul.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ye(),l=a.TOUCH_DOLLY_PAN;break;case ul.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Te(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Je(W){switch(et(W),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;xe(W),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ge(W),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ze(W),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;it(W),i.update();break;default:l=a.NONE}}function Le(W){i.enabled!==!1&&W.preventDefault()}function pe(W){P.push(W)}function rt(W){delete H[W.pointerId];for(let le=0;le<P.length;le++)if(P[le].pointerId==W.pointerId){P.splice(le,1);return}}function et(W){let le=H[W.pointerId];le===void 0&&(le=new me,H[W.pointerId]=le),le.set(W.pageX,W.pageY)}function tt(W){const le=W.pointerId===P[0].pointerId?P[1]:P[0];return H[le.pointerId]}n!==void 0&&this.connect(n),this.update()}};function y0(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const Cl="srgb",yo="srgb-linear",AR=3001,nj=3e3;class XM extends Di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new aj(n)}),this.register(function(n){return new lj(n)}),this.register(function(n){return new yj(n)}),this.register(function(n){return new vj(n)}),this.register(function(n){return new xj(n)}),this.register(function(n){return new cj(n)}),this.register(function(n){return new fj(n)}),this.register(function(n){return new hj(n)}),this.register(function(n){return new dj(n)}),this.register(function(n){return new oj(n)}),this.register(function(n){return new pj(n)}),this.register(function(n){return new uj(n)}),this.register(function(n){return new gj(n)}),this.register(function(n){return new mj(n)}),this.register(function(n){return new rj(n)}),this.register(function(n){return new _j(n)}),this.register(function(n){return new Sj(n)})}load(e,n,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=_a.extractUrlBase(e);o=_a.resolveURL(u,this.path)}else o=_a.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){n(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(y0(new Uint8Array(e.slice(0,4)))===TF){try{o[Bt.KHR_BINARY_GLTF]=new Aj(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Bt.KHR_BINARY_GLTF].content)}else s=JSON.parse(y0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Fj(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],d=s.extensionsRequired||[];switch(h){case Bt.KHR_MATERIALS_UNLIT:o[h]=new sj;break;case Bt.KHR_DRACO_MESH_COMPRESSION:o[h]=new Mj(s,this.dracoLoader);break;case Bt.KHR_TEXTURE_TRANSFORM:o[h]=new Ej;break;case Bt.KHR_MESH_QUANTIZATION:o[h]=new wj;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function ij(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rj{constructor(e){this.parser=e,this.name=Bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new Ne(16777215);l.color!==void 0&&h.setRGB(l.color[0],l.color[1],l.color[2],yo);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new NM(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new FM(h),u.distance=d;break;case"spot":u=new DM(h),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,ro(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class sj{constructor(){this.name=Bt.KHR_MATERIALS_UNLIT}getMaterialType(){return pr}extendParams(e,n,i){const r=[];e.color=new Ne(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],yo),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Cl))}return Promise.all(r)}}class oj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class aj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new me(a,a)}return Promise.all(s)}}class lj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class uj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class cj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Ne(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],yo)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Cl)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class fj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class hj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Ne().setRGB(a[0],a[1],a[2],yo),Promise.all(s)}}class dj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class pj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Ne().setRGB(a[0],a[1],a[2],yo),o.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,Cl)),Promise.all(s)}}class mj{constructor(e){this.parser=e,this.name=Bt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class gj{constructor(e){this.parser=e,this.name=Bt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xr}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class yj{constructor(e){this.parser=e,this.name=Bt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class vj{constructor(e){this.parser=e,this.name=Bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class xj{constructor(e){this.parser=e,this.name=Bt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class _j{constructor(e){this.name=Bt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class Sj{constructor(e){this.name=Bt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==Dr.TRIANGLES&&u.mode!==Dr.TRIANGLE_STRIP&&u.mode!==Dr.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(h=>(l[u]=h,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const h=u.pop(),d=h.isGroup?h.children:[h],p=u[0].count,m=[];for(const v of d){const M=new lt,x=new F,g=new Qn,_=new F(1,1,1),A=new vM(v.geometry,v.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&_.fromBufferAttribute(l.SCALE,E),A.setMatrixAt(E,M.compose(x,g,_));for(const E in l)if(E==="_COLOR_0"){const C=l[E];A.instanceColor=new jl(C.array,C.itemSize,C.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&v.geometry.setAttribute(E,l[E]);Ft.prototype.copy.call(A,v),this.parser.assignFinalMaterial(A),m.push(A)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const TF="glTF",Vf=12,MR={JSON:1313821514,BIN:5130562};class Aj{constructor(e){this.name=Bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Vf);if(this.header={magic:y0(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==TF)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Vf,r=new DataView(e,Vf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===MR.JSON){const l=new Uint8Array(e,Vf+s,o);this.content=y0(l)}else if(a===MR.BIN){const l=Vf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Mj{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const d=xS[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=xS[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=Ec[p.componentType];u[d]=m.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(h){return new Promise(function(d,p){r.decodeDracoFile(h,function(m){for(const v in m.attributes){const M=m.attributes[v],x=l[v];x!==void 0&&(M.normalized=x)}d(m)},a,u,yo,p)})})}}class Ej{constructor(){this.name=Bt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class wj{constructor(){this.name=Bt.KHR_MESH_QUANTIZATION}}class CF extends Zc{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)n[o]=i[s+o];return n}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=r-n,d=(i-n)/h,p=d*d,m=p*d,v=e*u,M=v-u,x=-2*m+3*p,g=m-p,_=1-x,A=g-p+d;for(let E=0;E!==a;E++){const C=o[M+E+a],b=o[M+E+l]*h,B=o[v+E+a],L=o[v+E]*h;s[E]=_*C+A*b+x*B+g*L}return s}}const Tj=new Qn;class Cj extends CF{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return Tj.fromArray(s).normalize().toArray(s),s}}const Dr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ec={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ER={9728:En,9729:dn,9984:jh,9985:sy,9986:Sc,9987:Hs},wR={33071:ti,33648:Dc,10497:Ca},s_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Q6>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Jo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bj={CUBICSPLINE:void 0,LINEAR:Wl,STEP:Nc},o_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Rj(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Dd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Us})),t.DefaultMaterial}function il(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ro(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Pj(t,e,n){let i=!1,r=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const d=e[u];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const d=e[u];if(i){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],d=u[1],p=u[2];return i&&(t.morphAttributes.position=h),r&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function Bj(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Lj(t){let e;const n=t.extensions&&t.extensions[Bt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+a_(n.attributes):e=t.indices+":"+a_(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+a_(t.targets[i]);return e}function a_(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function _S(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ij(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Dj=new lt;class Fj{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new ij,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new GD(this.options.manager):this.textureLoader=new YD(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return il(s,a,r),ro(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const o=n[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Bt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(_a.resolveURL(n.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=s_[r.type],a=Ec[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new Ht(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=s_[r.type],u=Ec[r.componentType],h=u.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let M,x;if(m&&m!==d){const g=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let A=n.cache.get(_);A||(M=new u(a,g*m,r.count*m/h),A=new xd(M,m/h),n.cache.add(_,A)),x=new ba(A,l,p%m/h,v)}else a===null?M=new u(r.count*l):M=new u(a,p,r.count*l),x=new Ht(M,l,v);if(r.sparse!==void 0){const g=s_.SCALAR,_=Ec[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,C=new _(o[1],A,r.sparse.count*g),b=new u(o[2],E,r.sparse.count*l);a!==null&&(x=new Ht(x.array.slice(),x.itemSize,x.normalized));for(let B=0,L=C.length;B<L;B++){const R=C[B];if(x.setX(R,b[B*l]),l>=2&&x.setY(R,b[B*l+1]),l>=3&&x.setZ(R,b[B*l+2]),l>=4&&x.setW(R,b[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const r=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=ER[p.magFilter]||dn,h.minFilter=ER[p.minFilter]||Hs,h.wrapS=wR[p.wrapS]||Ca,h.wrapT=wR[p.wrapT]||Ca,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;n.isImageBitmapLoader===!0&&(v=function(M){const x=new un(M);x.needsUpdate=!0,p(x)}),n.load(_a.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),ro(d,o),d.userData.mimeType=o.mimeType||Ij(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,n,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Bt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===AR?Cl:yo),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Cl?AR:nj),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Sd,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ai,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Dd}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Bt.KHR_MATERIALS_UNLIT]){const d=r[Bt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ne(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],yo),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",d.baseColorTexture,Cl)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ur);const h=s.alphaMode||o_.OPAQUE;if(h===o_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===o_.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==pr&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new me(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==pr&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==pr){const d=s.emissiveFactor;a.emissive=new Ne().setRGB(d[0],d[1],d[2],yo)}return s.emissiveTexture!==void 0&&o!==pr&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,Cl)),Promise.all(u).then(function(){const d=new o(a);return s.name&&(d.name=s.name),ro(d,s),n.associations.set(d,{materials:e}),s.extensions&&il(r,d,s),d})}createUniqueName(e){const n=Dt.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return TR(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=Lj(u),d=r[h];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[Bt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=TR(new At,u,n),r[h]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?Rj(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const M=h[m],x=o[m];let g;const _=u[m];if(x.mode===Dr.TRIANGLES||x.mode===Dr.TRIANGLE_STRIP||x.mode===Dr.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new yM(M,_):new Yn(M,_),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===Dr.TRIANGLE_STRIP?g.geometry=xR(g.geometry,nM):x.mode===Dr.TRIANGLE_FAN&&(g.geometry=xR(g.geometry,h0));else if(x.mode===Dr.LINES)g=new ps(M,_);else if(x.mode===Dr.LINE_STRIP)g=new Eo(M,_);else if(x.mode===Dr.LINE_LOOP)g=new xM(M,_);else if(x.mode===Dr.POINTS)g=new _M(M,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&Bj(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),ro(g,s),x.extensions&&il(r,g,x),n.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)n.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&il(r,d[0],s),d[0];const p=new ho;s.extensions&&il(r,p,s),n.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new rn(iD.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new zr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),ro(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,s=n.joints.length;r<s;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const d=o[u];if(d){a.push(d);const p=new lt;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new _d(a,l)})}loadAnimation(e){const n=this.json,i=this,r=n.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],u=[],h=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],v=r.samplers[m.sampler],M=m.target,x=M.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,_=r.parameters!==void 0?r.parameters[v.output]:v.output;M.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",_)),u.push(v),h.push(M))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(h)]).then(function(d){const p=d[0],m=d[1],v=d[2],M=d[3],x=d[4],g=[];for(let _=0,A=p.length;_<A;_++){const E=p[_],C=m[_],b=v[_],B=M[_],L=x[_];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const R=i._createAnimationTracks(E,C,b,B,L);if(R)for(let P=0;P<R.length;P++)g.push(R[P])}return new Uc(s,void 0,g)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,h=a.length;u<h;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],d=u[1],p=u[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Dj)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new dy:u.length>1?h=new ho:u.length===1?h=u[0]:h=new Ft,h!==u[0])for(let d=0,p=u.length;d<p;d++)h.add(u[d]);if(s.name&&(h.userData.name=s.name,h.name=o),ro(h,s),s.extensions&&il(i,h,s),s.matrix!==void 0){const d=new lt;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,s=new ho;i.name&&(s.name=r.createUniqueName(i.name)),ro(s,i),i.extensions&&il(n,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const u=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Fn||p instanceof un)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=u(s),s})}_createAnimationTracks(e,n,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Jo[s.path]===Jo.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let u;switch(Jo[s.path]){case Jo.weights:u=Jl;break;case Jo.rotation:u=Ra;break;case Jo.position:case Jo.scale:u=Kl;break;default:switch(i.itemSize){case 1:u=Jl;break;case 2:case 3:default:u=Kl;break}break}const h=r.interpolation!==void 0?bj[r.interpolation]:Wl,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new u(l[p]+"."+Jo[s.path],n.array,d,h);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=_S(n.constructor),r=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)r[s]=n[s]*i;n=r}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Ra?Cj:CF;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Nj(t,e,n){const i=e.attributes,r=new ds;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const h=_S(Ec[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,h=s.length;u<h;u++){const d=s[u];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const M=_S(Ec[p.componentType]);l.multiplyScalar(M)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}t.boundingBox=r;const o=new jr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=o}function TR(t,e,n){const i=e.attributes,r=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=xS[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});r.push(o)}return ro(t,e),Nj(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?Pj(t,e.targets,n):t})}const l_=new WeakMap;class kj extends Di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const s=new vr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const i=JSON.stringify(n);if(l_.has(e)){const l=l_.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,h)=>{r._callbacks[s]={resolve:u,reject:h},r.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),l_.set(e,{key:i,promise:a}),a}_createGeometry(e){const n=new At;e.index&&n.setIndex(new Ht(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;n.setAttribute(s,new Ht(o,a))}return n}_loadLibrary(e,n){const i=new vr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Oj.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Oj(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=n(d,p,m,u),M=v.attributes.map(x=>x.array.buffer);v.index&&M.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},M)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function n(o,a,l,u){const h=u.attributeIDs,d=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const M={index:null,attributes:[]};for(const x in h){const g=self[d[x]];let _,A;if(u.useUniqueIDs)A=h[x],_=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[h[x]]),A===-1)continue;_=a.GetAttribute(p,A)}M.attributes.push(r(o,a,p,x,g,_))}return v===o.TRIANGULAR_MESH&&(M.index=i(o,a,p)),o.destroy(p),M}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,h,d){const p=d.num_components(),v=l.num_points()*p,M=v*h.BYTES_PER_ELEMENT,x=s(o,h),g=o._malloc(M);a.GetAttributeDataArrayForAllPoints(l,d,x,M,g);const _=new h(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let $m;const u_=()=>{if($m)return $m;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=t;WebAssembly.validate(n)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const M=d.charCodeAt(v);p[v]=M>96?M-71:M>64?M-65:M>47?M+4:M>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,M,x){const g=s.exports.sbrk,_=m+3&-4,A=g(_*v),E=g(M.length),C=new Uint8Array(s.exports.memory.buffer);C.set(M,E);const b=d(A,m,v,E,M.length);if(b===0&&x&&x(A,_,v),p.set(C.subarray(A,A+m*v)),g(A-g(0)),b!==0)throw new Error(`Malformed buffer data: ${b}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $m={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,M){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[u[M]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,M,x){l(s.exports[h[M]],d,p,m,v,s.exports[u[x]])}},$m},Uj=()=>parseInt(jc.replace(/\D+/g,"")),bF=Uj();let Qm=null,RF="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function PF(t,e,n){return i=>{n&&n(i),t&&(Qm||(Qm=new kj),Qm.setDecoderPath(typeof t=="string"?t:RF),i.setDRACOLoader(Qm)),e&&i.setMeshoptDecoder(typeof u_=="function"?u_():u_)}}function Ud(t,e=!0,n=!0,i){return kd(XM,t,PF(e,n,i))}Ud.preload=(t,e=!0,n=!0,i)=>kd.preload(XM,t,PF(e,n,i));Ud.clear=t=>kd.clear(XM,t);Ud.setDecoderPath=t=>{RF=t};const BF=j.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const d=Nr(b=>b.invalidate),p=Nr(b=>b.camera),m=Nr(b=>b.gl),v=Nr(b=>b.events),M=Nr(b=>b.setEvents),x=Nr(b=>b.set),g=Nr(b=>b.get),_=Nr(b=>b.performance),A=e||p,E=i||v.connected||m.domElement,C=j.useMemo(()=>new tj(A),[A]);return Nd(()=>{C.enabled&&C.update()},-1),j.useEffect(()=>(s&&C.connect(s===!0?E:s),C.connect(E),()=>void C.dispose()),[s,E,n,C,d]),j.useEffect(()=>{const b=R=>{d(),n&&_.regress(),o&&o(R)},B=R=>{a&&a(R)},L=R=>{l&&l(R)};return C.addEventListener("change",b),C.addEventListener("start",B),C.addEventListener("end",L),()=>{C.removeEventListener("start",B),C.removeEventListener("end",L),C.removeEventListener("change",b)}},[o,a,l,C,d,M]),j.useEffect(()=>{if(t){const b=g().controls;return x({controls:C}),()=>x({controls:b})}},[t,C]),j.createElement("primitive",wo({ref:h,object:C,enableDamping:r},u))});var LF={exports:{}},Hj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zj=Hj,Gj=zj;function IF(){}function DF(){}DF.resetWarningCache=IF;var Vj=function(){function t(i,r,s,o,a,l){if(l!==Gj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:DF,resetWarningCache:IF};return n.PropTypes=n,n};LF.exports=Vj();var FF=LF.exports;const c_=bF>=154?"opaque_fragment":"output_fragment";class Wj extends Sd{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${c_}>`,`
        ${r?`#include <${c_}>`:`#extension GL_OES_standard_derivatives : enable
#include <${c_}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${bF>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const jj=j.forwardRef((t,e)=>{const[n]=j.useState(()=>new Wj(null));return j.createElement("primitive",wo({},t,{object:n,ref:e,attach:"material"}))});let rl,Wf;const Xj=j.createContext(null),CR=new lt,bR=new F,Jj=j.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const s=j.useRef(null);j.useImperativeHandle(r,()=>s.current,[]);const[o,a]=j.useState([]),[[l,u,h]]=j.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);j.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Nd(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),CR.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),rl=0;rl<o.length;rl++)Wf=o[rl].current,Wf.getWorldPosition(bR).applyMatrix4(CR),bR.toArray(l,rl*3),s.current.geometry.attributes.position.needsUpdate=!0,Wf.matrixWorldNeedsUpdate=!0,Wf.color.toArray(u,rl*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([Wf.size],rl),s.current.geometry.attributes.size.needsUpdate=!0});const d=j.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return j.createElement("points",wo({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),j.createElement("bufferGeometry",null,j.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Dl}),j.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Dl}),j.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:Dl})),j.createElement(Xj.Provider,{value:d},t))}),Kj=j.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...s},o)=>{const a=j.useRef(null);return j.useImperativeHandle(o,()=>a.current,[]),Nd(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),j.createElement("points",wo({ref:a},s),j.createElement("bufferGeometry",null,j.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:Dl}),n&&j.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/r,array:n,itemSize:3,usage:Dl}),i&&j.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:Dl})),t)}),Yj=j.forwardRef((t,e)=>t.positions instanceof Float32Array?j.createElement(Kj,wo({},t,{ref:e})):j.createElement(Jj,wo({},t,{ref:e})));function JM({all:t,scene:e,camera:n}){const i=Nr(({gl:o})=>o),r=Nr(({camera:o})=>o),s=Nr(({scene:o})=>o);return j.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,n||r);const a=new fM(128);new cM(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const NF=({isMobile:t})=>{const{progress:e}=$6();return J.jsxs(Y6,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:t?200:void 0},children:[J.jsx("span",{className:"canvas-loader"}),J.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[e.toFixed(2),"%"]})]})},$j=()=>{const t=Ud("./planet/scene.glb");return J.jsx("primitive",{object:t.scene,scale:2.5,"position-y":0,"rotation-y":0})},Qj=()=>J.jsx(WM,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},className:"canvas",children:J.jsxs(j.Suspense,{fallback:J.jsx(NF,{}),children:[J.jsx(BF,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),J.jsx($j,{}),J.jsx(JM,{all:!0})]})}),Zj=({isMobile:t,yValue:e})=>{const n=Ud("./desktop_pc/scene.glb");return J.jsxs("mesh",{children:[J.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),J.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),J.jsx("pointLight",{intensity:1}),J.jsx("primitive",{object:n.scene,scale:t?.33:.7,position:t?[0,e,-.7]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},qj=()=>{const[t,e]=j.useState(!1),[n,i]=j.useState(0);return j.useEffect(()=>{const r=window.matchMedia("(max-width: 500px)");e(r.matches);const s=o=>{e(o.matches)};return i(window.innerHeight<700?window.innerHeight<600?-3.5:-3:-2.5),r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[]),J.jsxs(WM,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},className:"canvas",children:[J.jsxs(j.Suspense,{fallback:J.jsx(NF,{isMobile:t}),children:[J.jsx(BF,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),J.jsx(Zj,{isMobile:t,yValue:n})]}),J.jsx(JM,{all:!0})]})};function wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(i){wc(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}new me;new me;var Br=function t(e,n,i){var r=this;kF(this,t),wc(this,"dot2",function(s,o){return r.x*s+r.y*o}),wc(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},eX=[new Br(1,1,0),new Br(-1,1,0),new Br(1,-1,0),new Br(-1,-1,0),new Br(1,0,1),new Br(-1,0,1),new Br(1,0,-1),new Br(-1,0,-1),new Br(0,1,1),new Br(0,-1,1),new Br(0,1,-1),new Br(0,-1,-1)],BR=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],LR=new Array(512),IR=new Array(512),tX=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=BR[n]^e&255:i=BR[n]^e>>8&255,LR[n]=LR[n+256]=i,IR[n]=IR[n+256]=eX[i%12]}};tX(0);function nX(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function DR(t){var e=nX(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var iX=function t(e){var n=this;kF(this,t),wc(this,"seed",0),wc(this,"init",function(i){n.seed=i,n.value=DR(i)}),wc(this,"value",DR(this.seed)),this.init(e)},rX=new iX(Math.random()),sX={radius:1,center:[0,0,0]};function oX(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rX,i=PR(PR({},sX),e),r=i.radius,s=i.center,o=0;o<t.length;o+=3){var a=Math.pow(n.value(),.3333333333333333),l=n.value()*2-1,u=n.value()*2-1,h=n.value()*2-1,d=Math.sqrt(l*l+u*u+h*h);l=a*l/d,u=a*u/d,h=a*h/d,t[o]=l*r+s[0],t[o+1]=u*r+s[1],t[o+2]=h*r+s[2]}return t}const aX=t=>{const e=j.useRef(),[n]=j.useState(()=>oX(new Float32Array(5001),{radius:1.2}));return Nd((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),J.jsx("group",{rotation:[0,0,Math.PI/4],children:J.jsx(Yj,{ref:e,positions:n,stride:3,frustumCulled:!0,...t,children:J.jsx(jj,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},lX=()=>J.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:J.jsxs(WM,{camera:{position:[0,0,1]},children:[J.jsx(j.Suspense,{fallback:null,children:J.jsx(aX,{})}),J.jsx(JM,{all:!0})]})}),OF=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xy=j.createContext({}),KM=j.createContext(null),_y=typeof document<"u",FR=_y?j.useLayoutEffect:j.useEffect,UF=j.createContext({strict:!1});function uX(t,e,n,i){const{visualElement:r}=j.useContext(xy),s=j.useContext(UF),o=j.useContext(KM),a=j.useContext(OF).reducedMotion,l=j.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return j.useInsertionEffect(()=>{u&&u.update(n,o)}),FR(()=>{u&&u.render()}),j.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?FR:j.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function fc(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cX(t,e,n){return j.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):fc(n)&&(n.current=i))},[e])}function td(t){return typeof t=="string"||Array.isArray(t)}function Sy(t){return typeof t=="object"&&typeof t.start=="function"}const YM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$M=["initial",...YM];function Ay(t){return Sy(t.animate)||$M.some(e=>td(t[e]))}function HF(t){return!!(Ay(t)||t.variants)}function fX(t,e){if(Ay(t)){const{initial:n,animate:i}=t;return{initial:n===!1||td(n)?n:void 0,animate:td(i)?i:void 0}}return t.inherit!==!1?e:{}}function hX(t){const{initial:e,animate:n}=fX(t,j.useContext(xy));return j.useMemo(()=>({initial:e,animate:n}),[NR(e),NR(n)])}function NR(t){return Array.isArray(t)?t.join(" "):t}const kR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nd={};for(const t in kR)nd[t]={isEnabled:e=>kR[t].some(n=>!!e[n])};function dX(t){for(const e in t)nd[e]={...nd[e],...t[e]}}const zF=j.createContext({}),GF=j.createContext({}),pX=Symbol.for("motionComponentSymbol");function mX({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&dX(t);function s(a,l){let u;const h={...j.useContext(OF),...a,layoutId:gX(a)},{isStatic:d}=h,p=hX(a),m=i(a,d);if(!d&&_y){p.visualElement=uX(r,m,h,e);const v=j.useContext(GF),M=j.useContext(UF).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,M,t,v))}return j.createElement(xy.Provider,{value:p},u&&p.visualElement?j.createElement(u,{visualElement:p.visualElement,...h}):null,n(r,a,cX(m,p.visualElement,l),m,d,p.visualElement))}const o=j.forwardRef(s);return o[pX]=r,o}function gX({layoutId:t}){const e=j.useContext(zF).id;return e&&t!==void 0?e+"-"+t:t}function yX(t){function e(i,r={}){return mX(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const vX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QM(t){return typeof t!="string"||t.includes("-")?!1:!!(vX.indexOf(t)>-1||/[A-Z]/.test(t))}const v0={};function xX(t){Object.assign(v0,t)}const Hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iu=new Set(Hd);function VF(t,{layout:e,layoutId:n}){return iu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!v0[t]||t==="opacity")}const $i=t=>!!(t&&t.getVelocity),_X={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SX=Hd.length;function AX(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let s="";for(let o=0;o<SX;o++){const a=Hd[o];if(t[a]!==void 0){const l=_X[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(t,i?"":s):n&&i&&(s="none"),s}const WF=t=>e=>typeof e=="string"&&e.startsWith(t),jF=WF("--"),SS=WF("var(--"),MX=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,EX=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pa=(t,e,n)=>Math.min(Math.max(n,t),e),ru={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xh={...ru,transform:t=>Pa(0,1,t)},Zm={...ru,default:1},_h=t=>Math.round(t*1e5)/1e5,My=/(-)?([\d]*\.?[\d])+/g,XF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wX=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zd(t){return typeof t=="string"}const Gd=t=>({test:e=>zd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$o=Gd("deg"),Os=Gd("%"),at=Gd("px"),TX=Gd("vh"),CX=Gd("vw"),OR={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},UR={...ru,transform:Math.round},JF={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:$o,rotateX:$o,rotateY:$o,rotateZ:$o,scale:Zm,scaleX:Zm,scaleY:Zm,scaleZ:Zm,skew:$o,skewX:$o,skewY:$o,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:xh,originX:OR,originY:OR,originZ:at,zIndex:UR,fillOpacity:xh,strokeOpacity:xh,numOctaves:UR};function ZM(t,e,n,i){const{style:r,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,h=!0;for(const d in e){const p=e[d];if(jF(d)){s[d]=p;continue}const m=JF[d],v=EX(p,m);if(iu.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=AX(t.transform,n,h,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const qM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KF(t,e,n){for(const i in e)!$i(e[i])&&!VF(i,n)&&(t[i]=e[i])}function bX({transformTemplate:t},e,n){return j.useMemo(()=>{const i=qM();return ZM(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function RX(t,e,n){const i=t.style||{},r={};return KF(r,i,t),Object.assign(r,bX(t,e,n)),t.transformValues?t.transformValues(r):r}function PX(t,e,n){const i={},r=RX(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const BX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function x0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||BX.has(t)}let YF=t=>!x0(t);function LX(t){t&&(YF=e=>e.startsWith("on")?!x0(e):t(e))}try{LX(require("@emotion/is-prop-valid").default)}catch{}function IX(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(YF(r)||n===!0&&x0(r)||!e&&!x0(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function HR(t,e,n){return typeof t=="string"?t:at.transform(e+n*t)}function DX(t,e,n){const i=HR(e,t.x,t.width),r=HR(n,t.y,t.height);return`${i} ${r}`}const FX={offset:"stroke-dashoffset",array:"stroke-dasharray"},NX={offset:"strokeDashoffset",array:"strokeDasharray"};function kX(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?FX:NX;t[s.offset]=at.transform(-i);const o=at.transform(e),a=at.transform(n);t[s.array]=`${o} ${a}`}function eE(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,d,p){if(ZM(t,u,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:M}=t;m.transform&&(M&&(v.transform=m.transform),delete m.transform),M&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=DX(M,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),o!==void 0&&kX(m,o,a,l,!1)}const $F=()=>({...qM(),attrs:{}}),tE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OX(t,e,n,i){const r=j.useMemo(()=>{const s=$F();return eE(s,e,{enableHardwareAcceleration:!1},tE(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};KF(s,t.style,t),r.style={...s,...r.style}}return r}function UX(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(QM(n)?OX:PX)(i,s,o,n),h={...IX(i,typeof n=="string",t),...l,ref:r},{children:d}=i,p=j.useMemo(()=>$i(d)?d.get():d,[d]);return j.createElement(n,{...h,children:p})}}const nE=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function QF(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const ZF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qF(t,e,n,i){QF(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(ZF.has(r)?r:nE(r),e.attrs[r])}function iE(t,e){const{style:n}=t,i={};for(const r in n)($i(n[r])||e.style&&$i(e.style[r])||VF(r,t))&&(i[r]=n[r]);return i}function e3(t,e){const n=iE(t,e);for(const i in t)if($i(t[i])||$i(e[i])){const r=Hd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function rE(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function HX(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const _0=t=>Array.isArray(t),zX=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GX=t=>_0(t)?t[t.length-1]||0:t;function bg(t){const e=$i(t)?t.get():t;return zX(e)?e.toValue():e}function VX({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:WX(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const t3=t=>(e,n)=>{const i=j.useContext(xy),r=j.useContext(KM),s=()=>VX(t,e,i,r);return n?s():HX(s)};function WX(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=bg(s[p]);let{initial:o,animate:a}=t;const l=Ay(t),u=HF(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!Sy(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=rE(t,m);if(!v)return;const{transitionEnd:M,transition:x,...g}=v;for(const _ in g){let A=g[_];if(Array.isArray(A)){const E=h?A.length-1:0;A=A[E]}A!==null&&(r[_]=A)}for(const _ in M)r[_]=M[_]}),r}const jX={useVisualState:t3({scrapeMotionValuesFromProps:e3,createRenderState:$F,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}eE(n,i,{enableHardwareAcceleration:!1},tE(e.tagName),t.transformTemplate),qF(e,n)}})},XX={useVisualState:t3({scrapeMotionValuesFromProps:iE,createRenderState:qM})};function JX(t,{forwardMotionProps:e=!1},n,i){return{...QM(t)?jX:XX,preloadedFeatures:n,useRender:UX(e),createVisualElement:i,Component:t}}function po(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const n3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ey(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const KX=t=>e=>n3(e)&&t(e,Ey(e));function vo(t,e,n,i){return po(t,e,KX(n),i)}const YX=(t,e)=>n=>e(t(n)),Sa=(...t)=>t.reduce(YX);function i3(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const zR=i3("dragHorizontal"),GR=i3("dragVertical");function r3(t){let e=!1;if(t==="y")e=GR();else if(t==="x")e=zR();else{const n=zR(),i=GR();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function s3(){const t=r3(!0);return t?(t(),!1):!0}class Oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $X(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const d=h&&r,p=d?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let u=0;u<i;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const fn={delta:0,timestamp:0,isProcessing:!1},QX=40;let AS=!0,id=!1;const wy=["read","update","preRender","render","postRender"],Tc=wy.reduce((t,e)=>(t[e]=$X(()=>id=!0),t),{}),ZX=t=>Tc[t].process(fn),o3=t=>{id=!1,fn.delta=AS?1e3/60:Math.max(Math.min(t-fn.timestamp,QX),1),fn.timestamp=t,fn.isProcessing=!0,wy.forEach(ZX),fn.isProcessing=!1,id&&(AS=!1,requestAnimationFrame(o3))},qX=()=>{id=!0,AS=!0,fn.isProcessing||requestAnimationFrame(o3)},gn=wy.reduce((t,e)=>{const n=Tc[e];return t[e]=(i,r=!1,s=!1)=>(id||qX(),n.schedule(i,r,s)),t},{});function To(t){wy.forEach(e=>Tc[e].cancel(t))}function VR(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||s3())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[i]&&gn.update(()=>a[i](s,o))};return vo(t.current,n,r,{passive:!t.getProps()[i]})}class eJ extends Oa{mount(){this.unmount=Sa(VR(this.node,!0),VR(this.node,!1))}unmount(){}}class tJ extends Oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(po(this.node.current,"focus",()=>this.onFocus()),po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const a3=(t,e)=>e?t===e?!0:a3(t,e.parentElement):!1,Un=t=>t;function f_(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ey(n))}class nJ extends Oa{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=vo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h}=this.node.getProps();gn.update(()=>{a3(this.node.current,a.target)?u&&u(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=vo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Sa(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||f_("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&gn.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=po(this.node.current,"keyup",o),f_("down",(a,l)=>{this.startPress(a,l)})},n=po(this.node.current,"keydown",e),i=()=>{this.isPressing&&f_("cancel",(s,o)=>this.cancelPress(s,o))},r=po(this.node.current,"blur",i);this.removeAccessibleListeners=Sa(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&gn.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!s3()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&gn.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=vo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=po(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sa(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const MS=new WeakMap,h_=new WeakMap,iJ=t=>{const e=MS.get(t.target);e&&e(t)},rJ=t=>{t.forEach(iJ)};function sJ({root:t,...e}){const n=t||document;h_.has(n)||h_.set(n,{});const i=h_.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(rJ,{root:t,...e})),i[r]}function oJ(t,e,n){const i=sJ(e);return MS.set(t,n),i.observe(t),()=>{MS.delete(t),i.unobserve(t)}}const aJ={some:0,all:1};class lJ extends Oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:aJ[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=u?h:d;p&&p(l)};return oJ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uJ(e,n))&&this.startObserver()}unmount(){}}function uJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cJ={inView:{Feature:lJ},tap:{Feature:nJ},focus:{Feature:tJ},hover:{Feature:eJ}};function l3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function fJ(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function hJ(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Ty(t,e,n){const i=t.getProps();return rE(i,e,n!==void 0?n:i.custom,fJ(t),hJ(t))}const dJ="framerAppearId",pJ="data-"+nE(dJ);let mJ=Un,sE=Un;const Aa=t=>t*1e3,xo=t=>t/1e3,gJ={current:!1},u3=t=>Array.isArray(t)&&typeof t[0]=="number";function c3(t){return!!(!t||typeof t=="string"&&f3[t]||u3(t)||Array.isArray(t)&&t.every(c3))}const eh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,f3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eh([0,.65,.55,1]),circOut:eh([.55,0,1,.45]),backIn:eh([.31,.01,.66,-.59]),backOut:eh([.33,1.53,.69,.99])};function h3(t){if(t)return u3(t)?eh(t):Array.isArray(t)?t.map(h3):f3[t]}function yJ(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=h3(a);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const WR={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},d_={},d3={};for(const t in WR)d3[t]=()=>(d_[t]===void 0&&(d_[t]=WR[t]()),d_[t]);function vJ(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const p3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xJ=1e-7,_J=12;function SJ(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=p3(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>xJ&&++a<_J);return o}function Vd(t,e,n,i){if(t===e&&n===i)return Un;const r=s=>SJ(s,0,1,t,n);return s=>s===0||s===1?s:p3(r(s),e,i)}const AJ=Vd(.42,0,1,1),MJ=Vd(0,0,.58,1),m3=Vd(.42,0,.58,1),EJ=t=>Array.isArray(t)&&typeof t[0]!="number",g3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,y3=t=>e=>1-t(1-e),v3=t=>1-Math.sin(Math.acos(t)),oE=y3(v3),wJ=g3(oE),x3=Vd(.33,1.53,.69,.99),aE=y3(x3),TJ=g3(aE),CJ=t=>(t*=2)<1?.5*aE(t):.5*(2-Math.pow(2,-10*(t-1))),bJ={linear:Un,easeIn:AJ,easeInOut:m3,easeOut:MJ,circIn:v3,circInOut:wJ,circOut:oE,backIn:aE,backInOut:TJ,backOut:x3,anticipate:CJ},jR=t=>{if(Array.isArray(t)){sE(t.length===4);const[e,n,i,r]=t;return Vd(e,n,i,r)}else if(typeof t=="string")return bJ[t];return t},lE=(t,e)=>n=>!!(zd(n)&&wX.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),_3=(t,e,n)=>i=>{if(!zd(i))return i;const[r,s,o,a]=i.match(My);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RJ=t=>Pa(0,255,t),p_={...ru,transform:t=>Math.round(RJ(t))},bl={test:lE("rgb","red"),parse:_3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+p_.transform(t)+", "+p_.transform(e)+", "+p_.transform(n)+", "+_h(xh.transform(i))+")"};function PJ(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const ES={test:lE("#"),parse:PJ,transform:bl.transform},hc={test:lE("hsl","hue"),parse:_3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Os.transform(_h(e))+", "+Os.transform(_h(n))+", "+_h(xh.transform(i))+")"},Ci={test:t=>bl.test(t)||ES.test(t)||hc.test(t),parse:t=>bl.test(t)?bl.parse(t):hc.test(t)?hc.parse(t):ES.parse(t),transform:t=>zd(t)?t:t.hasOwnProperty("red")?bl.transform(t):hc.transform(t)},mn=(t,e,n)=>-n*t+n*e+t;function m_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BJ({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=m_(l,a,t+1/3),s=m_(l,a,t),o=m_(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const g_=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},LJ=[ES,bl,hc],IJ=t=>LJ.find(e=>e.test(t));function XR(t){const e=IJ(t);let n=e.parse(t);return e===hc&&(n=BJ(n)),n}const S3=(t,e)=>{const n=XR(t),i=XR(e),r={...n};return s=>(r.red=g_(n.red,i.red,s),r.green=g_(n.green,i.green,s),r.blue=g_(n.blue,i.blue,s),r.alpha=mn(n.alpha,i.alpha,s),bl.transform(r))};function DJ(t){var e,n;return isNaN(t)&&zd(t)&&(((e=t.match(My))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(XF))===null||n===void 0?void 0:n.length)||0)>0}const A3={regex:MX,countKey:"Vars",token:"${v}",parse:Un},M3={regex:XF,countKey:"Colors",token:"${c}",parse:Ci.parse},E3={regex:My,countKey:"Numbers",token:"${n}",parse:ru.parse};function y_(t,{regex:e,countKey:n,token:i,parse:r}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...s.map(r)))}function S0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&y_(n,A3),y_(n,M3),y_(n,E3),n}function w3(t){return S0(t).values}function T3(t){const{values:e,numColors:n,numVars:i,tokenised:r}=S0(t),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(A3.token,o[l]):l<i+n?a=a.replace(M3.token,Ci.transform(o[l])):a=a.replace(E3.token,_h(o[l]));return a}}const FJ=t=>typeof t=="number"?0:t;function NJ(t){const e=w3(t);return T3(t)(e.map(FJ))}const Ba={test:DJ,parse:w3,createTransformer:T3,getAnimatableNone:NJ},C3=(t,e)=>n=>`${n>0?e:t}`;function b3(t,e){return typeof t=="number"?n=>mn(t,e,n):Ci.test(t)?S3(t,e):t.startsWith("var(")?C3(t,e):P3(t,e)}const R3=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>b3(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},kJ=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=b3(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},P3=(t,e)=>{const n=Ba.createTransformer(e),i=S0(t),r=S0(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Sa(R3(i.values,r.values),n):C3(t,e)},rd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},JR=(t,e)=>n=>mn(t,e,n);function OJ(t){return typeof t=="number"?JR:typeof t=="string"?Ci.test(t)?S3:P3:Array.isArray(t)?R3:typeof t=="object"?kJ:JR}function UJ(t,e,n){const i=[],r=n||OJ(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=Sa(l,a)}i.push(a)}return i}function B3(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(sE(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=UJ(e,i,r),a=o.length,l=u=>{let h=0;if(a>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=rd(t[h],t[h+1],u);return o[h](d)};return n?u=>l(Pa(t[0],t[s-1],u)):l}function HJ(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=rd(0,e,i);t.push(mn(n,1,r))}}function zJ(t){const e=[0];return HJ(e,t.length-1),e}function GJ(t,e){return t.map(n=>n*e)}function VJ(t,e){return t.map(()=>e||m3).splice(0,t.length-1)}function A0({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=EJ(i)?i.map(jR):jR(i),s={done:!1,value:e[0]},o=GJ(n&&n.length===e.length?n:zJ(e),t),a=B3(o,e,{ease:Array.isArray(r)?r:VJ(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function L3(t,e){return e?t*(1e3/e):0}const WJ=5;function I3(t,e,n){const i=Math.max(e-WJ,0);return L3(n-t(i),e-i)}const v_=.001,jJ=.01,KR=10,XJ=.05,JJ=1;function KJ({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;mJ(t<=Aa(KR));let o=1-e;o=Pa(XJ,JJ,o),t=Pa(jJ,KR,xo(t)),o<1?(r=u=>{const h=u*o,d=h*t,p=h-n,m=wS(u,o),v=Math.exp(-d);return v_-p/m*v},s=u=>{const d=u*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-d),M=wS(Math.pow(u,2),o);return(-r(u)+v_>0?-1:1)*((p-m)*v)/M}):(r=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-v_+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=$J(r,s,a);if(t=Aa(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const YJ=12;function $J(t,e,n){let i=n;for(let r=1;r<YJ;r++)i=i-t(i)/e(i);return i}function wS(t,e){return t*Math.sqrt(1-e*e)}const QJ=["duration","bounce"],ZJ=["stiffness","damping","mass"];function YR(t,e){return e.some(n=>t[n]!==void 0)}function qJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!YR(t,ZJ)&&YR(t,QJ)){const n=KJ(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function D3({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],s=t[t.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:h,duration:d,isResolvedFromDuration:p}=qJ(i),m=h?-xo(h):0,v=l/(2*Math.sqrt(a*u)),M=s-r,x=xo(Math.sqrt(a/u)),g=Math.abs(M)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let _;if(v<1){const A=wS(x,v);_=E=>{const C=Math.exp(-v*x*E);return s-C*((m+v*x*M)/A*Math.sin(A*E)+M*Math.cos(A*E))}}else if(v===1)_=A=>s-Math.exp(-x*A)*(M+(m+x*M)*A);else{const A=x*Math.sqrt(v*v-1);_=E=>{const C=Math.exp(-v*x*E),b=Math.min(A*E,300);return s-C*((m+v*x*M)*Math.sinh(b)+A*M*Math.cosh(b))/A}}return{calculatedDuration:p&&d||null,next:A=>{const E=_(A);if(p)o.done=A>=d;else{let C=m;A!==0&&(v<1?C=I3(_,A,E):C=0);const b=Math.abs(C)<=n,B=Math.abs(s-E)<=e;o.done=b&&B}return o.value=o.done?s:E,o}}}function $R({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,v=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let M=n*e;const x=d+M,g=o===void 0?x:o(x);g!==x&&(M=g-d);const _=L=>-M*Math.exp(-L/i),A=L=>g+_(L),E=L=>{const R=_(L),P=A(L);p.done=Math.abs(R)<=u,p.value=p.done?g:P};let C,b;const B=L=>{m(p.value)&&(C=L,b=D3({keyframes:[p.value,v(p.value)],velocity:I3(A,L,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:h}))};return B(0),{calculatedDuration:null,next:L=>{let R=!1;return!b&&C===void 0&&(R=!0,E(L),B(L)),C!==void 0&&L>C?b.next(L-C):(!R&&E(L),p)}}}const e7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gn.update(e,!0),stop:()=>To(e),now:()=>fn.isProcessing?fn.timestamp:performance.now()}},QR=2e4;function ZR(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<QR;)e+=n,i=t.next(e);return e>=QR?1/0:e}const t7={decay:$R,inertia:$R,tween:A0,keyframes:A0,spring:D3};function M0({autoplay:t=!0,delay:e=0,driver:n=e7,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:d,...p}){let m=1,v=!1,M,x;const g=()=>{M&&M(),x=new Promise(Z=>{M=Z})};g();let _;const A=t7[r]||A0;let E;A!==A0&&typeof i[0]!="number"&&(E=B3([0,100],i,{clamp:!1}),i=[0,100]);const C=A({...p,keyframes:i});let b;a==="mirror"&&(b=A({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let B="idle",L=null,R=null,P=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=ZR(C));const{calculatedDuration:H}=C;let ee=1/0,K=1/0;H!==null&&(ee=H+o,K=ee*(s+1)-o);let Q=0;const Y=Z=>{if(R===null)return;m>0&&(R=Math.min(R,Z)),L!==null?Q=L:Q=(Z-R)*m;const V=Q-e,se=V<0;Q=Math.max(V,0),B==="finished"&&L===null&&(Q=K);let ce=Q,Ae=C;if(s){const $e=Q/ee;let nt=Math.floor($e),Ee=$e%1;!Ee&&$e>=1&&(Ee=1),Ee===1&&nt--,nt=Math.min(nt,s+1);const G=!!(nt%2);G&&(a==="reverse"?(Ee=1-Ee,o&&(Ee-=o/ee)):a==="mirror"&&(Ae=b));let ve=Pa(0,1,Ee);Q>K&&(ve=a==="reverse"&&G?1:0),ce=ve*ee}const _e=se?{done:!1,value:i[0]}:Ae.next(ce);E&&(_e.value=E(_e.value));let{done:Pe}=_e;!se&&H!==null&&(Pe=Q>=K);const qe=L===null&&(B==="finished"||B==="running"&&Pe||m<0&&Q<=0);return d&&d(_e.value),qe&&I(),_e},ae=()=>{_&&_.stop(),_=void 0},ne=()=>{B="idle",ae(),g(),R=P=null},I=()=>{B="finished",h&&h(),ae(),g()},z=()=>{if(v)return;_||(_=n(Y));const Z=_.now();l&&l(),L!==null?R=Z-L:(!R||B==="finished")&&(R=Z),P=R,L=null,B="running",_.start()};t&&z();const U={then(Z,V){return x.then(Z,V)},get time(){return xo(Q)},set time(Z){Z=Aa(Z),Q=Z,L!==null||!_||m===0?L=Z:R=_.now()-Z/m},get duration(){const Z=C.calculatedDuration===null?ZR(C):C.calculatedDuration;return xo(Z)},get speed(){return m},set speed(Z){Z===m||!_||(m=Z,U.time=xo(Q))},get state(){return B},play:z,pause:()=>{B="paused",L=Q},stop:()=>{v=!0,B!=="idle"&&(B="idle",u&&u(),ne())},cancel:()=>{P!==null&&Y(P),ne()},complete:()=>{B="finished"},sample:Z=>(R=0,Y(Z))};return U}const n7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),qm=10,i7=2e4,r7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!c3(e.ease);function s7(t,e,{onUpdate:n,onComplete:i,...r}){if(!(d3.waapi()&&n7.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:h,duration:d=300,ease:p,times:m}=r;if(r7(e,r)){const g=M0({...r,repeat:0,delay:0});let _={done:!1,value:h[0]};const A=[];let E=0;for(;!_.done&&E<i7;)_=g.sample(E),A.push(_.value),E+=qm;m=void 0,h=A,d=E-qm,p="linear"}const v=yJ(t.owner.current,e,h,{...r,duration:d,ease:p,times:m}),M=()=>v.cancel(),x=()=>{gn.update(M),a(),u()};return v.onfinish=()=>{t.set(vJ(h,r)),i&&i(),x()},{then(g,_){return l.then(g,_)},get time(){return xo(v.currentTime||0)},set time(g){v.currentTime=Aa(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return xo(d)},play:()=>{o||(v.play(),To(M))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const _=M0({...r,autoplay:!1});t.setWithVelocity(_.sample(g-qm).value,_.sample(g).value,qm)}x()},complete:()=>v.finish(),cancel:x}}function o7({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Un,pause:Un,stop:Un,then:s=>(s(),Promise.resolve()),cancel:Un,complete:Un});return e?M0({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const a7={type:"spring",stiffness:500,damping:25,restSpeed:10},l7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u7={type:"keyframes",duration:.8},c7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f7=(t,{keyframes:e})=>e.length>2?u7:iu.has(t)?t.startsWith("scale")?l7(e[1]):a7:c7,TS=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ba.test(e)||e==="0")&&!e.startsWith("url(")),h7=new Set(["brightness","contrast","saturate","opacity"]);function d7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(My)||[];if(!i)return t;const r=n.replace(i,"");let s=h7.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const p7=/([a-z-]*)\(.*?\)/g,CS={...Ba,getAnimatableNone:t=>{const e=t.match(p7);return e?e.map(d7).join(" "):t}},m7={...JF,color:Ci,backgroundColor:Ci,outlineColor:Ci,fill:Ci,stroke:Ci,borderColor:Ci,borderTopColor:Ci,borderRightColor:Ci,borderBottomColor:Ci,borderLeftColor:Ci,filter:CS,WebkitFilter:CS},uE=t=>m7[t];function F3(t,e){let n=uE(t);return n!==CS&&(n=Ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N3=t=>/^0[^.\s]+$/.test(t);function g7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||N3(t)}function y7(t,e,n,i){const r=TS(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=i.from!==void 0?i.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),g7(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(r&&l.length&&a)for(let u=0;u<l.length;u++){const h=l[u];s[h]=F3(e,a)}return s}function v7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function k3(t,e){return t[e]||t.default||t}const cE=(t,e,n,i={})=>r=>{const s=k3(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Aa(o);const l=y7(e,t,n,s),u=l[0],h=l[l.length-1],d=TS(t,u),p=TS(t,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(v7(s)||(m={...m,...f7(t,m)}),m.duration&&(m.duration=Aa(m.duration)),m.repeatDelay&&(m.repeatDelay=Aa(m.repeatDelay)),!d||!p||gJ.current||s.type===!1)return o7(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=s7(e,t,m);if(v)return v}return M0(m)};function E0(t){return!!($i(t)&&t.add)}const x7=t=>/^\-?\d*\.?\d+$/.test(t);function fE(t,e){t.indexOf(e)===-1&&t.push(e)}function hE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dE{constructor(){this.subscriptions=[]}add(e){return fE(this.subscriptions,e),()=>hE(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _7=t=>!isNaN(parseFloat(t));class S7{constructor(e,n={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=fn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,gn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>gn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dE);const i=this.events[e].add(n);return e==="change"?()=>{i(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?L3(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zc(t,e){return new S7(t,e)}const O3=t=>e=>e.test(t),A7={test:t=>t==="auto",parse:t=>t},U3=[ru,at,Os,$o,CX,TX,A7],jf=t=>U3.find(O3(t)),M7=[...U3,Ci,Ba],E7=t=>M7.find(O3(t));function w7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zc(n))}function T7(t,e){const n=Ty(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=GX(s[o]);w7(t,o,a)}}function C7(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(x7(h)||N3(h))?h=parseFloat(h):!E7(h)&&Ba.test(u)&&(h=F3(l,u)),t.addValue(l,zc(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function b7(t,e){return e?(e[t]||e.default||e).from:void 0}function R7(t,e,n){const i={};for(const r in t){const s=b7(r,e);if(s!==void 0)i[r]=s;else{const o=n.getValue(r);o&&(i[r]=o.get())}}return i}function P7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function H3(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(s=i);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const d in a){const p=t.getValue(d),m=a[d];if(!p||m===void 0||h&&P7(h,d))continue;const v={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=t.getProps()[pJ];x&&(v.elapsed=window.HandoffAppearAnimations(x,d,p,gn))}p.start(cE(d,p,m,t.shouldReduceMotion&&iu.has(d)?{type:!1}:v));const M=p.animation;E0(l)&&(l.add(d),M.then(()=>l.remove(d))),u.push(M)}return o&&Promise.all(u).then(()=>{o&&T7(t,o)}),u}function bS(t,e,n={}){const i=Ty(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(H3(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=r;return B7(t,e,u+l,h,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function B7(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(t.variantChildren).sort(L7).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(bS(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function L7(t,e){return t.sortNodePosition(e)}function I7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>bS(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=bS(t,e,n);else{const r=typeof e=="function"?Ty(t,e,n.custom):e;i=Promise.all(H3(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const D7=[...YM].reverse(),F7=YM.length;function N7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>I7(t,n,i)))}function k7(t){let e=N7(t);const n=U7();let i=!0;const r=(l,u)=>{const h=Ty(t,u);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(t)}function o(l,u){const h=t.getProps(),d=t.getVariantContext(!0)||{},p=[],m=new Set;let v={},M=1/0;for(let g=0;g<F7;g++){const _=D7[g],A=n[_],E=h[_]!==void 0?h[_]:d[_],C=td(E),b=_===u?A.isActive:null;b===!1&&(M=g);let B=E===d[_]&&E!==h[_]&&C;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),A.protectedKeys={...v},!A.isActive&&b===null||!E&&!A.prevProp||Sy(E)||typeof E=="boolean")continue;const L=O7(A.prevProp,E);let R=L||_===u&&A.isActive&&!B&&C||g>M&&C;const P=Array.isArray(E)?E:[E];let H=P.reduce(r,{});b===!1&&(H={});const{prevResolvedValues:ee={}}=A,K={...ee,...H},Q=Y=>{R=!0,m.delete(Y),A.needsAnimating[Y]=!0};for(const Y in K){const ae=H[Y],ne=ee[Y];v.hasOwnProperty(Y)||(ae!==ne?_0(ae)&&_0(ne)?!l3(ae,ne)||L?Q(Y):A.protectedKeys[Y]=!0:ae!==void 0?Q(Y):m.add(Y):ae!==void 0&&m.has(Y)?Q(Y):A.protectedKeys[Y]=!0)}A.prevProp=E,A.prevResolvedValues=H,A.isActive&&(v={...v,...H}),i&&t.blockInitialAnimation&&(R=!1),R&&!B&&p.push(...P.map(Y=>({animation:Y,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const A=t.getBaseTarget(_);A!==void 0&&(g[_]=A)}),p.push({animation:g})}let x=!!p.length;return i&&h.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,u,h){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=o(h,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function O7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!l3(e,t):!1}function sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U7(){return{animate:sl(!0),whileInView:sl(),whileHover:sl(),whileTap:sl(),whileDrag:sl(),whileFocus:sl(),exit:sl()}}class H7 extends Oa{constructor(e){super(e),e.animationState||(e.animationState=k7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Sy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let z7=0;class G7 extends Oa{constructor(){super(...arguments),this.id=z7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const V7={animation:{Feature:H7},exit:{Feature:G7}},qR=(t,e)=>Math.abs(t-e);function W7(t,e){const n=qR(t.x,e.x),i=qR(t.y,e.y);return Math.sqrt(n**2+i**2)}class z3{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=__(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=W7(u.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=u,{timestamp:m}=fn;this.history.push({...p,timestamp:m});const{onStart:v,onMove:M}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=x_(h,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=__(u.type==="pointercancel"?this.lastMoveEventInfo:x_(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!n3(e))return;this.handlers=n,this.transformPagePoint=i;const r=Ey(e),s=x_(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=fn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,__(s,this.history)),this.removeListeners=Sa(vo(window,"pointermove",this.handlePointerMove),vo(window,"pointerup",this.handlePointerUp),vo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function x_(t,e){return e?{point:e(t.point)}:t}function eP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function __({point:t},e){return{point:t,delta:eP(t,G3(e)),offset:eP(t,j7(e)),velocity:X7(e,.1)}}function j7(t){return t[0]}function G3(t){return t[t.length-1]}function X7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=G3(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Aa(e)));)n--;if(!i)return{x:0,y:0};const s=xo(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xr(t){return t.max-t.min}function RS(t,e=0,n=.01){return Math.abs(t-e)<=n}function tP(t,e,n,i=.5){t.origin=i,t.originPoint=mn(e.min,e.max,t.origin),t.scale=xr(n)/xr(e),(RS(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mn(n.min,n.max,t.origin)-t.originPoint,(RS(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Sh(t,e,n,i){tP(t.x,e.x,n.x,i?i.originX:void 0),tP(t.y,e.y,n.y,i?i.originY:void 0)}function nP(t,e,n){t.min=n.min+e.min,t.max=t.min+xr(e)}function J7(t,e,n){nP(t.x,e.x,n.x),nP(t.y,e.y,n.y)}function iP(t,e,n){t.min=e.min-n.min,t.max=t.min+xr(e)}function Ah(t,e,n){iP(t.x,e.x,n.x),iP(t.y,e.y,n.y)}function K7(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mn(n,t,i.max):Math.min(t,n)),t}function rP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Y7(t,{top:e,left:n,bottom:i,right:r}){return{x:rP(t.x,n,r),y:rP(t.y,e,i)}}function sP(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function $7(t,e){return{x:sP(t.x,e.x),y:sP(t.y,e.y)}}function Q7(t,e){let n=.5;const i=xr(t),r=xr(e);return r>i?n=rd(e.min,e.max-i,t.min):i>r&&(n=rd(t.min,t.max-r,e.min)),Pa(0,1,n)}function Z7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const PS=.35;function q7(t=PS){return t===!1?t=0:t===!0&&(t=PS),{x:oP(t,"left","right"),y:oP(t,"top","bottom")}}function oP(t,e,n){return{min:aP(t,e),max:aP(t,n)}}function aP(t,e){return typeof t=="number"?t:t[e]||0}const lP=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:lP(),y:lP()}),uP=()=>({min:0,max:0}),In=()=>({x:uP(),y:uP()});function Ps(t){return[t("x"),t("y")]}function V3({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function eK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function S_(t){return t===void 0||t===1}function BS({scale:t,scaleX:e,scaleY:n}){return!S_(t)||!S_(e)||!S_(n)}function fl(t){return BS(t)||W3(t)||t.z||t.rotate||t.rotateX||t.rotateY}function W3(t){return cP(t.x)||cP(t.y)}function cP(t){return t&&t!=="0%"}function w0(t,e,n){const i=t-n,r=e*i;return n+r}function fP(t,e,n,i,r){return r!==void 0&&(t=w0(t,r,i)),w0(t,n,i)+e}function LS(t,e=0,n=1,i,r){t.min=fP(t.min,e,n,i,r),t.max=fP(t.max,e,n,i,r)}function j3(t,{x:e,y:n}){LS(t.x,e.translate,e.scale,e.originPoint),LS(t.y,n.translate,n.scale,n.originPoint)}function nK(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,j3(t,o)),i&&fl(s.latestValues)&&pc(t,s.latestValues))}e.x=hP(e.x),e.y=hP(e.y)}function hP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ta(t,e){t.min=t.min+e,t.max=t.max+e}function dP(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=mn(t.min,t.max,s);LS(t,e[n],e[i],o,e.scale)}const iK=["x","scaleX","originX"],rK=["y","scaleY","originY"];function pc(t,e){dP(t.x,e,iK),dP(t.y,e,rK)}function X3(t,e){return V3(tK(t.getBoundingClientRect(),e))}function sK(t,e,n){const i=X3(t,n),{scroll:r}=e;return r&&(ta(i.x,r.offset.x),ta(i.y,r.offset.y)),i}const oK=new WeakMap;class aK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),n&&this.snapToCursor(Ey(l,"page").point)},s=(l,u)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=r3(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(v=>{let M=this.getAxisMotionValue(v).get()||0;if(Os.test(M)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[v];g&&(M=xr(g)*(parseFloat(M)/100))}}this.originPoint[v]=M}),p&&gn.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=u;if(d&&this.currentDirection===null){this.currentDirection=lK(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new z3(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&gn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!eg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=K7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Y7(i.layoutBox,e):this.constraints=!1,this.elastic=q7(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ps(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Z7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=sK(i,r.root,this.visualElement.getTransformPagePoint());let o=$7(r.layout.layoutBox,s);if(n){const a=n(eK(o));this.hasMutatedConstraints=!!a,a&&(o=V3(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ps(h=>{if(!eg(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(cE(e,i,0,n))}stopAnimation(){Ps(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ps(n=>{const{drag:i}=this.getProps();if(!eg(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!fc(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ps(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=Q7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ps(o=>{if(!eg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(mn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;oK.set(this.visualElement,this);const e=this.visualElement.current,n=vo(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();fc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=po(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ps(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=PS,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function eg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uK extends Oa{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new aK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const pP=t=>(e,n)=>{t&&gn.update(()=>t(e,n))};class cK extends Oa{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new z3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:pP(e),onStart:pP(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&gn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fK(){const t=j.useContext(KM);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=j.useId();return j.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Rg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(at.test(t))t=parseFloat(t);else return t;const n=mP(t,e.target.x),i=mP(t,e.target.y);return`${n}% ${i}%`}},hK={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ba.parse(t);if(r.length>5)return i;const s=Ba.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=mn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class dK extends O0.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;xX(pK),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||gn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J3(t){const[e,n]=fK(),i=j.useContext(zF);return O0.createElement(dK,{...t,layoutGroup:i,switchLayoutGroup:j.useContext(GF),isPresent:e,safeToRemove:n})}const pK={borderRadius:{...Xf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xf,borderTopRightRadius:Xf,borderBottomLeftRadius:Xf,borderBottomRightRadius:Xf,boxShadow:hK},K3=["TopLeft","TopRight","BottomLeft","BottomRight"],mK=K3.length,gP=t=>typeof t=="string"?parseFloat(t):t,yP=t=>typeof t=="number"||at.test(t);function gK(t,e,n,i,r,s){r?(t.opacity=mn(0,n.opacity!==void 0?n.opacity:1,yK(i)),t.opacityExit=mn(e.opacity!==void 0?e.opacity:1,0,vK(i))):s&&(t.opacity=mn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<mK;o++){const a=`border${K3[o]}Radius`;let l=vP(e,a),u=vP(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||yP(l)===yP(u)?(t[a]=Math.max(mn(gP(l),gP(u),i),0),(Os.test(u)||Os.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=mn(e.rotate||0,n.rotate||0,i))}function vP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yK=Y3(0,.5,oE),vK=Y3(.5,.95,Un);function Y3(t,e,n){return i=>i<t?0:i>e?1:n(rd(t,e,i))}function xP(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){xP(t.x,e.x),xP(t.y,e.y)}function _P(t,e,n,i,r){return t-=e,t=w0(t,1/n,i),r!==void 0&&(t=w0(t,1/r,i)),t}function xK(t,e=0,n=1,i=.5,r,s=t,o=t){if(Os.test(e)&&(e=parseFloat(e),e=mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=mn(s.min,s.max,i);t===s&&(a-=e),t.min=_P(t.min,e,n,a,r),t.max=_P(t.max,e,n,a,r)}function SP(t,e,[n,i,r],s,o){xK(t,e[n],e[i],e[r],e.scale,s,o)}const _K=["x","scaleX","originX"],SK=["y","scaleY","originY"];function AP(t,e,n,i){SP(t.x,e,_K,n?n.x:void 0,i?i.x:void 0),SP(t.y,e,SK,n?n.y:void 0,i?i.y:void 0)}function MP(t){return t.translate===0&&t.scale===1}function $3(t){return MP(t.x)&&MP(t.y)}function IS(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function EP(t){return xr(t.x)/xr(t.y)}class AK{constructor(){this.members=[]}add(e){fE(this.members,e),e.scheduleRender()}remove(e){if(hE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wP(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:h}=n;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const MK=(t,e)=>t.depth-e.depth;class EK{constructor(){this.children=[],this.isDirty=!1}add(e){fE(this.children,e),this.isDirty=!0}remove(e){hE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MK),this.isDirty=!1,this.children.forEach(e)}}function wK(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(To(i),t(s-e))};return gn.read(i,!0),()=>To(i)}function TK(t){window.MotionDebug&&window.MotionDebug.record(t)}function CK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function bK(t,e,n){const i=$i(t)?t:zc(t);return i.start(cE("",i,e,n)),i.animation}const TP=["","X","Y","Z"],CP=1e3;let RK=0;const hl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Q3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=RK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{hl.totalNodes=hl.resolvedTargetDeltas=hl.recalculatedProjection=0,this.nodes.forEach(LK),this.nodes.forEach(kK),this.nodes.forEach(OK),this.nodes.forEach(IK),TK(hl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=CK(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wK(p,250),Rg.hasAnimatedSinceResize&&(Rg.hasAnimatedSinceResize=!1,this.nodes.forEach(RP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||h.getDefaultTransition()||VK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=h.getProps(),_=!this.targetLayout||!IS(this.targetLayout,v)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const E={...k3(M,"layout"),onPlay:x,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||RP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bP);return}this.isUpdating||this.nodes.forEach(FK),this.isUpdating=!1,this.nodes.forEach(NK),this.nodes.forEach(PK),this.nodes.forEach(BK),this.clearAllSnapshots();const a=performance.now();fn.delta=Pa(0,1e3/60,a-fn.timestamp),fn.timestamp=a,fn.isProcessing=!0,Tc.update.process(fn),Tc.preRender.process(fn),Tc.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(DK),this.sharedNodes.forEach(HK)}scheduleUpdateProjection(){gn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!$3(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||fl(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),WK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return In();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ta(a.x,l.offset.x),ta(a.y,l.offset.y)),a}removeElementScroll(o){const a=In();Lr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:d}=u;if(u!==this.root&&h&&d.layoutScroll){if(h.isRoot){Lr(a,o);const{scroll:p}=this.root;p&&(ta(a.x,-p.offset.x),ta(a.y,-p.offset.y))}ta(a.x,h.offset.x),ta(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=In();Lr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),fl(h.latestValues)&&pc(l,h.latestValues)}return fl(this.latestValues)&&pc(l,this.latestValues),l}removeTransform(o){const a=In();Lr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!fl(u.latestValues))continue;BS(u.latestValues)&&u.updateSnapshot();const h=In(),d=u.measurePageBox();Lr(h,d),AP(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return fl(this.latestValues)&&AP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Ah(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),j3(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Ah(this.relativeTargetOrigin,this.target,m.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||BS(this.parent.latestValues)||W3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;nK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=dc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc());const M=this.projectionTransform;Sh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=wP(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),hl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=In(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,M=m!==v,x=this.getStack(),g=!x||x.members.length<=1,_=!!(M&&!g&&this.options.crossfade===!0&&!this.path.some(GK));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const C=E/1e3;PP(d.x,o.x,C),PP(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ah(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zK(this.relativeTarget,this.relativeTargetOrigin,p,C),A&&IS(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=In()),Lr(A,this.relativeTarget)),M&&(this.animationValues=h,gK(h,u,this.latestValues,C,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{Rg.hasAnimatedSinceResize=!0,this.currentAnimation=bK(0,CP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Z3(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||In();const d=xr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=xr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Lr(a,l),pc(a,h),Sh(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AK),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<TP.length;h++){const d="rotate"+TP[h];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=bg(o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=bg(o.pointerEvents)||""),this.hasProjected&&!fl(this.latestValues)&&(M.transform=h?h({},""):"none",this.hasProjected=!1),M}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=wP(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const M in v0){if(p[M]===void 0)continue;const{correct:x,applyTo:g}=v0[M],_=u.transform==="none"?p[M]:x(p[M],d);if(g){const A=g.length;for(let E=0;E<A;E++)u[g[E]]=_}else u[M]=_}return this.options.layoutId&&(u.pointerEvents=d===this?bg(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(bP),this.root.sharedNodes.clear()}}}function PK(t){t.updateLayout()}function BK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ps(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=xr(p);p.min=i[d].min,p.max=p.min+m}):Z3(s,n.layoutBox,i)&&Ps(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=xr(i[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=dc();Sh(a,i,n.layoutBox);const l=dc();o?Sh(l,t.applyTransform(r,!0),n.measuredBox):Sh(l,i,n.layoutBox);const u=!$3(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=In();Ah(v,n.layoutBox,p.layoutBox);const M=In();Ah(M,i,m.layoutBox),IS(v,M)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function LK(t){hl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DK(t){t.clearSnapshot()}function bP(t){t.clearMeasurements()}function FK(t){t.isLayoutDirty=!1}function NK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kK(t){t.resolveTargetDelta()}function OK(t){t.calcProjection()}function UK(t){t.resetRotation()}function HK(t){t.removeLeadSnapshot()}function PP(t,e,n){t.translate=mn(e.translate,0,n),t.scale=mn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function BP(t,e,n,i){t.min=mn(e.min,n.min,i),t.max=mn(e.max,n.max,i)}function zK(t,e,n,i){BP(t.x,e.x,n.x,i),BP(t.y,e.y,n.y,i)}function GK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VK={duration:.45,ease:[.4,0,.1,1]};function LP(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function WK(t){LP(t.x),LP(t.y)}function Z3(t,e,n){return t==="position"||t==="preserve-aspect"&&!RS(EP(e),EP(n),.2)}const jK=Q3({attachResizeListener:(t,e)=>po(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),A_={current:void 0},q3=Q3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!A_.current){const t=new jK({});t.mount(window),t.setOptions({layoutScroll:!0}),A_.current=t}return A_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XK={pan:{Feature:cK},drag:{Feature:uK,ProjectionNode:q3,MeasureLayout:J3}},JK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KK(t){const e=JK.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function DS(t,e,n=1){const[i,r]=KK(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():SS(r)?DS(r,e,n+1):r}function YK(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!SS(s))return;const o=DS(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!SS(s))continue;const o=DS(s,i);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const $K=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eN=t=>$K.has(t),QK=t=>Object.keys(t).some(eN),IP=t=>t===ru||t===at,DP=(t,e)=>parseFloat(t.split(", ")[e]),FP=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return DP(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?DP(s[1],t):0}},ZK=new Set(["x","y","z"]),qK=Hd.filter(t=>!ZK.has(t));function eY(t){const e=[];return qK.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const NP={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:FP(4,13),y:FP(5,14)},tY=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=NP[u](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),t[u]=NP[u](l,s)}),t},nY=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(eN);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=jf(h);const p=e[l];let m;if(_0(p)){const v=p.length,M=p[0]===null?1:0;h=p[M],d=jf(h);for(let x=M;x<v&&p[x]!==null;x++)m?sE(jf(p[x])===m):m=jf(p[x])}else m=jf(p);if(d!==m)if(IP(d)&&IP(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===at&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?u.set(m.transform(h)):e[l]=d.transform(p):(o||(s=eY(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=tY(e,t,a);return s.length&&s.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),_y&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function iY(t,e,n,i){return QK(e)?nY(t,e,n,i):{target:e,transitionEnd:i}}const rY=(t,e,n,i)=>{const r=YK(t,e,i);return e=r.target,i=r.transitionEnd,iY(t,e,n,i)},FS={current:null},tN={current:!1};function sY(){if(tN.current=!0,!!_y)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>FS.current=t.matches;t.addListener(e),e()}else FS.current=!1}function oY(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if($i(s))t.addValue(r,s),E0(i)&&i.add(r);else if($i(o))t.addValue(r,zc(s,{owner:t})),E0(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,zc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const kP=new WeakMap,nN=Object.keys(nd),aY=nN.length,OP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lY=$M.length;class uY{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>gn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Ay(n),this.isVariantNode=HF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const p=h[d];a[d]!==void 0&&$i(p)&&(p.set(a[d],!1),E0(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,kP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),tN.current||sY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kP.delete(this.current),this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=iu.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s){let o,a;for(let l=0;l<aY;l++){const u=nN[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=nd[u];p&&(o=p),h(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||d&&fc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<OP.length;i++){const r=OP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=oY(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<lY;i++){const r=$M[i],s=this.props[r];(td(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=zc(n,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=rE(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!$i(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class iN extends uY{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=R7(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){C7(this,i,o);const a=rY(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function cY(t){return window.getComputedStyle(t)}class fY extends iN{readValueFromInstance(e,n){if(iu.has(n)){const i=uE(n);return i&&i.default||0}else{const i=cY(e),r=(jF(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return X3(e,n)}build(e,n,i,r){ZM(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return iE(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$i(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){QF(e,n,i,r)}}class hY extends iN{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(iu.has(n)){const i=uE(n);return i&&i.default||0}return n=ZF.has(n)?n:nE(n),e.getAttribute(n)}measureInstanceViewportBox(){return In()}scrapeMotionValuesFromProps(e,n){return e3(e,n)}build(e,n,i,r){eE(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){qF(e,n,i,r)}mount(e){this.isSVGTag=tE(e.tagName),super.mount(e)}}const dY=(t,e)=>QM(t)?new hY(e,{enableHardwareAcceleration:!1}):new fY(e,{enableHardwareAcceleration:!0}),pY={layout:{ProjectionNode:q3,MeasureLayout:J3}},mY={...V7,...cJ,...XK,...pY},si=yX((t,e)=>JX(t,e,mY,dY)),ii={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},gY=()=>J.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[J.jsxs("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${ii.paddingX} flex flex-row items-start gap-5`,children:[J.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[J.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),J.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),J.jsxs("div",{style:{zIndex:1},children:[J.jsxs("h1",{className:`${ii.heroHeadText} text-white`,children:["Hi, I'm"," ",J.jsx(si.span,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-[#915EFF]",children:"Gabriel Jeannot"})]}),J.jsx("p",{className:`${ii.heroSubText} mt-2 text-white-100`,children:"Multimedia Engineer | A.I. Specialist | Full Stack Developer"}),J.jsxs("div",{className:"flex sm:flex-row mt-7",children:[J.jsx("a",{href:"https://github.com/xlgabriel",target:"_blank",rel:"noopener noreferrer",className:"mb-4 sm:mb-0 sm:mr-4 green-pink-gradient p-[2px] rounded-[10px] shadow-card",children:J.jsx("button",{className:"bg-[#151131] text-white px-4 py-2 rounded-lg transition duration-300 ease-in-out transform hover:scale-95",children:"GitHub"})}),J.jsx("a",{href:"https://www.linkedin.com/in/xlgabriel",target:"_blank",rel:"noopener noreferrer",className:"mb-4 sm:mb-0 sm:mr-4 green-pink-gradient p-[2px] rounded-[10px] shadow-card",children:J.jsx("button",{className:"bg-[#151131] text-white px-4 py-2 rounded-lg transition duration-300 ease-in-out transform hover:scale-95",children:"LinkedIn"})}),J.jsx("a",{href:"https://drive.google.com/file/d/1wNSo6dtOsfWeCJu854kqBztZDKI_ZjBZ/view?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"mb-4 sm:mb-0 sm:mr-4 green-pink-gradient p-[2px] rounded-[10px] shadow-card",children:J.jsx("button",{className:"bg-[#151131] text-white px-4 py-2 rounded-lg transition duration-300 ease-in-out transform hover:scale-95",children:J.jsx("strong",{children:"CV"})})})]})]})]}),J.jsx(qj,{})]}),yY="/portfolio/assets/logo-b1aabf89.svg",vY="/portfolio/assets/backend-565fc01f.png",xY="/portfolio/assets/creator-dbbffaec.png",_Y="/portfolio/assets/mobile-896ef2f5.png",SY="/portfolio/assets/web-0d05165f.png",Jf="/portfolio/assets/github-3b4e1609.png",AY="/portfolio/assets/menu-b5599218.svg",MY="/portfolio/assets/close-54702a70.svg",EY="/portfolio/assets/boga-5f223f19.webp",wY="/portfolio/assets/projects_videface-0d8a9285.webp",TY="/portfolio/assets/rentacar4less-7a68d519.webp",CY="/portfolio/assets/cristianavalo-c9f6dde9.webp",bY="/portfolio/assets/carlososorio-8d41acd3.webp",RY="data:image/webp;base64,UklGRvYKAABXRUJQVlA4IOoKAACwRgCdASrIAMgAPplEnUslo7MvJnLbumATCWlu4Di5fuZfGJ83ULZxm5u7HEgxiXgi7VxQdVA/DqBqTtshcCIpqNzbt7HG4Mjmts/vo+wjxRsqxNKKdwVHxMuPRm7JV5yIE05CLrtK0sNoN+UI5nHm0AzpoT51+BUgwLqhex4Lzc9znRWt4kAq8cE6mTW8QTVEGLO1tnXSmRKwTux5mBqYZeQIJTwc67CIYeT00/FFjKjrDBn29Lr+3COQDO5JO17KjEwubMTBA49H3m8rw46MT9Ypr/81xohcMBTKaJZ/Afb/yIDebJ/9MggltnkmwasWT5noIZ1fFqDDewdW3P2DmWQE1HjVW/5Vd3EwWoIAuBMQt607rRbdsl1gB3POom1aq4FA2/BHYidMmiCcLkZv8cCxy9OHaPu/1VJ1uxERUWR8QsqnycvjNR+DkEhlErN9HBpGqSgG4RbZhTXB1n7hjtXdfYkCKOTqOE3IIKrc3XHFuTBBJSAsaj6YEOoajef7zuzLQaVnwGSb9vNPoaeujnspdHgHRqKAoH8z8DnKyUWv34tV4hmQJqWEe/mx7hM7Xc+HkQ+KELYq5XJwfoN0/BBzCzF4Zaw9a4GNcIhNfOUWxQ74Lgu0xHjqRicw466HkV3WH+wg+t1DJHWHS7K3/qbClkdKV7BgCWUjB0od9dZQbDDP9ww4HOeZoHNrQLgMdNqIqbLty3lxDdJwITsp2yX92Y0kN5iAxsbQCQT7by/BnfvlYpqkHyWtHl8AAP7p151VVR/gkVV8orRTMqWK3S4Jrp2nuIf+GwoOpT7lmDUFyblLHSbCl68swBviNHhb3v6fT4RgjmlbRb1AvPH9+NYO/bKMn0vz6F7Du5SFC08kqE/eoTioZ0DdFPte+FEu8E/UHWhLF6R9OWX4N9/nS23PwjllxJGwiQ62WeCAKj1REC+LkCDrqBEEUPNXKYGkgpuef1+Ohs9yMFaV6blVSfeBuvMVRaV8FEbfTIfRYlVyZH2jMTKesI24TwCmDUKEqSm0b0c32fRTSpT9SBB0PhyhSIgZzIaIXaCBFcbGla9ILebUYBRLDrgp1dCo9S0H5AHUa9uZ2rIyBTK2/ttc9RmZVohkNUCNCBZxpCIx02AbCb7fUOvZYIMK5kozaFzjkEzqvX88BC8XyarqEtk80i90aRvI/Y2NpaGn02qXWho2vNeARK9c6K9idfizPZ459zjKrrPBkVxIoh5CyT3SUl1EpaEzMm93Kjdncc2Qa7Zx0jYdWaEpM1DdAiXXyaZ5JxNmx5UxK7yZ+JlW2uMwHXyc6v78dbTkT8A0tX/Qr1MJW3ttI4t3186KJD8zq6drmK3D3OYpD234Po/pvTTkkWoCulrYX+N777B4NkzCrwZGo4T6sjnHwiMnTWEP5x/oyuINGy8iTZEIjh8ioOXzRG4hwbU/5Ei9tujZ15M+BTY7x7O4z5VRQYxCMrzjs8biHaSFhUH8zUt0B/Slo0mQRsBXgbSMVwIjsfpMBaQpjb8E+b37Z2/USp3bopD3Ph6ADVjsq8oNBHckiZymiZVE6LRnB7SIbCDkor2rAKAfBKHcvQHwZPmpI1Ijx6XjVdlSYvFUHADMCC3LMSpcGhaBE6Kcxw9lB+C36jGXjwInWaDkJmxsnGz6kRcFuCY2wA8JZK0Vcw2uR6YfJAOXVK0m/31+73I7B0Q9kZ4e87kaMDCaee7DbmxEf3zsbopxbftICIzN6WPr4LVmLoCjQ8GnLctdpXztRipF6h0grpRSYmyD2Wn3tywh/PZef11n+a/wqyhWPUtlpuWVQLn1eoAeo35ZF1SUSO74BMxgPBfbmTCt8c7aj6lD2eCFS8gdMdjFMTuAFNXf7hgTF3b3qwtBgFLIlX3O3qbMN+DrZHAEaE2D+19IMeHZAOte0Cdr5GrZahj5aqdmFL+PakwQmYqZ9acc9f5TmjwDeOTiaHzbunu0YZNYrPG+af//DIR2CKkd/HtxODO72pC2pSKWDBDPNjXC6z6mwk7CFcjumB6efddobrv67L37tLbLUhUc6LYavC0y7axCn3LhR3iA9H7eBqc8xA1kWvihU9XSG1QSJv/nXYn149/2Wv4Rl1wqSPaLpyvKFclqV8w9ouieMQNXmDtbjCvOlg8sovzbXu8bkLW4NAABHUhmmvIvHdjyq5VT3OW5sYSUpKvLUi2DCGRh9KDfiUPAzA3hfwnRLe1qaSn4osemuvrQagTSeWp6CC59y9tyERLdqPI7bBRJ2SNX7FJeUxyYPXn4G5QJUJFy2VaJ/om6yLjk8GcXRXes5iYfjuZlJvjduenkUkTKGai1RJzkq6204LjfY6vfcf1ZJMkm0d2iimO2EKdFzToNIS7RZaa/JJi6TtM7apkFlve53FMNH2TH2iwFpz/q87ZbpGm20ES1BknwGa1BYitAyFIRMgbaxAMkFBBR5M1ZWgX/Imc/3g12w4+aBE81OTKY00YwqFhzVQyeOlWYw10fn5D0EzXvFhyTeXkTlwtqcDHgE0K2qYoziAoSgTp0q/1awOv6E2k6YmsSE1fc+L9PqcTidSW6PsgyN10Tw0Bcr+dB5Pa+/Uol3eLyar+Pxz4illO5V05TNmY+sWH9nnUH08XBFktEyN3O+pg4NkCqRL2/JN6k9iC4ycOCwXyBTdRkUL3tDWPi6j3HZ6zXb554dZ6eCmffQcZsb5UiDU6OR+ULxcJcg2/vMtZXZuSdVAcoKp+yKZncgambJexGs9z2M7l7zsbpqwmBfeaGDUO7HzU3IkTr/gcd8h2NJYsbugO84684pYnhLT+BQZOUj4/pp2JX7DxrfsI9OdOHcGZMJM6umg7HzsfZ3Ze172YM/dTIY/YJoGNiewRdrB97AKUPnmKRvjUdzJ/MovJQEah9Kkw4mbPjbtMbVLgxLt6Mm6iWcYUSBBZ2ifvrz9Hr6zHFSKubzISC4BmEDuJ0U94ViIGMpUIEuVxaLiSTMKmzuhEcHy/ZlEBLZrE+U1FMnmHAYrG/4OjHtKvzYeVT70q1/QeRvFLeZy0eqoF/P7PRRR53q0je1mnPQ2ZnR0Y6kErv00DAn2eCLK2nDU8pPp7ov17xtptmvq6Lxvz5EqQLWv1O5eMflZXKiu364pSQ+x2JN/mTzk6JvBC0V4JpROgQcEvvAEpaZpWWOEHZCbBLF5W/KHNuLE5V37xG0BxG9S8APLjPxvy+viKoGGPzkYBqsX57ytOdIBI74NKgF+VF15DBZaGMap6HhgvgU9SSs9E3ZdtyvxGXwP3YQzHhy0rfx44rP73D94dDcU25/jfL6OKV3WbwQnrBfBlVInl6AEbhKARo5G7gdqn2vurArrsiWtutweZVjLkIqhohVZ5HgdnL2TDlYmHG3kJaY70jeCP/6Vh2BfEOVWp42R2zVlptv7bXRgbqHxPdlp1TN4Jsql8EfXYNqmifgIBGYqgqKkJtRUMJG4AbobOVupgzhkyMVvX1s/qbu7TZjHLZ+1F4WoJh5gg1ivYHI9KR7PG8p+HCngQrBOgE0OMwwp+ebO7e8ugKj1VqvL8A23cfiTzHOL48Ofy7AmTEwRjE2S5z5ljkJbzi+r5v8S6tSBdwwgeDS5/3cjSdTfpRurqCeZtL0Z432BCis8UuRXqpgycHqh6NPGH6zSiWgIOvAcCmUskKwtALefIGLkExL3YKhJWVKLwxOmgfOH5zJdPY2YwBQhJ2MwVsVYbE3ryRmwAA",PY=[{id:"#about",title:"About me"},{id:"#work",title:"Projects"},{id:"#contact",title:"Contact"}],BY=[{id:"/",title:"Portfolio"},{id:"",title:"Connect"},{id:"#contact",title:"Contact"}],LY=[{title:"Multimedia Developer",icon:SY},{title:"FullStack/DevOps Engineer",icon:_Y},{title:"A.I. and Cloud Developer",icon:vY},{title:"Video game Creator",icon:xY}],IY=[{title:"LinkScribe | A.I. & Web Dev",company_name:"Docker, Vagrant, Kaggle, Edge Impulse, ML Flow, API Rest, JS, Python, React, CSS, HTML, MUI",icon:Jf,iconBg:"radial-gradient(circle at center, #383076, #4a37de)",iconLink:"https://github.com/xlgabriel/linkscribe",date:"August 2023 - December 2023",points:["Effortlessly create, organize, and categorize web links using NLP (Natural Language Processing). Copy and paste links to extract content information, categorize, and search with custom keywords.","Model trained from scratch and used in the backend, connected by API."]},{title:"AcademIA | Scrum Master",company_name:"Scrum, Jira, Miro, Taiga, Slack, Notion, KPIs, User Stories, Metrics, Daily Scrum, Sprints, soft skills",icon:Jf,iconBg:"radial-gradient(circle at center, #383076, #4a37de)",iconLink:"https://github.com/xlgabriel/academia",date:"February 2023 - June 2023",points:["LMS-type open-source collaborative project where the user (teacher, student) can access their academic courses, upload and review multimedia content.","It also has Hangouts-style chat, with a plus of AItype virtual assistant integrated inside the system."]},{title:"Lecturando | A.I. & Game Dev",company_name:"Unity, GitHub, GitLab, Miro, Scrum, Doc & Testing, Tesseract OCR, ONNX, Barracuda, Firebase, C#",icon:Jf,iconBg:"radial-gradient(circle at center, #383076, #4a37de)",iconLink:"https://gitlab.com/media-collab/dm2_lecturando",date:"February 2022 - December 2022",points:["Unity game focused on solving the letter inversion problem (p,q,b,d) detected in kids from schools from Cali, Colombia.","Using image recognition and database in this gamification-based videogame, we offered solutions for teachers to help solving this problem."]},{title:"GoPance | Front-end Dev",company_name:"React, HTML, CSS, JavaScript, Bootstrap, Canva, Netlify, Firebase, Node.js, Postman.",icon:Jf,iconBg:"radial-gradient(circle at center, #383076, #4a37de)",iconLink:"https://github.com/Johannes910/gopance",date:"August 2022 - December 2022",points:["Web application similar to Rappi or Uber Eats, focused on Pance town in Cali, Colombia.","The purpose is to connect the different business and services located here with people around the city to impulse its economy and development."]},{title:"Minecraft Speech to Text",company_name:"Python, CNN, Colab, Jupyter Notebook, ursina, h5py, keras, Speech recognizer, TensorFlow.",icon:Jf,iconBg:"radial-gradient(circle at center, #383076, #4a37de)",iconLink:"https://videface.app",date:"August 2022 - December 2022",points:["Python-based Minecraft with words recognizer (Convolutional Neural Network), with our own dataset and training.","By saying one of the five words, it changes the block to use within the game.","Great project to learn about speech recognition and A.I. from training to implementation."]}],DY=[{testimonial:"A man with many ideas and the ability to carry them out. We are happy with the software he developed for us. He's always proposing new ways of doing things under his experience and abilities. I definitely recommend him as a person and engineer.",name:"Cristian Ávalo",designation:"General director",company:"Rent a car 4 less, located in Miami, Orlando, Fort Lauderdale and Houston.",image:CY,linkedin:"https://www.linkedin.com/in/cristian-avalo-4less"},{testimonial:"A great student and undoubtedly a great professional in his field. He always demonstrated in class and with his grades an ability to excel in the areas that he is passionate about and master the ones he needs to master.",name:"Andrés Gallego",designation:"Multimedia engineering career director",company:"Universidad Autónoma de Occidente",image:"https://www.uao.edu.co/wp-content/uploads/2020/04/Andrés-Gallego-Small.jpg",linkedin:"https://www.linkedin.com/in/andresfox"},{testimonial:"It's a pleasure to recommend Gabriel due to his exceptional commitment and dedication. His extensive knowledge in software development and artificial intelligence combines to produce impressive projects.",name:"Valentina Loaiza",designation:"Front-end Developer, Multimedia Engineer, UX/UI Dev",company:"VideFace App",image:RY,linkedin:"https://www.linkedin.com/in/valentina-loaiza-mejia-4587ba261/"},{testimonial:"Working with Gabriel helped me to discover a person with a lot of discipline and persistence in each task he takes on. I am still surprised by the way he approaches each problem and his multiple abilities to solve them.",name:"Carlos Osorio",designation:"NodeJS Developer at Globant, student",company:"Universidad Autónoma de Occidente",image:bY,linkedin:"https://www.linkedin.com/in/carlos-ivan-osorio"}],FY=[{upper_title:"Fast-growing SaaS with real clients",date:"July 2023 - Present",name:"VideFace",description:"Transforms remote sales and customer service. Creation of a web app from scratch ready for commercial use. Build and maintain a scalable, multi-tenant and monetizing product. In charge of the other developers as a CTO and Scrum Master. Supervising the new features, code refactor, infrastructure improvements and more.",tags:[{name:"react",color:"blue-text-gradient"},{name:"firebase",color:"pink-text-gradient"},{name:"javascript",color:"text-yellow-500"},{name:"socket.io",color:"text-gray-300"},{name:"webrtc",color:"text-green-300"},{name:"cloud run",color:"orange-text-gradient"},{name:"node.js",color:"text-green-500"},{name:"cloudflare",color:"text-orange-500"}],image:wY,source_code_link:"https://videface.app"},{upper_title:"Giving real value to the company",date:"March 2023 - May 2024",name:"Rent a car 4 less",description:"Development of web-based software to automatize car rental process in the offices. Automate internal processes related to the management of sensitive information. Development of new features on the WordPress page. In charge of social networks management, content creation, user experience and more.",tags:[{name:"wordpress",color:"blue-text-gradient"},{name:"nodemailer",color:"green-text-gradient"},{name:"node.js",color:"pink-text-gradient"},{name:"google cloud",color:"text-yellow-500"},{name:"react",color:"text-orange-500"},{name:"material-ui",color:"text-gray-300"}],image:TY,source_code_link:"https://www.rac4less.com/"},{upper_title:"Getting to know the professional world",date:"June 2020 - December 2023",name:"BOGA and Electronet",description:"BOGA and Siluetas Spa: in charge of editing content focused on text and audiovisual elements on a continuous basis for the social networks. Multimedia experiences developer. Electronet: in charge of the creation of the intro to the edition of the Opener and promotion of electronic events, all with high quality audiovisual detail. ",tags:[{name:"premiere pro",color:"blue-text-gradient"},{name:"canva",color:"green-text-gradient"},{name:"pro tools",color:"pink-text-gradient"},{name:"after effects",color:"blue-text-gradient"},{name:"adobe media encoder",color:"text-yellow-400"}],image:EY,source_code_link:"https://instagram.com/boga.peluqueria"}],NY=({usedOnLinkTree:t})=>{const[e,n]=j.useState(""),[i,r]=j.useState(!1),[s,o]=j.useState(!1),a=t?BY:PY;return j.useEffect(()=>{const l=()=>{window.scrollY>100?o(!0):o(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),J.jsx("nav",{className:`${ii.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${s?"bg-primary":"bg-transparent"}`,children:J.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[J.jsxs(XH,{to:"/",className:"flex items-center gap-2",onClick:()=>{n(""),window.scrollTo(0,0)},children:[J.jsx("img",{src:yY,alt:"logo",className:"w-9 h-9 object-contain"}),J.jsx("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:"Gabriel Jeannot"})]}),J.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:a.map(l=>J.jsx("li",{className:`${e===l.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>n(l.title),children:J.jsx("a",{href:`${l.id}`,children:l.title})},l.id))}),J.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[J.jsx("img",{src:i?MY:AY,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>r(!i)}),J.jsx("div",{className:`${i?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:J.jsx("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:a.map(l=>J.jsx("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${e===l.title?"text-white":"text-secondary"}`,onClick:()=>{r(!i),n(l.title)},children:J.jsx("a",{href:`${l.id}`,children:l.title})},l.id))})})]})]})})};function kY(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(u){try{l(i.next(u))}catch(h){s(h)}}function a(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){var h;u.done?r(u.value):(h=u.value,h instanceof n?h:new n(function(d){d(h)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}const UP=(t,e,n,i)=>{t.style.transition=`${e} ${n}ms ${i}`},ao=(t,e,n)=>Math.min(Math.max(t,e),n);let OY=class{constructor(e,n){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:a,height:l}=o,u=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));return{width:u,height:u}},this.setSize=o=>{const a=this.calculateGlareSize(o);this.glareEl.style.width=`${a.width}px`,this.glareEl.style.height=`${a.height}px`},this.update=(o,a,l,u)=>{this.updateAngle(o,a.glareReverse),this.updateOpacity(o,a,l,u)},this.updateAngle=(o,a)=>{const{xPercentage:l,yPercentage:u}=o,h=180/Math.PI,d=l?Math.atan2(u,-l)*h:0;this.glareAngle=d-(a?180:0)},this.updateOpacity=(o,a,l,u)=>{const{xPercentage:h,yPercentage:d}=o,{glarePosition:p,glareReverse:m,glareMaxOpacity:v}=a,M=l?-1:1,x=u?-1:1,g=m?-1:1;let _=0;switch(p){case"top":_=-h*M*g;break;case"right":_=d*x*g;break;case"bottom":case void 0:_=h*M*g;break;case"left":_=-d*x*g;break;case"all":_=Math.hypot(h,d)}const A=ao(_,0,100);this.glareOpacity=A*v/100},this.render=o=>{const{glareColor:a}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${a} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:n,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,s)}},UY=class{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,n)=>{this.updateTilt(e,n),this.updateTiltManualInput(e,n),this.updateTiltReverse(n),this.updateTiltLimits(n)},this.updateTilt=(e,n)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:o}=n;this.tiltAngleX=i*s/100,this.tiltAngleY=r*o/100*-1},this.updateTiltManualInput=(e,n)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=n;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const n=e.tiltReverse?-1:1;this.tiltAngleX=n*this.tiltAngleX,this.tiltAngleY=n*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:n}=e;this.tiltAngleX=ao(this.tiltAngleX,-90,90),this.tiltAngleY=ao(this.tiltAngleY,-90,90),n&&(this.tiltAngleX=n==="x"?this.tiltAngleX:0,this.tiltAngleY=n==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:n,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/n*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}};const HY=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class pE extends j.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>kY(this,void 0,void 0,function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?(yield e())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:n}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),n&&n(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:n}=this.props;if(this.setTransitions(),n&&n(e.type),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:n}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=n;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=n;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=n;break;case"autoreset":const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=this.props,a=r/o*100;this.wrapperEl.clientPosition.xPercentage=ao(i/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=ao(a,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:n,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/n*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=ao(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=ao(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:n,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),n&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let n,i;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;n=s/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:o,top:a},clientPosition:{x:l,y:u}}=this.wrapperEl;n=(u-a)/s*200-100,i=(l-o)/r*200-100}this.wrapperEl.clientPosition.xPercentage=ao(n,-100,100),this.wrapperEl.clientPosition.yPercentage=ao(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:n}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),n&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new UY,this.initGlare(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const n=new CustomEvent("initial");this.emitOnMove(n)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:n}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),n&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:n}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),n&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:n}=this.props;e&&(this.glare=new OY(this.wrapperEl.size,n),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:n}=this.props;if(!n)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),n({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:n}=this.props;UP(this.wrapperEl.node,"all",e,n),this.glare&&UP(this.glare.glareEl,"opacity",e,n)}render(){const{children:e,className:n,style:i}=this.props;return O0.createElement("div",{ref:r=>this.wrapperEl.node=r,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:n,style:i},e)}}pE.defaultProps=HY;const Cy=t=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:t}}}),Wd=(t,e,n,i)=>({hidden:{x:t==="left"?100:t==="right"?-100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),HP=(t,e,n,i)=>({hidden:{x:t==="left"?"-100%":t==="right"?"100%":0,y:t==="up"||t==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),zY=(t,e)=>({hidden:{},show:{transition:{staggerChildren:t,delayChildren:e||0}}}),jd=(t,e)=>function(){return J.jsxs(si.section,{variants:zY(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${ii.padding} max-w-7xl mx-auto relative z-0`,children:[J.jsx("span",{className:"hash-span",id:e,children:" "}),J.jsx(t,{})]})},GY=({index:t,title:e,icon:n})=>J.jsx(pE,{className:"xs:w-[250px] w-full",children:J.jsx(si.div,{variants:Wd("right","spring",t*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:J.jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[J.jsx("img",{src:n,alt:"web-development",className:"w-16 h-16 object-contain"}),J.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),VY=()=>J.jsxs(J.Fragment,{children:[J.jsxs(si.div,{variants:Cy(),children:[J.jsx("p",{className:ii.sectionSubText,children:"Introduction"}),J.jsx("h2",{className:ii.sectionHeadText,children:"About me."})]}),J.jsx(si.p,{variants:Wd("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"A dynamic professional with a diverse skill set encompassing Front-end Development, Game Development, Cloud Engineering and expertise in Deep Learning/Machine Learning, DevOps, content creation, management and more. Creator of a SaaS company giving value to the car rental market."}),J.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:LY.map((t,e)=>J.jsx(GY,{index:e,...t},t.title))})]}),WY=jd(VY,"about");var by={},rN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rN);var sN=rN.exports;by.__esModule=!0;by.default=void 0;var jY=mE(j),Ko=mE(FF),XY=mE(sN);function mE(t){return t&&t.__esModule?t:{default:t}}const oN=({animate:t=!0,className:e="",layout:n="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),jY.default.createElement("div",{className:(0,XY.default)(e,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":n==="2-columns","vertical-timeline--one-column-left":n==="1-column"||n==="1-column-left","vertical-timeline--one-column-right":n==="1-column-right"})},r));oN.propTypes={children:Ko.default.oneOfType([Ko.default.arrayOf(Ko.default.node),Ko.default.node]).isRequired,className:Ko.default.string,animate:Ko.default.bool,layout:Ko.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Ko.default.string};var JY=oN;by.default=JY;var Ry={};function NS(){return NS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},NS.apply(this,arguments)}function KY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},kS(t,e)}function YY(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var OS=new Map,tg=new WeakMap,zP=0,aN=void 0;function $Y(t){aN=t}function QY(t){return t?(tg.has(t)||(zP+=1,tg.set(t,zP.toString())),tg.get(t)):"0"}function ZY(t){return Object.keys(t).sort().filter(function(e){return t[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?QY(t.root):t[e])}).toString()}function qY(t){var e=ZY(t),n=OS.get(e);if(!n){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(h){h(u,a)})})},t);r=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:i},OS.set(e,n)}return n}function gE(t,e,n,i){if(n===void 0&&(n={}),i===void 0&&(i=aN),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=qY(n),o=s.id,a=s.observer,l=s.elements,u=l.get(t)||[];return l.has(t)||l.set(t,u),u.push(e),a.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(t),a.unobserve(t)),l.size===0&&(a.disconnect(),OS.delete(o))}}var e$=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function GP(t){return typeof t.children!="function"}var T0=function(t){KY(e,t);function e(i){var r;return r=t.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),GP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var n=e.prototype;return n.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,h=r.fallbackInView;this._unobserveCb=gE(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},h)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!GP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,h=YY(a,e$);return j.createElement(u||"div",NS({ref:this.handleNode},h),l)},e}(j.Component);T0.displayName="InView";T0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function t$(t){var e=t===void 0?{}:t,n=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,h=e.fallbackInView,d=j.useRef(),p=j.useState({inView:!!u}),m=p[0],v=p[1],M=j.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=gE(g,function(_,A){v({inView:_,entry:A}),A.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:n,trackVisibility:r,delay:i},h))},[Array.isArray(n)?n.toString():n,o,s,a,l,r,h,i]);j.useEffect(function(){!d.current&&m.entry&&!a&&!l&&v({inView:!!u})});var x=[M,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const n$=Object.freeze(Object.defineProperty({__proto__:null,InView:T0,default:T0,defaultFallbackInView:$Y,observe:gE,useInView:t$},Symbol.toStringTag,{value:"Module"})),i$=Qk(n$);Ry.__esModule=!0;Ry.default=void 0;var Yo=yE(j),an=yE(FF),ng=yE(sN),r$=i$;function yE(t){return t&&t.__esModule?t:{default:t}}const lN=({children:t="",className:e="",contentArrowStyle:n=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:M={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>Yo.default.createElement(r$.InView,M,({inView:g,ref:_})=>Yo.default.createElement("div",{ref:_,id:d,className:(0,ng.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":t===""}),style:m},Yo.default.createElement(Yo.default.Fragment,null,Yo.default.createElement("span",{style:h,onClick:l,className:(0,ng.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||x,"is-hidden":!(g||x)})},o),Yo.default.createElement("div",{style:i,onClick:u,className:(0,ng.default)(v,"vertical-timeline-element-content",{"bounce-in":g||x,"is-hidden":!(g||x)})},Yo.default.createElement("div",{style:n,className:"vertical-timeline-element-content-arrow"}),t,Yo.default.createElement("span",{className:(0,ng.default)(s,"vertical-timeline-element-date")},r)))));lN.propTypes={children:an.default.oneOfType([an.default.arrayOf(an.default.node),an.default.node]),className:an.default.string,contentArrowStyle:an.default.shape({}),contentStyle:an.default.shape({}),date:an.default.node,dateClassName:an.default.string,icon:an.default.element,iconClassName:an.default.string,iconStyle:an.default.shape({}),iconOnClick:an.default.func,onTimelineElementClick:an.default.func,id:an.default.string,position:an.default.string,style:an.default.shape({}),textClassName:an.default.string,visible:an.default.bool,intersectionObserverProps:an.default.shape({root:an.default.object,rootMargin:an.default.string,threshold:an.default.number,triggerOnce:an.default.bool})};var s$=lN;Ry.default=s$;var uN={VerticalTimeline:by.default,VerticalTimelineElement:Ry.default};const o$=({experience:t})=>J.jsxs(uN.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"px solid  #232631"},date:t.date,iconStyle:{background:t.iconBg},icon:J.jsx(si.div,{className:"flex justify-center items-center w-full h-full",whileHover:{scale:1.1},whileTap:{scale:.9},children:J.jsx("a",{href:t.iconLink,target:"_blank",children:J.jsx("img",{src:t.icon,alt:t.company_name,className:"w-[100%] h-[60%] object-contain"})})}),children:[J.jsxs("div",{children:[J.jsx("h3",{className:"text-white text-[24px] font-bold",children:t.title}),J.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:t.company_name})]}),J.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:t.points.map((e,n)=>J.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${n}`))})]}),a$=()=>J.jsxs(J.Fragment,{children:[J.jsxs(si.div,{variants:Cy(),children:[J.jsx("p",{className:`${ii.sectionSubText} text-center`,children:"My growth as a professional"}),J.jsx("h2",{className:`${ii.sectionHeadText} text-center`,children:"Projects."})]}),J.jsx("div",{className:"mt-20 flex flex-col",children:J.jsx(uN.VerticalTimeline,{children:IY.map((t,e)=>J.jsx(o$,{experience:t},`experience-${e}`))})}),J.jsx("div",{className:"flex justify-center mt-10",children:J.jsx("a",{href:"https://github.com/xlgabriel?tab=repositories",target:"_blank",className:"mb-4 sm:mb-0 sm:mr-4 green-pink-gradient p-[2px] rounded-[10px] shadow-card",children:J.jsx("button",{className:"bg-[#151131] text-white px-4 py-2 rounded-lg transition duration-300 ease-in-out transform hover:scale-95",children:"See all my projects on GitHub"})})})]}),l$=jd(a$,"work"),u$=({index:t,upper_title:e,date:n,name:i,description:r,tags:s,image:o,source_code_link:a})=>{const[l,u]=j.useState(!1);j.useEffect(()=>{const p=v=>{l&&!v.target.closest(".bg-black")&&u(!1)},m=()=>{l?document.body.style.overflow="hidden":document.body.style.overflow="auto"};return m(),l?(window.addEventListener("click",p),window.addEventListener("scroll",m)):(window.removeEventListener("click",p),window.removeEventListener("scroll",m)),()=>{window.removeEventListener("click",p),window.removeEventListener("scroll",m)}},[l]);const h=()=>{u(!0)},d=()=>{u(!1)};return J.jsxs(si.div,{variants:Wd("up","spring",t*.5,.75),children:[J.jsxs(pE,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[" ",J.jsx("div",{className:"relative w-full h-[230px]",children:J.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex justify-center items-center cursor-pointer rounded-2xl z-10",onClick:h,children:J.jsx("img",{src:o,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})})}),J.jsxs("div",{className:"mt-5",children:[n&&J.jsx("p",{className:"text-gray-300 text-[16px] font-semibold mb-1",children:n}),J.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-white font-bold text-[28px] transition-colors duration-300 hover:text-secondary",children:i}),J.jsx("div",{children:J.jsx("a",{className:"text-white text-[13px] italic transition-colors duration-300 hover:text-gray-400",children:e})}),J.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:r})]}),J.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.map(p=>J.jsxs("p",{className:`text-[14px] ${p.color}`,children:["#",p.name]},`${i}-${p.name}`))})]}),l&&J.jsxs(si.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed top-0 left-0 right-0 bottom-0 flex justify-center items-center bg-black bg-opacity-75 z-50 cursor-pointer",onClick:d,children:[J.jsx(si.img,{src:o,alt:"project_image",className:"max-w-[75%] max-h-[75%]",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3}}),J.jsx("button",{className:"absolute top-4 right-4 text-white text-xl",onClick:d,children:"X"})]})]})},c$=()=>J.jsxs(J.Fragment,{children:[J.jsxs(si.div,{variants:Cy(),children:[J.jsx("p",{className:`${ii.sectionSubText} `,children:"+4 years as an engineer"}),J.jsx("h2",{className:`${ii.sectionHeadText}`,children:"Professional experience."})]}),J.jsx("div",{className:"w-full flex",children:J.jsx(si.p,{variants:Wd("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I've worked as a Full-Stack Engineer, in charge of a team in my own company (VideFace). I've also worked on infrastructure, DevOps, Scrum Master, Cloud Engineering, Game Development and more. What will be the next challenge?"})}),J.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:FY.map((t,e)=>J.jsx(u$,{index:e,...t},`project-${e}`))})]}),f$=jd(c$,""),h$=({index:t,testimonial:e,name:n,designation:i,company:r,image:s,linkedin:o})=>J.jsxs(si.div,{variants:Wd("","spring",t*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[J.jsx("p",{className:"font-serif hover:text-gray-200 text-white font-black text-[48px]",children:'"'}),J.jsxs("div",{className:"mt-1",children:[J.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),J.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[J.jsxs("div",{className:"flex-1 flex flex-col",children:[J.jsxs("p",{className:"text-white font-medium text-[16px]",children:[J.jsx("span",{className:"blue-text-gradient",children:"@"})," ",n]}),J.jsxs("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),J.jsx(si.a,{href:o,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:1.1},children:J.jsx("img",{src:s,alt:`feedback_by-${n}`,className:"w-10 h-10 rounded-full object-cover"})})]})]})]}),d$=()=>J.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[J.jsx("div",{className:`bg-tertiary rounded-2xl ${ii.padding} min-h-[300px]`,children:J.jsxs(si.div,{variants:Cy(),children:[J.jsx("p",{className:ii.sectionSubText,children:"What others say"}),J.jsx("h2",{className:ii.sectionHeadText,children:"Testimonials."})]})}),J.jsx("div",{className:`-mt-20 pb-14 ${ii.paddingX} flex flex-wrap gap-7`,children:DY.map((t,e)=>J.jsx(h$,{index:e,...t},t.name))})]}),p$=jd(d$,"");var su={},qc={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN=j;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zi=Object.prototype.hasOwnProperty,m$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VP={},WP={};function fN(t){return zi.call(WP,t)?!0:zi.call(VP,t)?!1:m$.test(t)?WP[t]=!0:(VP[t]=!0,!1)}function Fi(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ai[t]=new Fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ai[e]=new Fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ai[t]=new Fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ai[t]=new Fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ai[t]=new Fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ai[t]=new Fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ai[t]=new Fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ai[t]=new Fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ai[t]=new Fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var vE=/[\-:]([a-z])/g;function xE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vE,xE);ai[e]=new Fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vE,xE);ai[e]=new Fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vE,xE);ai[e]=new Fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ai[t]=new Fi(t,1,!1,t.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ai[t]=new Fi(t,1,!1,t.toLowerCase(),null,!0,!0)});var Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g$=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(t){g$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pg[e]=Pg[t]})});var y$=/["'&<>]/;function Ri(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=y$.exec(t);if(e){var n="",i,r=0;for(i=e.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(n+=t.substring(r,i)),r=i+1,n+=e}t=r!==i?n+t.substring(r,i):n}return t}var v$=/([A-Z])/g,x$=/^ms-/,US=Array.isArray;function no(t,e){return{insertionMode:t,selectedValue:e}}function _$(t,e,n){switch(e){case"select":return no(1,n.value!=null?n.value:n.defaultValue);case"svg":return no(2,null);case"math":return no(3,null);case"foreignObject":return no(1,null);case"table":return no(4,null);case"thead":case"tbody":case"tfoot":return no(5,null);case"colgroup":return no(7,null);case"tr":return no(6,null)}return 4<=t.insertionMode||t.insertionMode===0?no(1,null):t}var jP=new Map;function hN(t,e,n){if(typeof n!="object")throw Error(St(62));e=!0;for(var i in n)if(zi.call(n,i)){var r=n[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var s=Ri(i);r=Ri((""+r).trim())}else{s=i;var o=jP.get(s);o!==void 0||(o=Ri(s.replace(v$,"-$1").toLowerCase().replace(x$,"-ms-")),jP.set(s,o)),s=o,r=typeof r=="number"?r===0||zi.call(Pg,i)?""+r:r+"px":Ri((""+r).trim())}e?(e=!1,t.push(' style="',s,":",r)):t.push(";",s,":",r)}}e||t.push('"')}function sr(t,e,n,i){switch(n){case"style":hN(t,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=ai.hasOwnProperty(n)?ai[n]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=e.attributeName,e.type){case 3:i&&t.push(" ",n,'=""');break;case 4:i===!0?t.push(" ",n,'=""'):i!==!1&&t.push(" ",n,'="',Ri(i),'"');break;case 5:isNaN(i)||t.push(" ",n,'="',Ri(i),'"');break;case 6:!isNaN(i)&&1<=i&&t.push(" ",n,'="',Ri(i),'"');break;default:e.sanitizeURL&&(i=""+i),t.push(" ",n,'="',Ri(i),'"')}}else if(fN(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",n,'="',Ri(i),'"')}}}function Bg(t,e,n){if(e!=null){if(n!=null)throw Error(St(60));if(typeof e!="object"||!("__html"in e))throw Error(St(61));e=e.__html,e!=null&&t.push(""+e)}}function S$(t){var e="";return cN.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function M_(t,e,n,i){t.push(Ts(n));var r=n=null,s;for(s in e)if(zi.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":r=o;break;default:sr(t,i,s,o)}}return t.push(">"),Bg(t,r,n),typeof n=="string"?(t.push(Ri(n)),null):n}var A$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,XP=new Map;function Ts(t){var e=XP.get(t);if(e===void 0){if(!A$.test(t))throw Error(St(65,t));e="<"+t,XP.set(t,e)}return e}function M$(t,e,n,i,r){switch(e){case"select":t.push(Ts("select"));var s=null,o=null;for(h in n)if(zi.call(n,h)){var a=n[h];if(a!=null)switch(h){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:sr(t,i,h,a)}}return t.push(">"),Bg(t,o,s),s;case"option":o=r.selectedValue,t.push(Ts("option"));var l=a=null,u=null,h=null;for(s in n)if(zi.call(n,s)){var d=n[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":h=d;break;case"value":l=d;default:sr(t,i,s,d)}}if(o!=null)if(n=l!==null?""+l:S$(a),US(o)){for(i=0;i<o.length;i++)if(""+o[i]===n){t.push(' selected=""');break}}else""+o===n&&t.push(' selected=""');else u&&t.push(' selected=""');return t.push(">"),Bg(t,h,a),a;case"textarea":t.push(Ts("textarea")),h=o=s=null;for(a in n)if(zi.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":h=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(St(91));default:sr(t,i,a,l)}if(s===null&&o!==null&&(s=o),t.push(">"),h!=null){if(s!=null)throw Error(St(92));if(US(h)&&1<h.length)throw Error(St(93));s=""+h}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s!==null&&t.push(Ri(""+s)),null;case"input":t.push(Ts("input")),l=h=a=s=null;for(o in n)if(zi.call(n,o)&&(u=n[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(St(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":h=u;break;case"value":s=u;break;default:sr(t,i,o,u)}return h!==null?sr(t,i,"checked",h):l!==null&&sr(t,i,"checked",l),s!==null?sr(t,i,"value",s):a!==null&&sr(t,i,"value",a),t.push("/>"),null;case"menuitem":t.push(Ts("menuitem"));for(var p in n)if(zi.call(n,p)&&(s=n[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(St(400));default:sr(t,i,p,s)}return t.push(">"),null;case"title":t.push(Ts("title")),s=null;for(d in n)if(zi.call(n,d)&&(o=n[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(St(434));default:sr(t,i,d,o)}return t.push(">"),s;case"listing":case"pre":t.push(Ts(e)),o=s=null;for(l in n)if(zi.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:sr(t,i,l,a)}if(t.push(">"),o!=null){if(s!=null)throw Error(St(60));if(typeof o!="object"||!("__html"in o))throw Error(St(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(`
`,n):t.push(""+n))}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Ts(e));for(var m in n)if(zi.call(n,m)&&(s=n[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(St(399,e));default:sr(t,i,m,s)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return M_(t,n,e,i);case"html":return r.insertionMode===0&&t.push("<!DOCTYPE html>"),M_(t,n,e,i);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return M_(t,n,e,i);t.push(Ts(e)),o=s=null;for(u in n)if(zi.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":hN(t,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:fN(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(" ",u,'="',Ri(a),'"')}return t.push(">"),Bg(t,o,s),s}}function JP(t,e,n){if(t.push('<!--$?--><template id="'),n===null)throw Error(St(395));return t.push(n),t.push('"></template>')}function E$(t,e,n,i){switch(n.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=i.toString(16),t.push(e),t.push('">');default:throw Error(St(397))}}function w$(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(St(397))}}var T$=/[<\u2028\u2029]/g;function E_(t){return JSON.stringify(t).replace(T$,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function C$(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function KP(t,e,n,i){return n.generateStaticMarkup?(t.push(Ri(e)),!1):(e===""?t=i:(i&&t.push("<!-- -->"),t.push(Ri(e)),t=!0),t)}var Mh=Object.assign,b$=Symbol.for("react.element"),dN=Symbol.for("react.portal"),pN=Symbol.for("react.fragment"),mN=Symbol.for("react.strict_mode"),gN=Symbol.for("react.profiler"),yN=Symbol.for("react.provider"),vN=Symbol.for("react.context"),xN=Symbol.for("react.forward_ref"),_N=Symbol.for("react.suspense"),SN=Symbol.for("react.suspense_list"),AN=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),R$=Symbol.for("react.scope"),P$=Symbol.for("react.debug_trace_mode"),B$=Symbol.for("react.legacy_hidden"),L$=Symbol.for("react.default_value"),YP=Symbol.iterator;function HS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pN:return"Fragment";case dN:return"Portal";case gN:return"Profiler";case mN:return"StrictMode";case _N:return"Suspense";case SN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vN:return(t.displayName||"Context")+".Consumer";case yN:return(t._context.displayName||"Context")+".Provider";case xN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AN:return e=t.displayName||null,e!==null?e:HS(t.type)||"Memo";case _E:e=t._payload,t=t._init;try{return HS(t(e))}catch{}}return null}var MN={};function $P(t,e){if(t=t.contextTypes,!t)return MN;var n={},i;for(i in t)n[i]=e[i];return n}var Rl=null;function Py(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(St(401))}else{if(n===null)throw Error(St(401));Py(t,n)}e.context._currentValue2=e.value}}function EN(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&EN(t)}function wN(t){var e=t.parent;e!==null&&wN(e),t.context._currentValue2=t.value}function TN(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(St(402));t.depth===e.depth?Py(t,e):TN(t,e)}function CN(t,e){var n=e.parent;if(n===null)throw Error(St(402));t.depth===n.depth?Py(t,n):CN(t,n),e.context._currentValue2=e.value}function C0(t){var e=Rl;e!==t&&(e===null?wN(t):t===null?EN(e):e.depth===t.depth?Py(e,t):e.depth>t.depth?TN(e,t):CN(e,t),Rl=t)}var QP={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function ZP(t,e,n,i){var r=t.state!==void 0?t.state:null;t.updater=QP,t.props=n,t.state=r;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue2:i,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,r),r=o==null?r:Mh({},r,o),t.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&QP.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,r=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,n,i):a,a!=null&&(r?(r=!1,s=Mh({},s,a)):Mh(s,a))}t.state=s}else s.queue=null}var I$={id:1,overflow:""};function zS(t,e,n){var i=t.id;t=t.overflow;var r=32-Lg(i)-1;i&=~(1<<r),n+=1;var s=32-Lg(e)+r;if(30<s){var o=r-r%5;return s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-Lg(e)+r|n<<r|i,overflow:s+t}}return{id:1<<s|n<<r|i,overflow:t}}var Lg=Math.clz32?Math.clz32:N$,D$=Math.log,F$=Math.LN2;function N$(t){return t>>>=0,t===0?32:31-(D$(t)/F$|0)|0}function k$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var O$=typeof Object.is=="function"?Object.is:k$,Co=null,SE=null,Ig=null,Qt=null,th=!1,b0=!1,sd=0,oa=null,By=0;function ml(){if(Co===null)throw Error(St(321));return Co}function qP(){if(0<By)throw Error(St(312));return{memoizedState:null,queue:null,next:null}}function AE(){return Qt===null?Ig===null?(th=!1,Ig=Qt=qP()):(th=!0,Qt=Ig):Qt.next===null?(th=!1,Qt=Qt.next=qP()):(th=!0,Qt=Qt.next),Qt}function ME(){SE=Co=null,b0=!1,Ig=null,By=0,Qt=oa=null}function bN(t,e){return typeof e=="function"?e(t):e}function e2(t,e,n){if(Co=ml(),Qt=AE(),th){var i=Qt.queue;if(e=i.dispatch,oa!==null&&(n=oa.get(i),n!==void 0)){oa.delete(i),i=Qt.memoizedState;do i=t(i,n.action),n=n.next;while(n!==null);return Qt.memoizedState=i,[i,e]}return[Qt.memoizedState,e]}return t=t===bN?typeof e=="function"?e():e:n!==void 0?n(e):e,Qt.memoizedState=t,t=Qt.queue={last:null,dispatch:null},t=t.dispatch=U$.bind(null,Co,t),[Qt.memoizedState,t]}function t2(t,e){if(Co=ml(),Qt=AE(),e=e===void 0?null:e,Qt!==null){var n=Qt.memoizedState;if(n!==null&&e!==null){var i=n[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!O$(e[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return t=t(),Qt.memoizedState=[t,e],t}function U$(t,e,n){if(25<=By)throw Error(St(301));if(t===Co)if(b0=!0,t={action:n,next:null},oa===null&&(oa=new Map),n=oa.get(e),n===void 0)oa.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function H$(){throw Error(St(394))}function ig(){}var n2={readContext:function(t){return t._currentValue2},useContext:function(t){return ml(),t._currentValue2},useMemo:t2,useReducer:e2,useRef:function(t){Co=ml(),Qt=AE();var e=Qt.memoizedState;return e===null?(t={current:t},Qt.memoizedState=t):e},useState:function(t){return e2(bN,t)},useInsertionEffect:ig,useLayoutEffect:function(){},useCallback:function(t,e){return t2(function(){return t},e)},useImperativeHandle:ig,useEffect:ig,useDebugValue:ig,useDeferredValue:function(t){return ml(),t},useTransition:function(){return ml(),[!1,H$]},useId:function(){var t=SE.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-Lg(t)-1)).toString(32)+e;var n=Dg;if(n===null)throw Error(St(404));return e=sd++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return ml(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(St(407));return n()}},Dg=null,w_=cN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function z$(t){return console.error(t),null}function nh(){}function G$(t,e,n,i,r,s,o,a,l){var u=[],h=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:h,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?z$:r,onAllReady:s===void 0?nh:s,onShellReady:o===void 0?nh:o,onShellError:a===void 0?nh:a,onFatalError:l===void 0?nh:l},n=R0(e,0,null,n,!1,!1),n.parentFlushed=!0,t=EE(e,t,null,n,h,MN,null,I$),u.push(t),e}function EE(t,e,n,i,r,s,o,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&BN(t)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:s,context:o,treeContext:a};return r.add(l),l}function R0(t,e,n,i,r,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:s}}function od(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function P0(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function i2(t,e,n,i,r){for(Co={},SE=e,sd=0,t=n(i,r);b0;)b0=!1,sd=0,By+=1,Qt=null,t=n(i,r);return ME(),t}function r2(t,e,n,i){var r=n.render(),s=i.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")i=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(St(108,HS(i)||"Unknown",a));i=Mh({},o,n)}e.legacyContext=i,lr(t,e,r),e.legacyContext=o}else lr(t,e,r)}function s2(t,e){if(t&&t.defaultProps){e=Mh({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function GS(t,e,n,i,r){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){r=$P(n,e.legacyContext);var s=n.contextType;s=new n(i,typeof s=="object"&&s!==null?s._currentValue2:r),ZP(s,n,i,r),r2(t,e,s,n)}else{s=$P(n,e.legacyContext),r=i2(t,e,n,i,s);var o=sd!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)ZP(r,n,i,s),r2(t,e,r,n);else if(o){i=e.treeContext,e.treeContext=zS(i,1,0);try{lr(t,e,r)}finally{e.treeContext=i}}else lr(t,e,r)}else if(typeof n=="string"){switch(r=e.blockedSegment,s=M$(r.chunks,n,i,t.responseState,r.formatContext),r.lastPushedText=!1,o=r.formatContext,r.formatContext=_$(o,n,i),VS(t,e,s),r.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push("</",n,">")}r.lastPushedText=!1}else{switch(n){case B$:case P$:case mN:case gN:case pN:lr(t,e,i.children);return;case SN:lr(t,e,i.children);return;case R$:throw Error(St(343));case _N:e:{n=e.blockedBoundary,r=e.blockedSegment,s=i.fallback,i=i.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=R0(t,r.chunks.length,a,r.formatContext,!1,!1);r.children.push(l),r.lastPushedText=!1;var u=R0(t,0,null,r.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(VS(t,e,i),t.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,B0(a,u),a.pendingTasks===0)break e}catch(h){u.status=4,a.forceClientRender=!0,a.errorDigest=od(t,h)}finally{e.blockedBoundary=n,e.blockedSegment=r}e=EE(t,s,n,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xN:if(i=i2(t,e,n.render,i,r),sd!==0){n=e.treeContext,e.treeContext=zS(n,1,0);try{lr(t,e,i)}finally{e.treeContext=n}}else lr(t,e,i);return;case AN:n=n.type,i=s2(n,i),GS(t,e,n,i,r);return;case yN:if(r=i.children,n=n._context,i=i.value,s=n._currentValue2,n._currentValue2=i,o=Rl,Rl=i={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:i},e.context=i,lr(t,e,r),t=Rl,t===null)throw Error(St(403));i=t.parentValue,t.context._currentValue2=i===L$?t.context._defaultValue:i,t=Rl=t.parent,e.context=t;return;case vN:i=i.children,i=i(n._currentValue2),lr(t,e,i);return;case _E:r=n._init,n=r(n._payload),i=s2(n,i),GS(t,e,n,i,void 0);return}throw Error(St(130,n==null?n:typeof n,""))}}function lr(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case b$:GS(t,e,n.type,n.props,n.ref);return;case dN:throw Error(St(257));case _E:var i=n._init;n=i(n._payload),lr(t,e,n);return}if(US(n)){o2(t,e,n);return}if(n===null||typeof n!="object"?i=null:(i=YP&&n[YP]||n["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(n))){if(n=i.next(),!n.done){var r=[];do r.push(n.value),n=i.next();while(!n.done);o2(t,e,r)}return}throw t=Object.prototype.toString.call(n),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(i=e.blockedSegment,i.lastPushedText=KP(e.blockedSegment.chunks,n,t.responseState,i.lastPushedText)):typeof n=="number"&&(i=e.blockedSegment,i.lastPushedText=KP(e.blockedSegment.chunks,""+n,t.responseState,i.lastPushedText))}function o2(t,e,n){for(var i=n.length,r=0;r<i;r++){var s=e.treeContext;e.treeContext=zS(s,i,r);try{VS(t,e,n[r])}finally{e.treeContext=s}}}function VS(t,e,n){var i=e.blockedSegment.formatContext,r=e.legacyContext,s=e.context;try{return lr(t,e,n)}catch(l){if(ME(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=e.blockedSegment,a=R0(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=EE(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,C0(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,C0(s),l}}function V$(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,PN(this,e,t)}function RN(t,e,n){var i=t.blockedBoundary;t.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,t=n===void 0?Error(St(432)):n,i.errorDigest=e.onError(t),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return RN(r,e,n)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function B0(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&B0(t,n)}else t.completedSegments.push(e)}function PN(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(St(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=nh,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&B0(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(V$,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(B0(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function BN(t){if(t.status!==2){var e=Rl,n=w_.current;w_.current=n2;var i=Dg;Dg=t.responseState;try{var r=t.pingedTasks,s;for(s=0;s<r.length;s++){var o=r[s],a=t,l=o.blockedSegment;if(l.status===0){C0(o.context);try{lr(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,PN(a,o.blockedBoundary,l)}catch(v){if(ME(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=o.ping;v.then(u,u)}else{o.abortSet.delete(o),l.status=4;var h=o.blockedBoundary,d=v,p=od(a,d);if(h===null?P0(a,d):(h.pendingTasks--,h.forceClientRender||(h.forceClientRender=!0,h.errorDigest=p,h.parentFlushed&&a.clientRenderedBoundaries.push(h))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}r.splice(0,s),t.destination!==null&&wE(t,t.destination)}catch(v){od(t,v),P0(t,v)}finally{Dg=i,w_.current=n,n===n2&&C0(e)}}}function rg(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=i.toString(16),e.push(t),e.push('"></template>');case 1:n.status=2;var r=!0;i=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(r=n[o];s<r.index;s++)e.push(i[s]);r=Ly(t,e,r)}for(;s<i.length-1;s++)e.push(i[s]);return s<i.length&&(r=e.push(i[s])),r;default:throw Error(St(390))}}function Ly(t,e,n){var i=n.boundary;if(i===null)return rg(t,e,n);if(i.parentFlushed=!0,i.forceClientRender)return t.responseState.generateStaticMarkup||(i=i.errorDigest,e.push("<!--$!-->"),e.push("<template"),i&&(e.push(' data-dgst="'),i=Ri(i),e.push(i),e.push('"')),e.push("></template>")),rg(t,e,n),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<i.pendingTasks){i.rootSegmentID=t.nextSegmentId++,0<i.completedSegments.length&&t.partialBoundaries.push(i);var r=t.responseState,s=r.nextSuspenseID++;return r=r.boundaryPrefix+s.toString(16),i=i.id=r,JP(e,t.responseState,i),rg(t,e,n),e.push("<!--/$-->")}if(i.byteSize>t.progressiveChunkSize)return i.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(i),JP(e,t.responseState,i.id),rg(t,e,n),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),n=i.completedSegments,n.length!==1)throw Error(St(391));return Ly(t,e,n[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function a2(t,e,n){return E$(e,t.responseState,n.formatContext,n.id),Ly(t,e,n),w$(e,n.formatContext)}function l2(t,e,n){for(var i=n.completedSegments,r=0;r<i.length;r++)LN(t,e,n,i[r]);if(i.length=0,t=t.responseState,i=n.id,n=n.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(St(395));return n=n.toString(16),e.push(i),e.push('","'),e.push(t.segmentPrefix),e.push(n),e.push('")<\/script>')}function LN(t,e,n,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=n.rootSegmentID)===-1)throw Error(St(392));return a2(t,e,i)}return a2(t,e,i),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),r=r.toString(16),e.push(r),e.push('","'),e.push(t.placeholderPrefix),e.push(r),e.push('")<\/script>')}function wE(t,e){try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){Ly(t,e,n),t.completedRootSegment=null;var i=t.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)e.push(i[n]);n<i.length&&e.push(i[n])}var r=t.clientRenderedBoundaries,s;for(s=0;s<r.length;s++){var o=r[s];i=e;var a=t.responseState,l=o.id,u=o.errorDigest,h=o.errorMessage,d=o.errorComponentStack;if(i.push(a.startInlineScript),a.sentClientRenderFunction?i.push('$RX("'):(a.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(St(395));if(i.push(l),i.push('"'),u||h||d){i.push(",");var p=E_(u||"");i.push(p)}if(h||d){i.push(",");var m=E_(h||"");i.push(m)}if(d){i.push(",");var v=E_(d);i.push(v)}if(!i.push(")<\/script>")){t.destination=null,s++,r.splice(0,s);return}}r.splice(0,s);var M=t.completedBoundaries;for(s=0;s<M.length;s++)if(!l2(t,e,M[s])){t.destination=null,s++,M.splice(0,s);return}M.splice(0,s);var x=t.partialBoundaries;for(s=0;s<x.length;s++){var g=x[s];e:{r=t,o=e;var _=g.completedSegments;for(a=0;a<_.length;a++)if(!LN(r,o,g,_[a])){a++,_.splice(0,a);var A=!1;break e}_.splice(0,a),A=!0}if(!A){t.destination=null,s++,x.splice(0,s);return}}x.splice(0,s);var E=t.completedBoundaries;for(s=0;s<E.length;s++)if(!l2(t,e,E[s])){t.destination=null,s++,E.splice(0,s);return}E.splice(0,s)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function W$(t,e){try{var n=t.abortableTasks;n.forEach(function(i){return RN(i,t,e)}),n.clear(),t.destination!==null&&wE(t,t.destination)}catch(i){od(t,i),P0(t,i)}}function j$(){}function IN(t,e,n,i){var r=!1,s=null,o="",a={push:function(u){return u!==null&&(o+=u),!0},destroy:function(u){r=!0,s=u}},l=!1;if(t=G$(t,C$(n,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,j$,void 0,function(){l=!0},void 0,void 0),BN(t),W$(t,i),t.status===1)t.status=2,a.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=a;try{wE(t,a)}catch(u){od(t,u),P0(t,u)}}if(r)throw s;if(!l)throw Error(St(426));return o}qc.renderToNodeStream=function(){throw Error(St(207))};qc.renderToStaticMarkup=function(t,e){return IN(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};qc.renderToStaticNodeStream=function(){throw Error(St(208))};qc.renderToString=function(t,e){return IN(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};qc.version="18.2.0";var TE={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=j;function Rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ur=null,cr=0;function Ye(t,e){if(e.length!==0)if(512<e.length)0<cr&&(t.enqueue(new Uint8Array(ur.buffer,0,cr)),ur=new Uint8Array(512),cr=0),t.enqueue(e);else{var n=ur.length-cr;n<e.length&&(n===0?t.enqueue(ur):(ur.set(e.subarray(0,n),cr),t.enqueue(ur),e=e.subarray(n)),ur=new Uint8Array(512),cr=0),ur.set(e,cr),cr+=e.length}}function nn(t,e){return Ye(t,e),!0}function u2(t){ur&&0<cr&&(t.enqueue(new Uint8Array(ur.buffer,0,cr)),ur=null,cr=0)}var FN=new TextEncoder;function Pt(t){return FN.encode(t)}function Ue(t){return FN.encode(t)}function NN(t,e){typeof t.error=="function"?t.error(e):t.close()}var Gi=Object.prototype.hasOwnProperty,X$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c2={},f2={};function kN(t){return Gi.call(f2,t)?!0:Gi.call(c2,t)?!1:X$.test(t)?f2[t]=!0:(c2[t]=!0,!1)}function Ni(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){li[t]=new Ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];li[e]=new Ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){li[t]=new Ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){li[t]=new Ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){li[t]=new Ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){li[t]=new Ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){li[t]=new Ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){li[t]=new Ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){li[t]=new Ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var CE=/[\-:]([a-z])/g;function bE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(CE,bE);li[e]=new Ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(CE,bE);li[e]=new Ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(CE,bE);li[e]=new Ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){li[t]=new Ni(t,1,!1,t.toLowerCase(),null,!1,!1)});li.xlinkHref=new Ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){li[t]=new Ni(t,1,!1,t.toLowerCase(),null,!0,!0)});var Fg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J$=["Webkit","ms","Moz","O"];Object.keys(Fg).forEach(function(t){J$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fg[e]=Fg[t]})});var K$=/["'&<>]/;function ni(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=K$.exec(t);if(e){var n="",i,r=0;for(i=e.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(n+=t.substring(r,i)),r=i+1,n+=e}t=r!==i?n+t.substring(r,i):n}return t}var Y$=/([A-Z])/g,$$=/^ms-/,WS=Array.isArray,Q$=Ue("<script>"),Z$=Ue("<\/script>"),q$=Ue('<script src="'),eQ=Ue('<script type="module" src="'),h2=Ue('" async=""><\/script>'),tQ=/(<\/|<)(s)(cript)/gi;function nQ(t,e,n,i){return""+e+(n==="s"?"\\u0073":"\\u0053")+i}function iQ(t,e,n,i,r){t=t===void 0?"":t,e=e===void 0?Q$:Ue('<script nonce="'+ni(e)+'">');var s=[];if(n!==void 0&&s.push(e,Pt((""+n).replace(tQ,nQ)),Z$),i!==void 0)for(n=0;n<i.length;n++)s.push(q$,Pt(ni(i[n])),h2);if(r!==void 0)for(i=0;i<r.length;i++)s.push(eQ,Pt(ni(r[i])),h2);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:Ue(t+"P:"),segmentPrefix:Ue(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Cs(t,e){return{insertionMode:t,selectedValue:e}}function rQ(t){return Cs(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function sQ(t,e,n){switch(e){case"select":return Cs(1,n.value!=null?n.value:n.defaultValue);case"svg":return Cs(2,null);case"math":return Cs(3,null);case"foreignObject":return Cs(1,null);case"table":return Cs(4,null);case"thead":case"tbody":case"tfoot":return Cs(5,null);case"colgroup":return Cs(7,null);case"tr":return Cs(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Cs(1,null):t}var RE=Ue("<!-- -->");function d2(t,e,n,i){return e===""?i:(i&&t.push(RE),t.push(Pt(ni(e))),!0)}var p2=new Map,oQ=Ue(' style="'),m2=Ue(":"),aQ=Ue(";");function ON(t,e,n){if(typeof n!="object")throw Error(Rt(62));e=!0;for(var i in n)if(Gi.call(n,i)){var r=n[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var s=Pt(ni(i));r=Pt(ni((""+r).trim()))}else{s=i;var o=p2.get(s);o!==void 0||(o=Ue(ni(s.replace(Y$,"-$1").toLowerCase().replace($$,"-ms-"))),p2.set(s,o)),s=o,r=typeof r=="number"?r===0||Gi.call(Fg,i)?Pt(""+r):Pt(r+"px"):Pt(ni((""+r).trim()))}e?(e=!1,t.push(oQ,s,m2,r)):t.push(aQ,s,m2,r)}}e||t.push(gl)}var Qo=Ue(" "),Ju=Ue('="'),gl=Ue('"'),g2=Ue('=""');function or(t,e,n,i){switch(n){case"style":ON(t,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=li.hasOwnProperty(n)?li[n]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=Pt(e.attributeName),e.type){case 3:i&&t.push(Qo,n,g2);break;case 4:i===!0?t.push(Qo,n,g2):i!==!1&&t.push(Qo,n,Ju,Pt(ni(i)),gl);break;case 5:isNaN(i)||t.push(Qo,n,Ju,Pt(ni(i)),gl);break;case 6:!isNaN(i)&&1<=i&&t.push(Qo,n,Ju,Pt(ni(i)),gl);break;default:e.sanitizeURL&&(i=""+i),t.push(Qo,n,Ju,Pt(ni(i)),gl)}}else if(kN(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(Qo,Pt(n),Ju,Pt(ni(i)),gl)}}}var Zo=Ue(">"),y2=Ue("/>");function Ng(t,e,n){if(e!=null){if(n!=null)throw Error(Rt(60));if(typeof e!="object"||!("__html"in e))throw Error(Rt(61));e=e.__html,e!=null&&t.push(Pt(""+e))}}function lQ(t){var e="";return DN.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}var T_=Ue(' selected=""');function C_(t,e,n,i){t.push(bs(n));var r=n=null,s;for(s in e)if(Gi.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":r=o;break;default:or(t,i,s,o)}}return t.push(Zo),Ng(t,r,n),typeof n=="string"?(t.push(Pt(ni(n))),null):n}var b_=Ue(`
`),uQ=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,v2=new Map;function bs(t){var e=v2.get(t);if(e===void 0){if(!uQ.test(t))throw Error(Rt(65,t));e=Ue("<"+t),v2.set(t,e)}return e}var cQ=Ue("<!DOCTYPE html>");function fQ(t,e,n,i,r){switch(e){case"select":t.push(bs("select"));var s=null,o=null;for(h in n)if(Gi.call(n,h)){var a=n[h];if(a!=null)switch(h){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:or(t,i,h,a)}}return t.push(Zo),Ng(t,o,s),s;case"option":o=r.selectedValue,t.push(bs("option"));var l=a=null,u=null,h=null;for(s in n)if(Gi.call(n,s)){var d=n[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":h=d;break;case"value":l=d;default:or(t,i,s,d)}}if(o!=null)if(n=l!==null?""+l:lQ(a),WS(o)){for(i=0;i<o.length;i++)if(""+o[i]===n){t.push(T_);break}}else""+o===n&&t.push(T_);else u&&t.push(T_);return t.push(Zo),Ng(t,h,a),a;case"textarea":t.push(bs("textarea")),h=o=s=null;for(a in n)if(Gi.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":h=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Rt(91));default:or(t,i,a,l)}if(s===null&&o!==null&&(s=o),t.push(Zo),h!=null){if(s!=null)throw Error(Rt(92));if(WS(h)&&1<h.length)throw Error(Rt(93));s=""+h}return typeof s=="string"&&s[0]===`
`&&t.push(b_),s!==null&&t.push(Pt(ni(""+s))),null;case"input":t.push(bs("input")),l=h=a=s=null;for(o in n)if(Gi.call(n,o)&&(u=n[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Rt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":h=u;break;case"value":s=u;break;default:or(t,i,o,u)}return h!==null?or(t,i,"checked",h):l!==null&&or(t,i,"checked",l),s!==null?or(t,i,"value",s):a!==null&&or(t,i,"value",a),t.push(y2),null;case"menuitem":t.push(bs("menuitem"));for(var p in n)if(Gi.call(n,p)&&(s=n[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Rt(400));default:or(t,i,p,s)}return t.push(Zo),null;case"title":t.push(bs("title")),s=null;for(d in n)if(Gi.call(n,d)&&(o=n[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Rt(434));default:or(t,i,d,o)}return t.push(Zo),s;case"listing":case"pre":t.push(bs(e)),o=s=null;for(l in n)if(Gi.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:or(t,i,l,a)}if(t.push(Zo),o!=null){if(s!=null)throw Error(Rt(60));if(typeof o!="object"||!("__html"in o))throw Error(Rt(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(b_,Pt(n)):t.push(Pt(""+n)))}return typeof s=="string"&&s[0]===`
`&&t.push(b_),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(bs(e));for(var m in n)if(Gi.call(n,m)&&(s=n[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Rt(399,e));default:or(t,i,m,s)}return t.push(y2),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return C_(t,n,e,i);case"html":return r.insertionMode===0&&t.push(cQ),C_(t,n,e,i);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return C_(t,n,e,i);t.push(bs(e)),o=s=null;for(u in n)if(Gi.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":ON(t,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:kN(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(Qo,Pt(u),Ju,Pt(ni(a)),gl)}return t.push(Zo),Ng(t,o,s),s}}var hQ=Ue("</"),dQ=Ue(">"),pQ=Ue('<template id="'),mQ=Ue('"></template>'),gQ=Ue("<!--$-->"),yQ=Ue('<!--$?--><template id="'),vQ=Ue('"></template>'),xQ=Ue("<!--$!-->"),_Q=Ue("<!--/$-->"),SQ=Ue("<template"),AQ=Ue('"'),MQ=Ue(' data-dgst="');Ue(' data-msg="');Ue(' data-stck="');var EQ=Ue("></template>");function x2(t,e,n){if(Ye(t,yQ),n===null)throw Error(Rt(395));return Ye(t,n),nn(t,vQ)}var wQ=Ue('<div hidden id="'),TQ=Ue('">'),CQ=Ue("</div>"),bQ=Ue('<svg aria-hidden="true" style="display:none" id="'),RQ=Ue('">'),PQ=Ue("</svg>"),BQ=Ue('<math aria-hidden="true" style="display:none" id="'),LQ=Ue('">'),IQ=Ue("</math>"),DQ=Ue('<table hidden id="'),FQ=Ue('">'),NQ=Ue("</table>"),kQ=Ue('<table hidden><tbody id="'),OQ=Ue('">'),UQ=Ue("</tbody></table>"),HQ=Ue('<table hidden><tr id="'),zQ=Ue('">'),GQ=Ue("</tr></table>"),VQ=Ue('<table hidden><colgroup id="'),WQ=Ue('">'),jQ=Ue("</colgroup></table>");function XQ(t,e,n,i){switch(n.insertionMode){case 0:case 1:return Ye(t,wQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,TQ);case 2:return Ye(t,bQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,RQ);case 3:return Ye(t,BQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,LQ);case 4:return Ye(t,DQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,FQ);case 5:return Ye(t,kQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,OQ);case 6:return Ye(t,HQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,zQ);case 7:return Ye(t,VQ),Ye(t,e.segmentPrefix),Ye(t,Pt(i.toString(16))),nn(t,WQ);default:throw Error(Rt(397))}}function JQ(t,e){switch(e.insertionMode){case 0:case 1:return nn(t,CQ);case 2:return nn(t,PQ);case 3:return nn(t,IQ);case 4:return nn(t,NQ);case 5:return nn(t,UQ);case 6:return nn(t,GQ);case 7:return nn(t,jQ);default:throw Error(Rt(397))}}var KQ=Ue('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),YQ=Ue('$RS("'),$Q=Ue('","'),QQ=Ue('")<\/script>'),ZQ=Ue('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),qQ=Ue('$RC("'),eZ=Ue('","'),tZ=Ue('")<\/script>'),nZ=Ue('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),iZ=Ue('$RX("'),rZ=Ue('"'),sZ=Ue(")<\/script>"),R_=Ue(","),oZ=/[<\u2028\u2029]/g;function P_(t){return JSON.stringify(t).replace(oZ,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Eh=Object.assign,aZ=Symbol.for("react.element"),UN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),zN=Symbol.for("react.strict_mode"),GN=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),jN=Symbol.for("react.forward_ref"),XN=Symbol.for("react.suspense"),JN=Symbol.for("react.suspense_list"),KN=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),lZ=Symbol.for("react.scope"),uZ=Symbol.for("react.debug_trace_mode"),cZ=Symbol.for("react.legacy_hidden"),fZ=Symbol.for("react.default_value"),_2=Symbol.iterator;function jS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case HN:return"Fragment";case UN:return"Portal";case GN:return"Profiler";case zN:return"StrictMode";case XN:return"Suspense";case JN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WN:return(t.displayName||"Context")+".Consumer";case VN:return(t._context.displayName||"Context")+".Provider";case jN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case KN:return e=t.displayName||null,e!==null?e:jS(t.type)||"Memo";case PE:e=t._payload,t=t._init;try{return jS(t(e))}catch{}}return null}var YN={};function S2(t,e){if(t=t.contextTypes,!t)return YN;var n={},i;for(i in t)n[i]=e[i];return n}var Pl=null;function Iy(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(Rt(401))}else{if(n===null)throw Error(Rt(401));Iy(t,n)}e.context._currentValue=e.value}}function $N(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&$N(t)}function QN(t){var e=t.parent;e!==null&&QN(e),t.context._currentValue=t.value}function ZN(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(Rt(402));t.depth===e.depth?Iy(t,e):ZN(t,e)}function qN(t,e){var n=e.parent;if(n===null)throw Error(Rt(402));t.depth===n.depth?Iy(t,n):qN(t,n),e.context._currentValue=e.value}function L0(t){var e=Pl;e!==t&&(e===null?QN(t):t===null?$N(e):e.depth===t.depth?Iy(e,t):e.depth>t.depth?ZN(e,t):qN(e,t),Pl=t)}var A2={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function M2(t,e,n,i){var r=t.state!==void 0?t.state:null;t.updater=A2,t.props=n,t.state=r;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue:i,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,r),r=o==null?r:Eh({},r,o),t.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&A2.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,r=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,n,i):a,a!=null&&(r?(r=!1,s=Eh({},s,a)):Eh(s,a))}t.state=s}else s.queue=null}var hZ={id:1,overflow:""};function XS(t,e,n){var i=t.id;t=t.overflow;var r=32-kg(i)-1;i&=~(1<<r),n+=1;var s=32-kg(e)+r;if(30<s){var o=r-r%5;return s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-kg(e)+r|n<<r|i,overflow:s+t}}return{id:1<<s|n<<r|i,overflow:t}}var kg=Math.clz32?Math.clz32:mZ,dZ=Math.log,pZ=Math.LN2;function mZ(t){return t>>>=0,t===0?32:31-(dZ(t)/pZ|0)|0}function gZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yZ=typeof Object.is=="function"?Object.is:gZ,bo=null,BE=null,Og=null,Zt=null,ih=!1,I0=!1,ad=0,aa=null,Dy=0;function yl(){if(bo===null)throw Error(Rt(321));return bo}function E2(){if(0<Dy)throw Error(Rt(312));return{memoizedState:null,queue:null,next:null}}function LE(){return Zt===null?Og===null?(ih=!1,Og=Zt=E2()):(ih=!0,Zt=Og):Zt.next===null?(ih=!1,Zt=Zt.next=E2()):(ih=!0,Zt=Zt.next),Zt}function IE(){BE=bo=null,I0=!1,Og=null,Dy=0,Zt=aa=null}function ek(t,e){return typeof e=="function"?e(t):e}function w2(t,e,n){if(bo=yl(),Zt=LE(),ih){var i=Zt.queue;if(e=i.dispatch,aa!==null&&(n=aa.get(i),n!==void 0)){aa.delete(i),i=Zt.memoizedState;do i=t(i,n.action),n=n.next;while(n!==null);return Zt.memoizedState=i,[i,e]}return[Zt.memoizedState,e]}return t=t===ek?typeof e=="function"?e():e:n!==void 0?n(e):e,Zt.memoizedState=t,t=Zt.queue={last:null,dispatch:null},t=t.dispatch=vZ.bind(null,bo,t),[Zt.memoizedState,t]}function T2(t,e){if(bo=yl(),Zt=LE(),e=e===void 0?null:e,Zt!==null){var n=Zt.memoizedState;if(n!==null&&e!==null){var i=n[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!yZ(e[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return t=t(),Zt.memoizedState=[t,e],t}function vZ(t,e,n){if(25<=Dy)throw Error(Rt(301));if(t===bo)if(I0=!0,t={action:n,next:null},aa===null&&(aa=new Map),n=aa.get(e),n===void 0)aa.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function xZ(){throw Error(Rt(394))}function sg(){}var C2={readContext:function(t){return t._currentValue},useContext:function(t){return yl(),t._currentValue},useMemo:T2,useReducer:w2,useRef:function(t){bo=yl(),Zt=LE();var e=Zt.memoizedState;return e===null?(t={current:t},Zt.memoizedState=t):e},useState:function(t){return w2(ek,t)},useInsertionEffect:sg,useLayoutEffect:function(){},useCallback:function(t,e){return T2(function(){return t},e)},useImperativeHandle:sg,useEffect:sg,useDebugValue:sg,useDeferredValue:function(t){return yl(),t},useTransition:function(){return yl(),[!1,xZ]},useId:function(){var t=BE.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-kg(t)-1)).toString(32)+e;var n=Ug;if(n===null)throw Error(Rt(404));return e=ad++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return yl(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(Rt(407));return n()}},Ug=null,B_=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function _Z(t){return console.error(t),null}function rh(){}function SZ(t,e,n,i,r,s,o,a,l){var u=[],h=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:h,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?_Z:r,onAllReady:s===void 0?rh:s,onShellReady:o===void 0?rh:o,onShellError:a===void 0?rh:a,onFatalError:l===void 0?rh:l},n=D0(e,0,null,n,!1,!1),n.parentFlushed=!0,t=DE(e,t,null,n,h,YN,null,hZ),u.push(t),e}function DE(t,e,n,i,r,s,o,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&ik(t)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:s,context:o,treeContext:a};return r.add(l),l}function D0(t,e,n,i,r,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:s}}function ld(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function F0(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,NN(t.destination,e)):(t.status=1,t.fatalError=e)}function b2(t,e,n,i,r){for(bo={},BE=e,ad=0,t=n(i,r);I0;)I0=!1,ad=0,Dy+=1,Zt=null,t=n(i,r);return IE(),t}function R2(t,e,n,i){var r=n.render(),s=i.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")i=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Rt(108,jS(i)||"Unknown",a));i=Eh({},o,n)}e.legacyContext=i,fr(t,e,r),e.legacyContext=o}else fr(t,e,r)}function P2(t,e){if(t&&t.defaultProps){e=Eh({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function JS(t,e,n,i,r){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){r=S2(n,e.legacyContext);var s=n.contextType;s=new n(i,typeof s=="object"&&s!==null?s._currentValue:r),M2(s,n,i,r),R2(t,e,s,n)}else{s=S2(n,e.legacyContext),r=b2(t,e,n,i,s);var o=ad!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)M2(r,n,i,s),R2(t,e,r,n);else if(o){i=e.treeContext,e.treeContext=XS(i,1,0);try{fr(t,e,r)}finally{e.treeContext=i}}else fr(t,e,r)}else if(typeof n=="string"){switch(r=e.blockedSegment,s=fQ(r.chunks,n,i,t.responseState,r.formatContext),r.lastPushedText=!1,o=r.formatContext,r.formatContext=sQ(o,n,i),KS(t,e,s),r.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push(hQ,Pt(n),dQ)}r.lastPushedText=!1}else{switch(n){case cZ:case uZ:case zN:case GN:case HN:fr(t,e,i.children);return;case JN:fr(t,e,i.children);return;case lZ:throw Error(Rt(343));case XN:e:{n=e.blockedBoundary,r=e.blockedSegment,s=i.fallback,i=i.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=D0(t,r.chunks.length,a,r.formatContext,!1,!1);r.children.push(l),r.lastPushedText=!1;var u=D0(t,0,null,r.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(KS(t,e,i),u.lastPushedText&&u.textEmbedded&&u.chunks.push(RE),u.status=1,N0(a,u),a.pendingTasks===0)break e}catch(h){u.status=4,a.forceClientRender=!0,a.errorDigest=ld(t,h)}finally{e.blockedBoundary=n,e.blockedSegment=r}e=DE(t,s,n,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jN:if(i=b2(t,e,n.render,i,r),ad!==0){n=e.treeContext,e.treeContext=XS(n,1,0);try{fr(t,e,i)}finally{e.treeContext=n}}else fr(t,e,i);return;case KN:n=n.type,i=P2(n,i),JS(t,e,n,i,r);return;case VN:if(r=i.children,n=n._context,i=i.value,s=n._currentValue,n._currentValue=i,o=Pl,Pl=i={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:i},e.context=i,fr(t,e,r),t=Pl,t===null)throw Error(Rt(403));i=t.parentValue,t.context._currentValue=i===fZ?t.context._defaultValue:i,t=Pl=t.parent,e.context=t;return;case WN:i=i.children,i=i(n._currentValue),fr(t,e,i);return;case PE:r=n._init,n=r(n._payload),i=P2(n,i),JS(t,e,n,i,void 0);return}throw Error(Rt(130,n==null?n:typeof n,""))}}function fr(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case aZ:JS(t,e,n.type,n.props,n.ref);return;case UN:throw Error(Rt(257));case PE:var i=n._init;n=i(n._payload),fr(t,e,n);return}if(WS(n)){B2(t,e,n);return}if(n===null||typeof n!="object"?i=null:(i=_2&&n[_2]||n["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(n))){if(n=i.next(),!n.done){var r=[];do r.push(n.value),n=i.next();while(!n.done);B2(t,e,r)}return}throw t=Object.prototype.toString.call(n),Error(Rt(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(i=e.blockedSegment,i.lastPushedText=d2(e.blockedSegment.chunks,n,t.responseState,i.lastPushedText)):typeof n=="number"&&(i=e.blockedSegment,i.lastPushedText=d2(e.blockedSegment.chunks,""+n,t.responseState,i.lastPushedText))}function B2(t,e,n){for(var i=n.length,r=0;r<i;r++){var s=e.treeContext;e.treeContext=XS(s,i,r);try{KS(t,e,n[r])}finally{e.treeContext=s}}}function KS(t,e,n){var i=e.blockedSegment.formatContext,r=e.legacyContext,s=e.context;try{return fr(t,e,n)}catch(l){if(IE(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=e.blockedSegment,a=D0(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=DE(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,L0(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=s,L0(s),l}}function AZ(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,nk(this,e,t)}function tk(t,e,n){var i=t.blockedBoundary;t.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,t=n===void 0?Error(Rt(432)):n,i.errorDigest=e.onError(t),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return tk(r,e,n)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function N0(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&N0(t,n)}else t.completedSegments.push(e)}function nk(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(Rt(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=rh,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&N0(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(AZ,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(N0(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function ik(t){if(t.status!==2){var e=Pl,n=B_.current;B_.current=C2;var i=Ug;Ug=t.responseState;try{var r=t.pingedTasks,s;for(s=0;s<r.length;s++){var o=r[s],a=t,l=o.blockedSegment;if(l.status===0){L0(o.context);try{fr(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(RE),o.abortSet.delete(o),l.status=1,nk(a,o.blockedBoundary,l)}catch(v){if(IE(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=o.ping;v.then(u,u)}else{o.abortSet.delete(o),l.status=4;var h=o.blockedBoundary,d=v,p=ld(a,d);if(h===null?F0(a,d):(h.pendingTasks--,h.forceClientRender||(h.forceClientRender=!0,h.errorDigest=p,h.parentFlushed&&a.clientRenderedBoundaries.push(h))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}r.splice(0,s),t.destination!==null&&FE(t,t.destination)}catch(v){ld(t,v),F0(t,v)}finally{Ug=i,B_.current=n,n===C2&&L0(e)}}}function og(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,Ye(e,pQ),Ye(e,t.placeholderPrefix),t=Pt(i.toString(16)),Ye(e,t),nn(e,mQ);case 1:n.status=2;var r=!0;i=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(r=n[o];s<r.index;s++)Ye(e,i[s]);r=Fy(t,e,r)}for(;s<i.length-1;s++)Ye(e,i[s]);return s<i.length&&(r=nn(e,i[s])),r;default:throw Error(Rt(390))}}function Fy(t,e,n){var i=n.boundary;if(i===null)return og(t,e,n);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,nn(e,xQ),Ye(e,SQ),i&&(Ye(e,MQ),Ye(e,Pt(ni(i))),Ye(e,AQ)),nn(e,EQ),og(t,e,n);else if(0<i.pendingTasks){i.rootSegmentID=t.nextSegmentId++,0<i.completedSegments.length&&t.partialBoundaries.push(i);var r=t.responseState,s=r.nextSuspenseID++;r=Ue(r.boundaryPrefix+s.toString(16)),i=i.id=r,x2(e,t.responseState,i),og(t,e,n)}else if(i.byteSize>t.progressiveChunkSize)i.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(i),x2(e,t.responseState,i.id),og(t,e,n);else{if(nn(e,gQ),n=i.completedSegments,n.length!==1)throw Error(Rt(391));Fy(t,e,n[0])}return nn(e,_Q)}function L2(t,e,n){return XQ(e,t.responseState,n.formatContext,n.id),Fy(t,e,n),JQ(e,n.formatContext)}function I2(t,e,n){for(var i=n.completedSegments,r=0;r<i.length;r++)rk(t,e,n,i[r]);if(i.length=0,t=t.responseState,i=n.id,n=n.rootSegmentID,Ye(e,t.startInlineScript),t.sentCompleteBoundaryFunction?Ye(e,qQ):(t.sentCompleteBoundaryFunction=!0,Ye(e,ZQ)),i===null)throw Error(Rt(395));return n=Pt(n.toString(16)),Ye(e,i),Ye(e,eZ),Ye(e,t.segmentPrefix),Ye(e,n),nn(e,tZ)}function rk(t,e,n,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=n.rootSegmentID)===-1)throw Error(Rt(392));return L2(t,e,i)}return L2(t,e,i),t=t.responseState,Ye(e,t.startInlineScript),t.sentCompleteSegmentFunction?Ye(e,YQ):(t.sentCompleteSegmentFunction=!0,Ye(e,KQ)),Ye(e,t.segmentPrefix),r=Pt(r.toString(16)),Ye(e,r),Ye(e,$Q),Ye(e,t.placeholderPrefix),Ye(e,r),nn(e,QQ)}function FE(t,e){ur=new Uint8Array(512),cr=0;try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){Fy(t,e,n),t.completedRootSegment=null;var i=t.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)Ye(e,i[n]);n<i.length&&nn(e,i[n])}var r=t.clientRenderedBoundaries,s;for(s=0;s<r.length;s++){var o=r[s];i=e;var a=t.responseState,l=o.id,u=o.errorDigest,h=o.errorMessage,d=o.errorComponentStack;if(Ye(i,a.startInlineScript),a.sentClientRenderFunction?Ye(i,iZ):(a.sentClientRenderFunction=!0,Ye(i,nZ)),l===null)throw Error(Rt(395));Ye(i,l),Ye(i,rZ),(u||h||d)&&(Ye(i,R_),Ye(i,Pt(P_(u||"")))),(h||d)&&(Ye(i,R_),Ye(i,Pt(P_(h||"")))),d&&(Ye(i,R_),Ye(i,Pt(P_(d)))),nn(i,sZ)}r.splice(0,s);var p=t.completedBoundaries;for(s=0;s<p.length;s++)I2(t,e,p[s]);p.splice(0,s),u2(e),ur=new Uint8Array(512),cr=0;var m=t.partialBoundaries;for(s=0;s<m.length;s++){var v=m[s];e:{r=t,o=e;var M=v.completedSegments;for(a=0;a<M.length;a++)if(!rk(r,o,v,M[a])){a++,M.splice(0,a);var x=!1;break e}M.splice(0,a),x=!0}if(!x){t.destination=null,s++,m.splice(0,s);return}}m.splice(0,s);var g=t.completedBoundaries;for(s=0;s<g.length;s++)I2(t,e,g[s]);g.splice(0,s)}finally{u2(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function D2(t,e){try{var n=t.abortableTasks;n.forEach(function(i){return tk(i,t,e)}),n.clear(),t.destination!==null&&FE(t,t.destination)}catch(i){ld(t,i),F0(t,i)}}TE.renderToReadableStream=function(t,e){return new Promise(function(n,i){var r,s,o=new Promise(function(h,d){s=h,r=d}),a=SZ(t,iQ(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),rQ(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var h=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,NN(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{FE(a,d)}catch(p){ld(a,p),F0(a,p)}}},cancel:function(){D2(a)}},{highWaterMark:0});h.allReady=o,n(h)},function(h){o.catch(function(){}),i(h)},r);if(e&&e.signal){var l=e.signal,u=function(){D2(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}ik(a)})};TE.version="18.2.0";var ef,sk;ef=qc,sk=TE;su.version=ef.version;su.renderToString=ef.renderToString;su.renderToStaticMarkup=ef.renderToStaticMarkup;su.renderToNodeStream=ef.renderToNodeStream;su.renderToStaticNodeStream=ef.renderToStaticNodeStream;su.renderToReadableStream=sk.renderToReadableStream;function MZ({message:t}){new Date().getFullYear();const e={contentContainer:{fontFamily:"'Geist', sans-serif",display:"block",width:"fit-content",maxWidth:"600px",marginLeft:"auto",marginRight:"auto",textDecoration:"none"},infoContainer:{fontFamily:"'Geist', sans-serif",fontSize:"16px",fontWeight:"400",textDecoration:"none",h3:{fontWeight:"600",fontSize:"18px",color:"#333333",textDecoration:"none"},p:{fontSize:"16px",display:"block",color:"#333333",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:"0px",marginInlineEnd:"0px",textDecoration:"none"},ul:{display:"block",listStyleType:"disc",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:"0px",marginInlineEnd:"0px",paddingInlineStart:"40px",textDecoration:"none"},li:{fontSize:"16px",marginBottom:"10px",color:"#333333",textDecoration:"none"},a:{fontWeight:"bold",color:"#0070f3",textDecoration:"none"},quotation:{fontSize:"14px",fontStyle:"italic",textAlign:"center",marginTop:"20px",marginBottom:"20px",color:"#555555",textDecoration:"none"}},footer:{fontFamily:"'Geist', sans-serif",display:"block",width:"100%",paddingTop:"30px",header:{width:"fit-content",marginLeft:"auto",marginRight:"auto"},p:{color:"#8c8c8c",fontSize:"14px",lineHeight:"24px",textAlign:"center"},a:{color:"#454545",fontWeight:"bold",textDecoration:"none"},img:{width:"60px",borderTopWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px",borderTopStyle:"solid",borderBottomStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid"}}};return J.jsx(J.Fragment,{children:J.jsxs("div",{style:e.contentContainer,children:[J.jsxs("div",{style:e.infoContainer,children:[J.jsx("h3",{style:e.infoContainer.h3,children:"It's a pleasure to meet you!"}),J.jsx("p",{style:e.infoContainer.p,children:"I've successfully received your email and I'll be working on getting back to you as soon as possible. Don't hesitate to reach me out again if you feel that I can help you with anything else. In the meantime, here's some information you might find useful:"}),J.jsxs("ul",{style:e.infoContainer.ul,children:[J.jsxs("li",{style:e.infoContainer.li,children:[J.jsx("strong",{children:"You'll receive an answer from me within the next 24 hours. "})," Otherwise, please check your spam folder or contact me again. There's also a chance that you've contact me in a non-working hour or day, so please be patient."]}),J.jsxs("li",{style:e.infoContainer.li,children:["I'm sure you are curious about what can I offer and how can I help you. I invite you to check out my social media profiles and my website to learn more about me. Here you have my"," ",J.jsx("a",{style:e.infoContainer.a,href:"https://linkedin.com/in/xlgabriel/",target:"_blank",children:"LinkedIn"})," ","and my"," ",J.jsx("a",{style:e.infoContainer.a,href:"https://github.com/xlgabriel/",target:"_blank",children:"GitHub"})," ","links. Now, take a look at the message I got from you:"]}),J.jsxs("p",{style:e.infoContainer.quotation,children:['"',t,'"']})]}),J.jsx("p",{style:e.infoContainer.p,children:"I'm glad you're interested to get to know me better. I'm looking forward to our conversation! Remember, I'm here to help you with anything you need."}),J.jsx("p",{style:e.infoContainer.p,children:"Best regards,"})]}),J.jsxs("footer",{style:e.footer,children:[J.jsx("div",{style:e.footer.header,children:J.jsx("a",{style:e.footer.a,href:"https://xlgabriel.github.io/portfolio/",target:"_blank","data-saferedirecturl":"https://xlgabriel.github.io/portfolio/",rel:"noreferrer nowrapper",children:J.jsx("img",{style:e.footer.img,src:"https://i.imgur.com/5yKGKVx.gif",alt:"Pepeprogramming"})})}),J.jsxs("p",{style:e.footer.p,children:[J.jsx("a",{style:e.footer.a,href:"",children:"Gabriel Jeannot"})," ",J.jsx("br",{}),"Feel free to reply to this email if you have any questions or concerns."]})]})]})})}const EZ=()=>{const t=j.useRef(),[e,n]=j.useState({name:"",email:"",message:""}),[i,r]=j.useState(!1),[s,o]=j.useState(!1),[a,l]=j.useState({name:!1,email:!1,message:!1}),u=su.renderToString(J.jsx(MZ,{message:e.message})),h={subject:`Thank You for Contacting me, ${e.name.split(" ")[0]} 🚀`,from:"Gabriel Jeannot",receiverEmail1:"gabriel.jeannot.personal@gmail.com"},d=m=>{const{target:v}=m,{name:M,value:x}=v;n({...e,[M]:x})},p=m=>{m.preventDefault();let v=!1;const M={name:e.name==="",email:e.email==="",message:e.message===""};if((M.name||M.email||M.message)&&(v=!0),l(M),v)return;r(!0);const x={name:e.name,email:e.email,companyId:"Gabriel",office:"Portfolio",emailConfig:h,htmlContactTemplate:u};fetch("https://videface-server-cars-mqx4ohbz2q-ue.a.run.app/send-contact-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}).then(g=>g.json()).then(()=>{r(!1),o(!0),n({name:"",email:"",message:""})},g=>{r(!1),console.error(g),alert("Ahh, something went wrong. Kindly notify me that the email service is not working so I can fix it ASAP!")})};return J.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[J.jsxs(si.div,{variants:HP("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[J.jsx("p",{className:ii.sectionSubText,children:"Get in touch"}),J.jsx("h3",{className:ii.sectionHeadText,children:"Contact me."}),J.jsxs("form",{ref:t,onSubmit:p,className:"mt-12 flex flex-col gap-8",children:[J.jsxs("label",{className:"flex flex-col",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),J.jsx("input",{type:"text",name:"name",value:e.name,onChange:d,placeholder:"Nice to meet you! 🤝",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${a.name?"border-red-500":""}`}),a.name&&J.jsx("span",{className:"text-red-500",children:"Please, write your name here."})]}),J.jsxs("label",{className:"flex flex-col",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your email"}),J.jsx("input",{type:"email",name:"email",value:e.email,onChange:d,placeholder:"Won't spam you! 🙌",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${a.email?"border-red-500":""}`}),a.email&&J.jsx("span",{className:"text-red-500",children:"Don't forget to write your email."})]}),J.jsxs("label",{className:"flex flex-col",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),J.jsx("textarea",{rows:7,name:"message",value:e.message,onChange:d,placeholder:"What you want to say?",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${a.message?"border-red-500":""}`}),a.message&&J.jsx("span",{className:"text-red-500",children:"The message can't be empty. Please, don't be shy!"})]}),J.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",disabled:s,children:i?"Sending...":s?"Email sent successfully 🚀":"Send"})]})]}),J.jsx(si.div,{variants:HP("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:J.jsx(Qj,{})})]})},wZ=jd(EZ,"contact"),TZ=()=>J.jsx(VH,{children:J.jsxs("div",{className:"relative z-0 bg-primary",children:[J.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[J.jsx(NY,{}),J.jsx(gY,{})]}),J.jsx(WY,{}),J.jsx(f$,{}),J.jsx(l$,{}),J.jsx(p$,{}),J.jsxs("div",{className:"relative z-0",children:[J.jsx(wZ,{}),J.jsx(lX,{})]})]})});L_.createRoot(document.getElementById("root")).render(J.jsx(O0.StrictMode,{children:J.jsx(TZ,{})}));
